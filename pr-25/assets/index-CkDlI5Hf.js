(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eruda$1={exports:{}};/*! eruda v3.4.3 https://eruda.liriliri.io/ */(function(module,exports$1){(function(n,t){module.exports=t()})(self,function(){return function(){var __webpack_modules__={8:function(n,t){t=function(i){var a,s,l=i[0]/255,c=i[1]/255,d=i[2]/255,f=e(l,c,d),p=r(l,c,d),g=p-f;(a=e(60*(a=p===f?0:l===p?(c-d)/g:c===p?2+(d-l)/g:4+(l-c)/g),360))<0&&(a+=360);var y=(f+p)/2;s=p===f?0:y<=.5?g/(p+f):g/(2-p-f);var m=[o(a),o(100*s),o(100*y)];return i[3]&&(m[3]=i[3]),m};var e=Math.min,r=Math.max,o=Math.round;n.exports=t},15:function(n,t,e){var r=e(5651),o=e(8971);t=function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r(l,i);var c=l.ellipsis,d=l.separator;if(s>a.length)return a;var f=s-c.length;if(f<1)return c;var p=a.slice(0,f);if(o(d))return p+c;if(a.indexOf(d,f)!==f){var g=p.lastIndexOf(d);g>-1&&(p=p.slice(0,g))}return p+c};var i={ellipsis:"..."};n.exports=t},21:function(n,t,e){var r=e(2717),o=e(1738),i=e(9100),a=e(8178),s=new(t=r({className:"Select",initialize:function(l){return this.length=0,l?o(l)?s.find(l):void(l.nodeType&&(this[0]=l,this.length=1)):this},find:function(l){var c=new t;return this.each(function(){a(c,this.querySelectorAll(l))}),c},each:function(l){return i(this,function(c,d){l.call(c,d,c)}),this}}))(document);n.exports=t},96:function(n,t,e){var r=e(2561);t=function(o){return r(o).toLocaleLowerCase()},n.exports=t},128:function(n,t,e){e.d(t,{A:function(){return ot}});var r=e(3029),o=e(2901),i=e(388),a=e(3954),s=e(5361),l=e(3915),c=e.n(l),d=e(6097),f=e.n(d),p=e(1738),g=e.n(p),y=e(4994),m=e.n(y),w=e(9405),h=e.n(w),v=e(5169),_=e.n(v),S=e(9548),B=e.n(S),$=e(3249),x=e.n($),G=e(6030),te=e.n(G),ee=e(5004),de=e.n(ee);e(9410),e(8609);function ve(ye){var ne="luna-".concat(ye,"-");function J(M){return c()(h()(M).split(/\s+/),function(ae){return x()(ae,ne)?ae:ae.replace(/[\w-]+/,function(H){return"".concat(ne).concat(H)})}).join(" ")}return function(M){if(/<[^>]*>/g.test(M))try{var ae=B().parse(M);return Y(ae,function(H){H.attrs&&H.attrs.class&&(H.attrs.class=J(H.attrs.class))}),B().stringify(ae)}catch{return J(M)}return J(M)}}function Y(ye,ne){for(var J=0,M=ye.length;J<M;J++){var ae=ye[J];ne(ae),ae.content&&Y(ae.content,ne)}}_();function z(ye){return te()(ye.replace("px",""))}var D=e(2263),N=e.n(D),j=e(3693),P=e.n(j),E=e(9100),K=e.n(E),q=e(8105),Ae=e.n(q),_e=e(5651),Ce=e.n(_e),Z=e(961),fe=e.n(Z),Me=e(7e3),Pe=e.n(Me),He=e(1009),Ye=e.n(He);function Xe(){try{var ye=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xe=function(){return!!ye})()}var qe=function(ye){function ne(J,M){var ae,H,he=M.compName,Te=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,oe=Te===void 0?"light":Te;return(0,r.A)(this,ne),ae=function(re,le,Ie){return le=(0,a.A)(le),(0,i.A)(re,Xe()?Reflect.construct(le,[],(0,a.A)(re).constructor):le.apply(re,Ie))}(this,ne),ae.subComponents=[],ae.theme="",ae.onThemeChange=function(re){ae.options.theme==="auto"&&ae.setTheme(re)},ae.compName=he,ae.c=ve(he),ae.options={},ae.container=J,ae.$container=P()(J),ae.$container.addClass(["luna-".concat(he),ae.c("platform-".concat((H=de()(),H==="os x"?"mac":H)))]),ae.on("changeOption",function(re,le){if(re==="theme"&&le){var Ie=le;le==="auto"&&(Ie=Pe().get()),ae.setTheme(Ie),K()(ae.subComponents,function(Be){return Be.setOption("theme",le)})}}),Pe().on("change",ae.onThemeChange),ae.setOption("theme",oe),ae}return(0,s.A)(ne,ye),(0,o.A)(ne,[{key:"destroy",value:function(){var J=this;this.destroySubComponents();var M=this.$container,ae=M.attr("class");K()(ae.split(/\s+/),function(H){Ye()(H,"luna-".concat(J.compName))&&M.rmClass(H)}),M.html(""),this.emit("destroy"),this.removeAllListeners(),Pe().off("change",this.onThemeChange)}},{key:"setOption",value:function(J,M){var ae=this,H=this.options,he={};typeof J=="string"?he[J]=M:he=J,K()(he,function(Te,oe){var re=H[oe];H[oe]=Te,Te!==re&&ae.emit("changeOption",oe,Te,re)})}},{key:"getOption",value:function(J){return this.options[J]}},{key:"addSubComponent",value:function(J){J.setOption("theme",this.options.theme),this.subComponents.push(J)}},{key:"removeSubComponent",value:function(J){fe()(this.subComponents,function(M){return M===J})}},{key:"destroySubComponents",value:function(){K()(this.subComponents,function(J){return J.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(J){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ce()(J,M),Ae()(this.options,J)}},{key:"find",value:function(J){return this.$container.find(this.c(J))}},{key:"setTheme",value:function(J){var M=this.c,ae=this.$container;this.theme&&ae.rmClass(M("theme-".concat(this.theme))),ae.addClass(M("theme-".concat(J))),this.theme=J}}])}(N());function tt(){try{var ye=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tt=function(){return!!ye})()}n=e.hmd(n);var ot=function(ye){function ne(J){var M,ae,H,he,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(this,ne),ae=this,H=ne,he=[J,{compName:"box-model"}],H=(0,a.A)(H),(M=(0,i.A)(ae,tt()?Reflect.construct(H,he||[],(0,a.A)(ae).constructor):H.apply(ae,he))).initOptions(Te),M.options.element&&M.render(),M.bindEvent(),M}return(0,s.A)(ne,ye),(0,o.A)(ne,[{key:"bindEvent",value:function(){var J=this;this.on("changeOption",function(M){M==="element"&&J.render()})}},{key:"render",value:function(){var J=this,M=this.c,ae=this.$container,H=this.getBoxModelData();ae.html([H.position?'<div class="'.concat(M("position"),'">'):"",H.position?'<div class="'.concat(M("label"),'">position</div><div class="').concat(M("top"),'">').concat(H.position.top,'</div><br><div class="').concat(M("left"),'">').concat(H.position.left,"</div>"):"",'<div class="'.concat(M("margin"),'">'),'<div class="'.concat(M("label"),'">margin</div><div class="').concat(M("top"),'">').concat(H.margin.top,'</div><br><div class="').concat(M("left"),'">').concat(H.margin.left,"</div>"),'<div class="'.concat(M("border"),'">'),'<div class="'.concat(M("label"),'">border</div><div class="').concat(M("top"),'">').concat(H.border.top,'</div><br><div class="').concat(M("left"),'">').concat(H.border.left,"</div>"),'<div class="'.concat(M("padding"),'">'),'<div class="'.concat(M("label"),'">padding</div><div class="').concat(M("top"),'">').concat(H.padding.top,'</div><br><div class="').concat(M("left"),'">').concat(H.padding.left,"</div>"),'<div class="'.concat(M("content"),'">'),"<span>".concat(H.content.width,"</span>&nbsp;×&nbsp;<span>").concat(H.content.height,"</span>"),"</div>",'<div class="'.concat(M("right"),'">').concat(H.padding.right,'</div><br><div class="').concat(M("bottom"),'">').concat(H.padding.bottom,"</div>"),"</div>",'<div class="'.concat(M("right"),'">').concat(H.border.right,'</div><br><div class="').concat(M("bottom"),'">').concat(H.border.bottom,"</div>"),"</div>",'<div class="'.concat(M("right"),'">').concat(H.margin.right,'</div><br><div class="').concat(M("bottom"),'">').concat(H.margin.bottom,"</div>"),"</div>",H.position?'<div class="'.concat(M("right"),'">').concat(H.position.right,'</div><br><div class="').concat(M("bottom"),'">').concat(H.position.bottom,"</div>"):"",H.position?"</div>":""].join(""));var he=this.find(".margin"),Te=this.find(".border"),oe=this.find(".padding"),re=this.find(".content"),le=function(){he.addClass(M("highlighted")),Te.addClass(M("highlighted")),oe.addClass(M("highlighted")),re.addClass(M("highlighted"))};le();var Ie=function(st){var pt;switch(J.find(".highlighted").rmClass(M("highlighted")),st){case"margin":pt=he;break;case"border":pt=Te;break;case"padding":pt=oe;break;default:pt=re}pt.addClass(M("highlighted")),J.emit("highlight",st)},Be=m()(Ie,this,"margin"),Ke=m()(Ie,this,"border"),Je=m()(Ie,this,"padding"),Ze=m()(Ie,this,"content");he.on("mouseenter",Be).on("mouseleave",function(){le(),J.emit("highlight","all")}),Te.on("mouseenter",Ke).on("mouseleave",Be),oe.on("mouseenter",Je).on("mouseleave",Ke),re.on("mouseenter",Ze).on("mouseleave",Je)}},{key:"getBoxModelData",value:function(){var J=this.options.element,M=window.getComputedStyle(J);function ae(Be){var Ke=["top","left","right","bottom"];return Be!=="position"&&(Ke=c()(Ke,function(Je){return"".concat(Be,"-").concat(Je)})),Be==="border"&&(Ke=c()(Ke,function(Je){return"".concat(Je,"-width")})),{top:be(M[Ke[0]],Be),left:be(M[Ke[1]],Be),right:be(M[Ke[2]],Be),bottom:be(M[Ke[3]],Be)}}var H,he,Te,oe,re,le,Ie={margin:ae("margin"),border:ae("border"),padding:ae("padding"),content:(H=J,he=window.getComputedStyle(H),Te=z(he.paddingLeft)+z(he.paddingRight),oe=z(he.paddingTop)+z(he.paddingBottom),re=z(he.borderLeftWidth)+z(he.borderRightWidth),le=z(he.borderTopWidth)+z(he.borderBottomWidth),{width:be(H.offsetWidth-Te-re),height:be(H.offsetHeight-oe-le)})};return M.position!=="static"&&(Ie.position=ae("position")),Ie}}])}(qe);function be(ye,ne){if(f()(ye))return ye;if(!g()(ye))return"‒";var J=z(ye);return isNaN(J)?ye:ne==="position"?J:J===0?"‒":J}(function(ye,ne){try{ye.exports=ne,ye.exports.default=ne}catch{}})(n,ot)},162:function(n,t){var e=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,f=d&&c[d],p=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&p>=c.length&&(c=void 0),{value:c&&c[p++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(c,d){var f=typeof Symbol=="function"&&c[Symbol.iterator];if(!f)return c;var p,g,y=f.call(c),m=[];try{for(;(d===void 0||d-- >0)&&!(p=y.next()).done;)m.push(p.value)}catch(w){g={error:w}}finally{try{p&&!p.done&&(f=y.return)&&f.call(y)}finally{if(g)throw g.error}}return m},o=this&&this.__spreadArray||function(c,d,f){if(f||arguments.length===2)for(var p,g=0,y=d.length;g<y;g++)!p&&g in d||(p||(p=Array.prototype.slice.call(d,0,g)),p[g]=d[g]);return c.concat(p||Array.prototype.slice.call(d))};Object.defineProperty(t,"__esModule",{value:!0}),t.adoptStyleSheet=t.constrainNumber=t.ellipsify=t.createElement=t.createTextChild=t.createChild=t.log=t.Overlay=void 0;var i=function(){function c(d,f){f===void 0&&(f=[]),this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=d,this._document=d.document,Array.isArray(f)||(f=[f]),this.style=f}return c.prototype.setCanvas=function(d){this.canvas=d,this._context=d.getContext("2d")},c.prototype.install=function(){var d,f;try{for(var p=e(this.style),g=p.next();!g.done;g=p.next())l(g.value)}catch(y){d={error:y}}finally{try{g&&!g.done&&(f=p.return)&&f.call(p)}finally{if(d)throw d.error}}this._installed=!0},c.prototype.uninstall=function(){var d,f,p=function(m){document.adoptedStyleSheets=document.adoptedStyleSheets.filter(function(w){return w!==m})};try{for(var g=e(this.style),y=g.next();!y.done;y=g.next())p(y.value)}catch(m){d={error:m}}finally{try{y&&!y.done&&(f=g.return)&&f.call(g)}finally{if(d)throw d.error}}this._installed=!1},c.prototype.reset=function(d){d&&(this.viewportSize=d.viewportSize,this.visualViewportSize=d.visualViewportSize,this.deviceScaleFactor=d.deviceScaleFactor,this.pageScaleFactor=d.pageScaleFactor,this.pageZoomFactor=d.pageZoomFactor,this.emulationScaleFactor=d.emulationScaleFactor,this.scrollX=Math.round(d.scrollX),this.scrollY=Math.round(d.scrollY)),this.resetCanvas()},c.prototype.resetCanvas=function(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)},c.prototype.setPlatform=function(d){this.platform=d,this._installed||this.install()},c.prototype.dispatch=function(d){this[d.shift()].apply(this,d)},c.prototype.eventHasCtrlOrMeta=function(d){return this.platform==="mac"?d.metaKey&&!d.ctrlKey:d.ctrlKey&&!d.metaKey},Object.defineProperty(c.prototype,"context",{get:function(){if(!this._context)throw new Error("Context object is missing");return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"document",{get:function(){if(!this._document)throw new Error("Document object is missing");return this._document},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"window",{get:function(){if(!this._window)throw new Error("Window object is missing");return this._window},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"installed",{get:function(){return this._installed},enumerable:!1,configurable:!0}),c}();function a(c,d,f){var p=s(d,f);return p.addEventListener("click",function(g){g.stopPropagation()},!1),c.appendChild(p),p}function s(c,d){var f=document.createElement(c);if(d){var p=d.split(/\s+/);p=p.map(function(g){return"luna-dom-highlighter-"+g}),f.className=p.join(" ")}return f}function l(c){document.adoptedStyleSheets=o(o([],r(document.adoptedStyleSheets),!1),[c],!1)}t.Overlay=i,t.log=function(c){var d=document.getElementById("log");d||((d=a(document.body,"div")).id="log"),a(d,"div").textContent=c},t.createChild=a,t.createTextChild=function(c,d){var f=document.createTextNode(d);return c.appendChild(f),f},t.createElement=s,t.ellipsify=function(c,d){return c.length<=d?String(c):c.substr(0,d-1)+"…"},t.constrainNumber=function(c,d,f){return c<d?c=d:c>f&&(c=f),c},t.adoptStyleSheet=l},187:function(n,t,e){(t=e(6314)(!1)).push([n.id,'.luna-setting{min-width:320px;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-setting .luna-setting-hidden,.luna-setting.luna-setting-hidden{display:none}.luna-setting .luna-setting-invisible,.luna-setting.luna-setting-invisible{visibility:hidden}.luna-setting *{box-sizing:border-box}.luna-setting.luna-setting-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:rgba(0,0,0,0)}.luna-setting-item.luna-setting-selected:focus{outline:1px solid}.luna-setting-item .luna-setting-title{line-height:1.4em;font-weight:600}.luna-setting-item .luna-setting-description,.luna-setting-item.luna-setting-item-markdown{line-height:1.4em}.luna-setting-item .luna-setting-description *,.luna-setting-item.luna-setting-item-markdown *{margin:0}.luna-setting-item .luna-setting-description strong,.luna-setting-item.luna-setting-item-markdown strong{font-weight:600}.luna-setting-item .luna-setting-description a,.luna-setting-item.luna-setting-item-markdown a{background-color:rgba(0,0,0,0);text-decoration:none}.luna-setting-item .luna-setting-control,.luna-setting-item .luna-setting-description{font-size:12px}.luna-setting-item .luna-setting-description{margin-bottom:8px}.luna-setting-item .luna-setting-control{display:flex;align-items:center}.luna-setting-item-button,.luna-setting-item-checkbox,.luna-setting-item-input,.luna-setting-item-markdown,.luna-setting-item-number,.luna-setting-item-select,.luna-setting-item-title{padding:10px}.luna-setting-item-title{font-weight:600}.luna-setting-item-title.luna-setting-level-1{font-size:18px}.luna-setting-item-title.luna-setting-level-2{font-size:16px}.luna-setting-item-title.luna-setting-level-3{font-size:14px}.luna-setting-item-input.luna-setting-disabled input{opacity:.6}.luna-setting-item-input input{-webkit-tap-highlight-color:transparent;color:rgba(0,0,0,.88);-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid;outline:0;padding:2px 8px;border-radius:2px;font-size:14px;width:100%}.luna-setting-item-number.luna-setting-disabled .luna-setting-range-container,.luna-setting-item-number.luna-setting-disabled input{opacity:.6}.luna-setting-item-number.luna-setting-disabled .luna-setting-range-container input{opacity:1}.luna-setting-item-number input[type=number]{-webkit-tap-highlight-color:transparent;color:rgba(0,0,0,.88);-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid;outline:0;padding:2px 8px;border-radius:2px;font-size:14px;width:200px;padding:2px}.luna-setting-item-number .luna-setting-range-container{flex:2;position:relative;top:1px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track{height:4px;width:100%;padding:0 10px;position:absolute;left:0;top:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{border-radius:2px;overflow:hidden;width:100%;height:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{height:100%;width:50%}.luna-setting-item-number .luna-setting-range-container input{-webkit-appearance:none;background:rgba(0,0,0,0);height:4px;width:100%;position:relative;top:-3px;margin:0 auto;outline:0;border-radius:2px}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{-webkit-appearance:none;position:relative;top:0;z-index:1;width:16px;border:none;height:16px;border-radius:10px;border:1px solid}.luna-setting-item-checkbox.luna-setting-disabled .luna-setting-control{opacity:.6}.luna-setting-item-checkbox input{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;border:1px solid;border-radius:0;position:relative;outline:0;margin-left:0;margin-right:8px;transition:background-color .1s;align-self:flex-start;flex-shrink:0}.luna-setting-item-checkbox input:checked:after{content:"";width:100%;height:100%;position:absolute;left:0;top:0;background-image:url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4PSIwcHgiIHk9IjBweCI+PHRpdGxlPmljb25fYnlfUG9zaGx5YWtvdjEwPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjZmZmZmZmIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDI2LjAwMDAwMCkiPjxwYXRoIGQ9Ik0xNy45OTk5ODc4LDMyLjQgTDEwLjk5OTk4NzgsMjUuNCBDMTAuMjI2Nzg5MSwyNC42MjY4MDE0IDguOTczMTg2NDQsMjQuNjI2ODAxNCA4LjE5OTk4Nzc5LDI1LjQgTDguMTk5OTg3NzksMjUuNCBDNy40MjY3ODkxNCwyNi4xNzMxOTg2IDcuNDI2Nzg5MTQsMjcuNDI2ODAxNCA4LjE5OTk4Nzc5LDI4LjIgTDE2LjU4NTc3NDIsMzYuNTg1Nzg2NCBDMTcuMzY2ODIyOCwzNy4zNjY4MzUgMTguNjMzMTUyOCwzNy4zNjY4MzUgMTkuNDE0MjAxNCwzNi41ODU3ODY0IEw0MC41OTk5ODc4LDE1LjQgQzQxLjM3MzE4NjQsMTQuNjI2ODAxNCA0MS4zNzMxODY0LDEzLjM3MzE5ODYgNDAuNTk5OTg3OCwxMi42IEw0MC41OTk5ODc4LDEyLjYgQzM5LjgyNjc4OTEsMTEuODI2ODAxNCAzOC41NzMxODY0LDExLjgyNjgwMTQgMzcuNzk5OTg3OCwxMi42IEwxNy45OTk5ODc4LDMyLjQgWiI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-size:30px;background-repeat:no-repeat;background-position:center}.luna-setting-item-checkbox label{-webkit-tap-highlight-color:transparent}.luna-setting-item-checkbox label *{margin:0}.luna-setting-item-select.luna-setting-disabled .luna-setting-select{opacity:.6}.luna-setting-item-select .luna-setting-select{position:relative}.luna-setting-item-select .luna-setting-select select{margin:0;font-size:14px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid;padding:2px 8px;padding-right:18px;outline:0;border-radius:2px;-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:0;bottom:0;right:6px;margin:auto;pointer-events:none}.luna-setting-item-select .luna-setting-select select{width:300px}.luna-setting-item-button button{-webkit-tap-highlight-color:transparent;border:1px solid;padding:2px 8px;font-size:14px;border-radius:2px}.luna-setting-item-button button:active{border:1px solid}.luna-setting-item-separator{border-bottom:1px solid}.luna-setting-theme-light .luna-setting-item.luna-setting-selected,.luna-setting-theme-light .luna-setting-item:hover{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-setting-theme-light .luna-setting-item.luna-setting-selected:focus{outline-color:#1a73e8;outline-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item .luna-setting-description a,.luna-setting-theme-light .luna-setting-item.luna-setting-item-markdown a{color:#1a73e8;color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-separator{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-input input{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-checkbox input{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-checkbox input:checked{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8);border-color:#1a73e8;border-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-select .luna-setting-select select{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-select .luna-setting-select:after{border-top-color:rgba(0,0,0,.88);border-top-color:var(--luna-color-text,rgba(0,0,0,.88))}.luna-setting-theme-light .luna-setting-item-button button{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);color:#1a73e8;color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-button button:active,.luna-setting-theme-light .luna-setting-item-button button:hover{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-setting-theme-light .luna-setting-item-button button:active{border-color:#1a73e8;border-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-number input[type=number]{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background-color:#d9d9d9;background-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);background:radial-gradient(circle at center,#eee 0,#eee 15%,#fff 22%,#fff 100%)}.luna-setting-theme-dark .luna-setting-item.luna-setting-selected,.luna-setting-theme-dark .luna-setting-item:hover{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-setting-theme-dark .luna-setting-item.luna-setting-selected:focus{outline-color:#1965c8;outline-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item .luna-setting-description a,.luna-setting-theme-dark .luna-setting-item.luna-setting-item-markdown a{color:#1965c8;color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-separator{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-input input{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-checkbox input{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-checkbox input:checked{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8);border-color:#1965c8;border-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select select{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select:after{border-top-color:hsla(0,0%,100%,.85);border-top-color:var(--luna-color-text,rgba(255,255,255,.85))}.luna-setting-theme-dark .luna-setting-item-button button{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);border-color:#424242;border-color:var(--luna-color-border,#424242);color:#1965c8;color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-button button:active,.luna-setting-theme-dark .luna-setting-item-button button:hover{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-setting-theme-dark .luna-setting-item-button button:active{border-color:#1965c8;border-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-number input[type=number]{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background-color:#424242;background-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#424242;border-color:var(--luna-color-border,#424242);background:radial-gradient(circle at center,#aaa 0,#aaa 15%,#ccc 22%,#ccc 100%)}',""]),n.exports=t},199:function(n,t,e){var r=e(3089),o=e(7468);t=function(i){return i=r({},i),function(a){return o(a,i)}},n.exports=t},282:function(n,t,e){var r=e(438),o=e(9405),i=e(3915),a=e(769);t=function(l){var c=a(l.match(s));return r(i(c,function(d){return o(d)}))};var s=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;n.exports=t},311:function(n,t,e){var r=e(3957),o=e(9993),i=e(5651),a=e(9760),s=e(7257);function l(c,d,f,p){return r(d)&&(p=f,f=d,d={}),{url:c,data:d,success:f,dataType:p}}(t=function(c){i(c,t.setting);var d,f=c.type,p=c.url,g=c.data,y=c.dataType,m=c.success,w=c.error,h=c.timeout,v=c.complete,_=c.xhr();return _.onreadystatechange=function(){if(_.readyState===4){var S;clearTimeout(d);var B=_.status;if(B>=200&&B<300||B===304){S=_.responseText,y==="xml"&&(S=_.responseXML);try{y==="json"&&(S=JSON.parse(S))}catch{}m(S,_)}else w(_);v(_)}},f==="GET"?(g=s.stringify(g))&&(p+=p.indexOf("?")>-1?"&"+g:"?"+g):c.contentType==="application/x-www-form-urlencoded"?a(g)&&(g=s.stringify(g)):c.contentType==="application/json"&&a(g)&&(g=JSON.stringify(g)),_.open(f,p,!0),_.setRequestHeader("Content-Type",c.contentType),h>0&&(d=setTimeout(function(){_.onreadystatechange=o,_.abort(),w(_,"timeout"),v(_)},h)),_.send(f==="GET"?null:g),_}).setting={type:"GET",success:o,error:o,complete:o,dataType:"json",contentType:"application/x-www-form-urlencoded",data:{},xhr:function(){return new XMLHttpRequest},timeout:0},t.get=function(){return t(l.apply(null,arguments))},t.post=function(){var c=l.apply(null,arguments);return c.type="POST",t(c)},n.exports=t},365:function(n,t){var e=Object.prototype.hasOwnProperty;t=function(r,o){return e.call(r,o)},n.exports=t},383:function(n,t,e){var r=e(3497),o=e(1849),i=e(1009),a=e(96);t=function(p,g){for(var y,m=[],w=p;p;){if(y=!0,r(m)&&f[r(m)]){var h=new RegExp("</".concat(r(m),"[^>]*>")).exec(p);if(h){var v=p.substring(0,h.index);p=p.substring(h.index+h[0].length),v&&g.text&&g.text(v)}ee("",r(m))}else{if(i(p,"<!--")){var _=p.indexOf("-->");_>=0&&(g.comment&&g.comment(p.substring(4,_)),p=p.substring(_+3),y=!1)}else if(i(p,"<!")){var S=p.match(s);S&&(g.text&&g.text(p.substring(0,S[0].length)),p=p.substring(S[0].length),y=!1)}else if(i(p,"</")){var B=p.match(l);B&&(p=p.substring(B[0].length),B[0].replace(l,ee),y=!1)}else if(i(p,"<")){var $=p.match(c);$&&(p=p.substring($[0].length),$[0].replace(c,te),y=!1)}if(y){var x=p.indexOf("<"),G=x<0?p:p.substring(0,x);p=x<0?"":p.substring(x),g.text&&g.text(G)}}if(w===p)throw Error("Parse Error: "+p);w=p}function te(de,ve,Y,z){if(ve=a(ve),(z=!!z)||m.push(ve),g.start){var D={};Y.replace(d,function(N,j,P,E,K){D[j]=P||E||K||""}),g.start(ve,D,z)}}function ee(de,ve){var Y;if(ve=a(ve))for(Y=m.length-1;Y>=0&&m[Y]!==ve;Y--);else Y=0;if(Y>=0){for(var z=m.length-1;z>=Y;z--)g.end&&g.end(m[z]);m.length=Y}}ee()};var s=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,l=/^<\/([-A-Za-z0-9_]+)[^>]*>/,c=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,d=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=o("script,style".split(","));n.exports=t},387:function(n,t,e){var r=e(6833);function o(i,a){this[a]=i.replace(/\w/,function(s){return s.toUpperCase()})}t=function(i){var a=r(i),s=a[0];return a.shift(),a.forEach(o,a),s+=a.join("")},n.exports=t},388:function(n,t,e){e.d(t,{A:function(){return o}});var r=e(2284);function o(i,a){if(a&&((0,r.A)(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(i)}},438:function(n,t,e){var r=e(2571);function o(i,a){return i===a}t=function(i,a){return a=a||o,r(i,function(s,l,c){for(var d=c.length;++l<d;)if(a(s,c[l]))return!1;return!0})},n.exports=t},466:function(n,t,e){var r=e(2510),o=e(2971),i=e(2571),a=e(3249);t=r(function(s,l){return l=o(l),i(s,function(c){return!a(l,c)})}),n.exports=t},500:function(n,t,e){var r=e(6214),o=e(6186);t=function(i){return r(i)?function(s){return o(s,i)}:(a=i,function(s){return s==null?void 0:s[a]});var a},n.exports=t},541:function(n,t,e){(t=e(6314)(!1)).push([n.id,"._dev-tools{position:absolute;width:100%;height:100%;left:0;bottom:0;background:var(--background);z-index:500;display:none;padding-top:40px!important;opacity:0;transition:opacity .3s;border-top:1px solid var(--border)}._dev-tools ._resizer{position:absolute;width:100%;touch-action:none;left:0;top:-8px;cursor:row-resize;z-index:120}._dev-tools ._tools{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;width:100%;position:relative}._dev-tools ._tools ._tool{position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;display:none}",""]),n.exports=t},621:function(n,t,e){var r=e(3974);t=typeof process<"u"&&r(process)==="[object process]",n.exports=t},688:function(n,t,e){(t=e(6314)(!1)).push([n.id,"._search-highlight-block{display:inline}._search-highlight-block ._keyword{background:var(--console-warn-background);color:var(--console-warn-foreground)}",""]),n.exports=t},769:function(n,t,e){var r=e(5793),o=e(3915),i=e(6214),a=e(1738);t=function(s){return s?i(s)?s:r(s)&&!a(s)?o(s):[s]:[]},n.exports=t},816:function(n,t,e){e.d(t,{A:function(){return o}});var r=e(2284);function o(i){var a=function(s,l){if((0,r.A)(s)!="object"||!s)return s;var c=s[Symbol.toPrimitive];if(c!==void 0){var d=c.call(s,l);if((0,r.A)(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(s)}(i,"string");return(0,r.A)(a)=="symbol"?a:a+""}},825:function(n,t,e){e.r(t),t.default={}},879:function(n,t,e){(t=e(6314)(!1)).push([n.id,`@font-face{font-family:luna-dom-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-dom-viewer-icon-'],[class^=luna-dom-viewer-icon-]{display:inline-block;font-family:luna-dom-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-dom-viewer-icon-caret-down:before{content:'\\f101'}.luna-dom-viewer-icon-caret-right:before{content:'\\f102'}.luna-dom-viewer{padding:0 0 0 12px;cursor:default;list-style:none;min-width:100%;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-dom-viewer .luna-dom-viewer-hidden,.luna-dom-viewer.luna-dom-viewer-hidden{display:none}.luna-dom-viewer .luna-dom-viewer-invisible,.luna-dom-viewer.luna-dom-viewer-invisible{visibility:hidden}.luna-dom-viewer *{box-sizing:border-box}.luna-dom-viewer.luna-dom-viewer-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:rgba(0,0,0,0)}.luna-dom-viewer{font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-dom-viewer ul{display:inline-block}.luna-dom-viewer-toggle{min-width:12px;margin-left:-12px}.luna-dom-viewer-icon-caret-down,.luna-dom-viewer-icon-caret-right{position:absolute!important;font-size:12px!important}.luna-dom-viewer-tree-item{min-width:200px;line-height:16px;min-height:16px;position:relative;z-index:10;outline:0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection,.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{display:block}.luna-dom-viewer-tree-item .luna-dom-viewer-icon-caret-down{display:none}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-caret-down{display:inline-block}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-caret-right{display:none}.luna-dom-viewer-attribute-value{word-break:break-all}.luna-dom-viewer-attribute-value.luna-dom-viewer-attribute-underline{text-decoration:underline}.luna-dom-viewer-selection{position:absolute;display:none;left:-10000px;right:0;top:0;bottom:0;z-index:-1}.luna-dom-viewer-children{margin:0;overflow-x:visible;overflow-y:visible;padding-left:15px}.luna-dom-viewer-theme-light .luna-dom-viewer-icon-caret-down,.luna-dom-viewer-theme-light .luna-dom-viewer-icon-caret-right{color:#9aa0a6}.luna-dom-viewer-theme-light .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-light .luna-dom-viewer-tag-name{color:#881280}.luna-dom-viewer-theme-light .luna-dom-viewer-attribute-name{color:#994500}.luna-dom-viewer-theme-light .luna-dom-viewer-attribute-value{color:#1a1aa6}.luna-dom-viewer-theme-light .luna-dom-viewer-html-comment{color:#236e25}.luna-dom-viewer-theme-light .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#e8eaed}.luna-dom-viewer-theme-light .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#e0e0e0}.luna-dom-viewer-theme-light .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#cfe8fc}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node{word-break:break-all}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#881280}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#1c00cf}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:gray}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#236e25}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#1a1aa6}.luna-dom-viewer-theme-dark{color:#e8eaed}.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-caret-down,.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-caret-right{color:#9aa0a6}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-dark .luna-dom-viewer-tag-name{color:#5db0d7}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-name{color:#9bbbdc}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-value{color:#f29766}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-comment{color:#898989}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#083c69}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#454545}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#073d69}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node{word-break:break-all}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#e36eec}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#9980ff}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:#7f7f7f}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#747474}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#f29766}`,""]),n.exports=t},894:function(n,t,e){var r=e(5207);t=function(o,i,a){return o.replace(new RegExp(r(i),"g"),a)},n.exports=t},896:function(n,t,e){var r=e(1738),o=e(6214),i=e(3249),a=e(9100);t=function(s,l,c){if(r(l)&&(l=[l]),o(l)){var d=l;l=function(g,y){return i(d,y)}}var f={},p=function(g,y){l(g,y)&&(f[y]=g)};return c&&(p=function(g,y){l(g,y)||(f[y]=g)}),a(s,p),f},n.exports=t},916:function(n,t,e){var r,o=this&&this.__extends||(r=function(S,B){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,x){$.__proto__=x}||function($,x){for(var G in x)Object.prototype.hasOwnProperty.call(x,G)&&($[G]=x[G])},r(S,B)},function(S,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function $(){this.constructor=S}r(S,B),S.prototype=B===null?Object.create(B):($.prototype=B.prototype,new $)}),i=this&&this.__awaiter||function(S,B,$,x){return new($||($=Promise))(function(G,te){function ee(Y){try{ve(x.next(Y))}catch(z){te(z)}}function de(Y){try{ve(x.throw(Y))}catch(z){te(z)}}function ve(Y){var z;Y.done?G(Y.value):(z=Y.value,z instanceof $?z:new $(function(D){D(z)})).then(ee,de)}ve((x=x.apply(S,B||[])).next())})},a=this&&this.__generator||function(S,B){var $,x,G,te={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]},ee=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return ee.next=de(0),ee.throw=de(1),ee.return=de(2),typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function de(ve){return function(Y){return function(z){if($)throw new TypeError("Generator is already executing.");for(;ee&&(ee=0,z[0]&&(te=0)),te;)try{if($=1,x&&(G=2&z[0]?x.return:z[0]?x.throw||((G=x.return)&&G.call(x),0):x.next)&&!(G=G.call(x,z[1])).done)return G;switch(x=0,G&&(z=[2&z[0],G.value]),z[0]){case 0:case 1:G=z;break;case 4:return te.label++,{value:z[1],done:!1};case 5:te.label++,x=z[1],z=[0];continue;case 7:z=te.ops.pop(),te.trys.pop();continue;default:if(G=te.trys,!((G=G.length>0&&G[G.length-1])||z[0]!==6&&z[0]!==2)){te=0;continue}if(z[0]===3&&(!G||z[1]>G[0]&&z[1]<G[3])){te.label=z[1];break}if(z[0]===6&&te.label<G[1]){te.label=G[1],G=z;break}if(G&&te.label<G[2]){te.label=G[2],te.ops.push(z);break}G[2]&&te.ops.pop(),te.trys.pop();continue}z=B.call(S,te)}catch(D){z=[6,D],x=0}finally{$=G=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([ve,Y])}}},s=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorWithCode=void 0,t.createId=function(){return(0,l.default)(w)},t.getAbsoluteUrl=function(S){var B=document.createElement("a");return B.href=S,B.href},t.createErr=function(S,B){return new h(S,B)},t.getUrl=function(){var S=location.href;return(0,d.default)(S,"about:")?parent.location.href:S},t.getOrigin=function(){var S=location.origin;return S==="null"?parent.location.origin:S},t.getTextContent=function(S){return i(this,arguments,void 0,function(B,$){return $===void 0&&($=""),a(this,function(x){switch(x.label){case 0:return[4,v(B,"text",$)];case 1:return[2,x.sent()]}})})},t.getBase64Content=function(S){return i(this,arguments,void 0,function(B,$){var x;return $===void 0&&($=""),a(this,function(G){switch(G.label){case 0:return x=p.default,[4,v(B,"arraybuffer",$)];case 1:return[2,x.apply(void 0,[G.sent(),"base64"])]}})})},t.getType=function(S,B){try{return y.default.apply(null,[S,B])}catch{return"Error"}},t.has=function(S,B){try{return m.default.apply(null,[S,B])}catch{return!1}};var l=s(e(5630)),c=s(e(6774)),d=s(e(1009)),f=s(e(6032)),p=s(e(5957)),g=s(e(825)),y=s(e(2989)),m=s(e(365)),w=(0,c.default)(1e3,9999)+".",h=function(S){function B($,x){var G=this.constructor,te=S.call(this,x)||this;return te.code=$,Object.setPrototypeOf(te,G.prototype),te}return o(B,S),B}(Error);function v(S,B){return i(this,arguments,void 0,function($,x,G){var te;return G===void 0&&(G=""),a(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,2,,8]),(te=new f.default($)).setQuery("__chobitsu-hide__","true"),[4,g.default.get(te.toString(),{responseType:x})];case 1:return[2,ee.sent().data];case 2:if(ee.sent(),!G)return[3,7];ee.label=3;case 3:return ee.trys.push([3,6,,7]),[4,g.default.get(_(G,$),{responseType:x})];case 4:return[4,ee.sent().data];case 5:return[2,ee.sent()];case 6:return ee.sent(),[3,7];case 7:return[3,8];case 8:return[2,x==="arraybuffer"?new ArrayBuffer(0):""]}})})}function _(S,B){var $=new f.default(S);return $.setQuery("url",B),$.setQuery("__chobitsu-hide__","true"),$.toString()}t.ErrorWithCode=h},926:function(n,t,e){var r,o=this&&this.__extends||(r=function(m,w){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(h[_]=v[_])},r(m,w)},function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function h(){this.constructor=m}r(m,w),m.prototype=w===null?Object.create(w):(h.prototype=w.prototype,new h)}),i=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.HighlightOverlay=void 0;var a=i(e(1580)),s=e(3703),l=e(162),c=e(3979),d=function(m){function w(){var h=m!==null&&m.apply(this,arguments)||this;return h.gridLabelState={gridLayerCounter:0},h}return o(w,m),w.prototype.setContainer=function(h){this._container=h},w.prototype.setPlatform=function(h){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+h),m.prototype.setPlatform.call(this,h)},Object.defineProperty(w.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),w.prototype.reset=function(h){m.prototype.reset.call(this,h),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0},w.prototype.install=function(){var h=this.document.createElement("canvas");h.classList.add("luna-dom-highlighter-fill"),this.container.appendChild(h);var v=this.document.createElement("div");this.container.appendChild(v),this.tooltip=v,this.setCanvas(h),m.prototype.install.call(this)},w.prototype.uninstall=function(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",m.prototype.uninstall.call(this)},w.prototype.drawHighlight=function(h){this.context.save();for(var v=(0,c.emptyBounds)(),_=h.paths.slice();_.length;){var S=_.pop();S&&(this.context.save(),(0,c.drawPath)(this.context,S.path,S.fillColor,S.outlineColor,void 0,v,this.emulationScaleFactor),_.length&&(this.context.globalCompositeOperation="destination-out",(0,c.drawPath)(this.context,_[_.length-1].path,"red",void 0,void 0,v,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var B=!!(h.paths.length&&h.showRulers&&v.minX<20&&v.maxX+20<this.canvasWidth),$=!!(h.paths.length&&h.showRulers&&v.minY<20&&v.maxY+20<this.canvasHeight);return h.showRulers&&this.drawAxis(this.context,B,$),h.paths.length&&(h.showExtensionLines&&function(x,G,te,ee,de,ve,Y,z){x.save();var D=Y,N=z;if(x.strokeStyle=y,x.lineWidth=1,x.translate(.5,.5),te)for(var j in G.rightmostXForY)x.beginPath(),x.moveTo(D,Number(j)),x.lineTo(G.rightmostXForY[j],Number(j)),x.stroke();else for(var j in G.leftmostXForY)x.beginPath(),x.moveTo(0,Number(j)),x.lineTo(G.leftmostXForY[j],Number(j)),x.stroke();if(ee)for(var P in G.bottommostYForX)x.beginPath(),x.moveTo(Number(P),N),x.lineTo(Number(P),G.topmostYForX[P]),x.stroke();else for(var P in G.topmostYForX)x.beginPath(),x.moveTo(Number(P),0),x.lineTo(Number(P),G.topmostYForX[P]),x.stroke();x.restore()}(this.context,v,B,$,void 0,!1,this.canvasWidth,this.canvasHeight),h.elementInfo&&function(x,G,te,ee,de,ve){x.innerHTML="";var Y=(0,l.createChild)(x,"div"),z=(0,l.createChild)(Y,"div","tooltip-content"),D=function(be,ye){var ne=(0,l.createElement)("div","element-info"),J=(0,l.createChild)(ne,"div","element-info-header"),M=function(It){return It.layoutObjectName&&(0,a.default)(It.layoutObjectName,"Grid")?"grid":It.layoutObjectName&&It.layoutObjectName==="LayoutNGFlexibleBox"?"flex":null}(be);M&&(0,l.createChild)(J,"div","element-layout-type ".concat(M));var ae=(0,l.createChild)(J,"div","element-description");(0,l.createChild)(ae,"span","material-tag-name").textContent=be.tagName;var H=(0,l.createChild)(ae,"span","material-node-id"),he=80;H.textContent=be.idValue?"#"+(0,l.ellipsify)(be.idValue,he):"",H.classList.toggle("hidden",!be.idValue);var Te=(0,l.createChild)(ae,"span","material-class-name");H.textContent.length<he&&(Te.textContent=(0,l.ellipsify)(be.className||"",he-H.textContent.length)),Te.classList.toggle("hidden",!be.className);var oe=(0,l.createChild)(J,"div","dimensions");(0,l.createChild)(oe,"span","material-node-width").textContent=String(Math.round(100*be.nodeWidth)/100),(0,l.createTextChild)(oe,"×"),(0,l.createChild)(oe,"span","material-node-height").textContent=String(Math.round(100*be.nodeHeight)/100);var re,le=be.style||{};be.isLockedAncestor&&zt("Showing content-visibility ancestor",""),be.isLocked&&zt("Descendants are skipped due to content-visibility","");var Ie=le.color;Ie&&Ie!=="#00000000"&&At("Color",Ie,ye);var Be=le["font-family"],Ke=le["font-size"];Be&&Ke!=="0px"&&zt("Font","".concat(Ke," ").concat(Be));var Je=le["background-color"];Je&&Je!=="#00000000"&&At("Background",Je,ye);var Ze=le.margin;Ze&&Ze!=="0px"&&zt("Margin",Ze);var st=le.padding;st&&st!=="0px"&&zt("Padding",st);var pt=be.contrast?be.contrast.backgroundColor:null,kt=Ie&&Ie!=="#00000000"&&pt&&pt!=="#00000000";be.showAccessibilityInfo&&(Gt("Accessibility"),kt&&le.color&&be.contrast&&Jt(le.color,be.contrast),zt("Name",be.accessibleName),zt("Role",be.accessibleRole),Yt("Keyboard-focusable",be.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok"));function Kt(){re||(re=(0,l.createChild)(ne,"div","element-info-body"))}function Gt(It){Kt();var Qe=(0,l.createChild)(re,"div","element-info-row element-info-section");(0,l.createChild)(Qe,"div","section-name").textContent=It,(0,l.createChild)((0,l.createChild)(Qe,"div","separator-container"),"div","separator")}function Pt(It,Qe,Re){Kt();var W=(0,l.createChild)(re,"div","element-info-row");return(0,l.createChild)(W,"div","element-info-name").textContent=It,(0,l.createChild)(W,"div","element-info-gap"),(0,l.createChild)(W,"div",Re||"")}function Yt(It,Qe){(0,l.createChild)(Pt(It,"","element-info-value-icon"),"div",Qe)}function zt(It,Qe){(0,l.createTextChild)(Pt(It,"","element-info-value-text"),Qe)}function At(It,Qe,Re){var W=Pt(It,"","element-info-value-color"),R=(0,l.createChild)(W,"div","color-swatch");(0,l.createChild)(R,"div","color-swatch-inner").style.backgroundColor=Qe,(0,l.createTextChild)(W,(0,c.formatColor)(Qe,Re))}function Jt(It,Qe){var Re=(0,c.parseHexa)(It),W=(0,c.parseHexa)(Qe.backgroundColor);Re[3]*=Qe.textOpacity;var R=Pt("Contrast","","element-info-value-contrast"),Q=(0,l.createChild)(R,"div","contrast-text");Q.style.color=(0,c.formatRgba)(Re,"rgb"),Q.style.backgroundColor=Qe.backgroundColor,Q.textContent="Aa";var ie=(0,l.createChild)(R,"span");if(Qe.contrastAlgorithm==="apca"){var Se=(0,s.contrastRatioAPCA)(Re,W),Ue=(0,s.getAPCAThreshold)(Qe.fontSize,Qe.fontWeight);ie.textContent=String(Math.floor(100*Se)/100)+"%",(0,l.createChild)(R,"div",Ue===null||Math.abs(Se)<Ue?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if(Qe.contrastAlgorithm==="aa"||Qe.contrastAlgorithm==="aaa"){var Ne=(0,s.contrastRatio)(Re,W);Ue=(0,s.getContrastThreshold)(Qe.fontSize,Qe.fontWeight)[Qe.contrastAlgorithm],ie.textContent=String(Math.floor(100*Ne)/100),(0,l.createChild)(R,"div",Ne<Ue?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}return ne}(G,te);z.appendChild(D);var N,j=z.offsetWidth,P=z.offsetHeight,E=8,K=2,q=2*E,Ae=E+2,_e=K+Ae,Ce=de-K-Ae-q,Z=ee.maxX-ee.minX<q+2*Ae;if(Z)N=.5*(ee.minX+ee.maxX)-E;else{var fe=ee.minX+Ae,Me=ee.maxX-Ae-q;N=fe>_e&&fe<Ce?fe:(0,l.constrainNumber)(_e,fe,Me)}var Pe=N<_e||N>Ce,He=N-Ae;He=(0,l.constrainNumber)(He,K,de-j-K);var Ye=ee.minY-E-P,Xe=!0;Ye<0?(Ye=Math.min(ve-P,ee.maxY+E),Xe=!1):ee.minY>ve&&(Ye=ve-E-P);var qe=He>=ee.minX&&He+j<=ee.maxX&&Ye>=ee.minY&&Ye+P<=ee.maxY,tt=He<ee.maxX&&He+j>ee.minX&&Ye<ee.maxY&&Ye+P>ee.minY;if(tt&&!qe)return void(z.style.display="none");if(z.style.top=Ye+"px",z.style.left=He+"px",!Pe){var ot=(0,l.createChild)(z,"div","tooltip-arrow");ot.style.clipPath=Xe?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",ot.style.top=(Xe?P-1:-E)+"px",ot.style.left=N-He+"px"}}(this.tooltip,h.elementInfo,h.colorFormat,v,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:v}},w.prototype.drawAxis=function(h,v,_){h.save();var S=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,B=this.scrollX*this.pageScaleFactor,$=this.scrollY*this.pageScaleFactor;function x(j){return Math.round(j*S)}function G(j){return Math.round(j/S)}var te=this.canvasWidth/S,ee=this.canvasHeight/S,de=50;h.save(),h.fillStyle=g,_?h.fillRect(0,x(ee)-15,x(te),x(ee)):h.fillRect(0,0,x(te),15),h.globalCompositeOperation="destination-out",h.fillStyle="red",v?h.fillRect(x(te)-15,0,x(te),x(ee)):h.fillRect(0,0,15,x(ee)),h.restore(),h.fillStyle=g,v?h.fillRect(x(te)-15,0,x(te),x(ee)):h.fillRect(0,0,15,x(ee)),h.lineWidth=1,h.strokeStyle=p,h.fillStyle=p,h.save(),h.translate(-B,.5-$);for(var ve=ee+G($),Y=100;Y<ve;Y+=100)h.save(),h.translate(B,x(Y)),h.rotate(-Math.PI/2),h.fillText(String(Y),2,v?x(te)-7:13),h.restore();h.translate(.5,-.5);for(var z=te+G(B),D=100;D<z;D+=100)h.save(),h.fillText(String(D),x(D)+2,_?$+x(ee)-7:$+13),h.restore();for(h.restore(),h.save(),v&&(h.translate(x(te),0),h.scale(-1,1)),h.translate(-B,.5-$),ve=ee+G($),Y=de;Y<ve;Y+=de){h.beginPath(),h.moveTo(B,x(Y));var N=Y%100?5:8;h.lineTo(B+N,x(Y)),h.stroke()}for(h.strokeStyle=f,Y=5;Y<ve;Y+=5)Y%de&&(h.beginPath(),h.moveTo(B,x(Y)),h.lineTo(B+5,x(Y)),h.stroke());for(h.restore(),h.save(),_&&(h.translate(0,x(ee)),h.scale(1,-1)),h.translate(.5-B,-$),z=te+G(B),D=de;D<z;D+=de)h.beginPath(),h.moveTo(x(D),$),N=D%100?5:8,h.lineTo(x(D),$+N),h.stroke();for(h.strokeStyle=f,D=5;D<z;D+=5)D%de&&(h.beginPath(),h.moveTo(x(D),$),h.lineTo(x(D),$+5),h.stroke());h.restore(),h.restore()},w}(l.Overlay);t.HighlightOverlay=d;var f="rgba(0,0,0,0.2)",p="rgba(0,0,0,0.7)",g="rgba(255, 255, 255, 0.8)",y="rgba(128, 128, 128, 0.3)"},928:function(n,t){t=function(r){var o,i,a,s=r[0]/360,l=r[1]/100,c=r[2]/100,d=[];if(r[3]&&(d[3]=r[3]),l===0)return a=e(255*c),d[0]=d[1]=d[2]=a,d;for(var f=2*c-(o=c<.5?c*(1+l):c+l-c*l),p=0;p<3;p++)(i=s+.3333333333333333*-(p-1))<0&&i++,i>1&&i--,a=6*i<1?f+6*(o-f)*i:2*i<1?o:3*i<2?f+(o-f)*(.6666666666666666-i)*6:f,d[p]=e(255*a);return d};var e=Math.round;n.exports=t},961:function(n,t,e){var r=e(5693);t=function(o,i,a){var s=[];i=r(i,a);for(var l=-1,c=o.length;++l<c;){var d=l-s.length,f=o[d];i(f,l,o)&&(s.push(f),o.splice(d,1))}return s},n.exports=t},975:function(n,t,e){var r=e(5651),o=e(6097),i=e(8971),a=e(6334),s={path:"/"};function l(c,d,f){if(!i(d)){if(f=r(f=f||{},s),o(f.expires)){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*f.expires),f.expires=p}return d=encodeURIComponent(d),c=encodeURIComponent(c),document.cookie=[c,"=",d,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join(""),t}for(var g=document.cookie?document.cookie.split("; "):[],y=c?void 0:{},m=0,w=g.length;m<w;m++){var h=g[m],v=h.split("="),_=a(v.shift());if(h=v.join("="),h=a(h),c===_){y=h;break}c||(y[_]=h)}return y}t={get:l,set:l,remove:function(c,d){return(d=d||{}).expires=-1,l(c,"",d)}},n.exports=t},991:function(n,t,e){e.d(t,{A:function(){return o}});var r=e(3954);function o(){return o=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(i,a,s){var l=function(d,f){for(;!{}.hasOwnProperty.call(d,f)&&(d=(0,r.A)(d))!==null;);return d}(i,a);if(l){var c=Object.getOwnPropertyDescriptor(l,a);return c.get?c.get.call(arguments.length<3?i:s):c.value}},o.apply(null,arguments)}},1009:function(n,t){t=function(e,r){return e.indexOf(r)===0},n.exports=t},1023:function(n,t,e){var r=e(2717),o=e(8420),i=e(9100),a=e(769);t=r({initialize:function(){this._listeners=[]},addListener:function(s){this._listeners.push(s)},rmListener:function(s){var l=this._listeners.indexOf(s);l>-1&&this._listeners.splice(l,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var s=this,l=a(arguments),c=o(this._listeners);i(c,function(d){return d.apply(s,l)},this)}},{mixin:function(s){i(["addListener","rmListener","emit","rmAllListeners"],function(l){s[l]=t.prototype[l]}),s._listeners=s._listeners||[]}}),n.exports=t},1034:function(n,t,e){var r=e(9760),o=e(3957),i=e(6214),a=e(5154);t=function(s){return i(s)?s.map(function(l){return t(l)}):r(s)&&!o(s)?a(s,function(l){return t(l)}):s},n.exports=t},1107:function(n,t,e){(t=e(6314)(!1)).push([n.id,"@font-face{font-family:luna-text-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS0AAsAAAAAB2QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFQAAAB0INElr09TLzIAAAFcAAAAPQAAAFZL+0klY21hcAAAAZwAAACfAAACEAEewxRnbHlmAAACPAAAAIYAAACkNSDggmhlYWQAAALEAAAALgAAADZzrb4oaGhlYQAAAvQAAAAWAAAAJAGRANNobXR4AAADDAAAABAAAAAoAZAAAGxvY2EAAAMcAAAAEAAAABYBWgFIbWF4cAAAAywAAAAdAAAAIAEXADtuYW1lAAADTAAAASkAAAIWm5e+CnBvc3QAAAR4AAAAOwAAAFJIWdOleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBWAdNMDGwMQkAWK1CGlYEZyGMCstiBMpxAUUYGZgDbGgXDeJxjYGTQYJzAwMrAwFDH0AMkZaB0AgMngzEDAxMDKzMDVhCQ5prCcIAh+SMTwwkgVwhMMjAwgggAY84IrgAAAHicvZFLCsMwDERHzsdJ6aL0HD1VQiDQRbIN9Axd9aI+QTpjq5Bdd5F4Bo1lybIBNAAq8iA1YB8YZG+qlvUKl6zXGBjf6MofMWHGEyu2FPb9oCxULCtHs3yy+J2urg1rtojo0HM/MKnFGabOGlbdYvdT+1N6/7drXl8e6Vajo3efHP3b7HAUvntBMy1OJKujMTeHNZMV9McpFBC+tLgY4QB4nGNgZACBEwzrGdgZGOwZxdnVDdXNPfKEGlhchO0KhZtZ3IQYmMFq1jCsZpBi0GLQY2AwNzGzZjQSk2UUYdNmVFID8UyVRUXYlNRMlVGlTM1FjU3tmZkTmVhYmFRBhHwoCyuzKgtTIjMzWJg3ZClIGMRlZQmVB7GhMixM0aGhQIsB52sTqgAAeJxjYGRgYADi2JNxkvH8Nl8ZuBlOAAWiOB/va0DQQHCCYT2Q5GBgAnEANJ0KnQAAeJxjYGRgYDjBwIBEMjKgAi4AOvoCZQAAeJxjYACCE1CMBwAAM7gBkXicY2AAAiGGIFQIABXIAqN4nGNgZGBg4GLQZ2BmAAEmMI8LSP4H8xkADjQBUwAAAHicZZA9bsJAFITHYEgCUoIUKSmzVQoimZ+SA0BPQZfCmLUxsr3WekGiywlyhBwhp4hyghwoY/NoYC0/fzNv3u7KAAb4hYd6ebhtar1auKE6cZv0IOyTn4U76ONFuEt/KNzDG6bCfTzinTt4/h2dAUrhFu7xIdym/ynsk7+EO3jCt3CX/o9wDyv8Cffx6g3TyBSxKdxSJ/sstGd5/q60rVJTqEkwPlsLXWgbOr1R66OqDsnUuVjF1uRqzq7OMqNKa3Y6csHWuXI2GsXiB5HJkSKCQYG4qQ5LaCTYI0MIe9W91CumLSr6tVaYIMD4KrVgqmiSIZXGhsk1jqwVDjxtStcxrfhazuSkucxq3iQjK/7vurejE9EPsG2mSsww4hNf5IPmDvk/PRFeqAAAAHicXcU7CsAgFEXBe4x/l/kQBAtt3X0KSZNpRk7X91/F8eAJRBKZQqUp2Og2va19MAadyWJzpBd4kgcWAA==') format('woff')}[class*=' luna-text-viewer-icon-'],[class^=luna-text-viewer-icon-]{display:inline-block;font-family:luna-text-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-text-viewer-icon-check:before{content:'\\f101'}.luna-text-viewer-icon-copy:before{content:'\\f102'}.luna-text-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;padding:0;unicode-bidi:embed;position:relative;overflow:auto;border:1px solid #ccc}.luna-text-viewer.luna-text-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-text-viewer.luna-text-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-text-viewer .luna-text-viewer-hidden,.luna-text-viewer.luna-text-viewer-hidden{display:none}.luna-text-viewer .luna-text-viewer-invisible,.luna-text-viewer.luna-text-viewer-invisible{visibility:hidden}.luna-text-viewer *{box-sizing:border-box}.luna-text-viewer.luna-text-viewer-theme-dark{color:#d9d9d9;border-color:#3d3d3d;background:#242424}.luna-text-viewer:hover .luna-text-viewer-copy{opacity:1}.luna-text-viewer-table{display:table}.luna-text-viewer-table .luna-text-viewer-line-number,.luna-text-viewer-table .luna-text-viewer-line-text{padding:0}.luna-text-viewer-table-row{display:table-row}.luna-text-viewer-line-number{display:table-cell;padding:0 3px 0 8px!important;text-align:right;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-right:1px solid #ccc}.luna-text-viewer-line-text{display:table-cell;padding-left:4px!important;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-text-viewer-copy{background:#fff;opacity:0;position:absolute;right:5px;top:5px;border:1px solid #ccc;border-radius:4px;width:25px;height:25px;text-align:center;line-height:25px;cursor:pointer;transition:opacity .3s,top .3s}.luna-text-viewer-copy .luna-text-viewer-icon-check{color:#188037}.luna-text-viewer-text{padding:4px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;box-sizing:border-box;white-space:pre;display:block}.luna-text-viewer-text.luna-text-viewer-line-numbers{padding:0}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines{white-space:pre-wrap}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines .luna-text-viewer-line-text{word-break:break-all}.luna-text-viewer-theme-dark{color-scheme:dark}.luna-text-viewer-theme-dark .luna-text-viewer-copy,.luna-text-viewer-theme-dark .luna-text-viewer-line-number{border-color:#3d3d3d}.luna-text-viewer-theme-dark .luna-text-viewer-copy .luna-text-viewer-icon-check{color:#81c995}.luna-text-viewer-theme-dark .luna-text-viewer-copy{background-color:#242424}",""]),n.exports=t},1162:function(n,t,e){e.d(t,{Ay:function(){return pt}});var r=e(991),o=e(3029),i=e(2901),a=e(388),s=e(3954),l=e(5361),c=e(3693),d=e.n(c),f=e(5241),p=e.n(f),g=e(5902),y=e.n(g),m=e(5630),w=e.n(m),h=e(9760),v=e.n(h),_=e(5651),S=e.n(_),B=e(3915),$=e.n(B),x=e(6030),G=e.n(x),te=e(2561),ee=e.n(te),de=e(3957),ve=e.n(de),Y=e(3497),z=e.n(Y),D=e(1976),N=e.n(D),j=e(1738),P=e.n(j),E=e(9405),K=e.n(E),q=e(3249),Ae=e.n(q),_e=e(96),Ce=e.n(_e),Z=e(4236),fe=e.n(Z),Me=e(9100),Pe=e.n(Me),He=e(2263),Ye=e.n(He),Xe=e(5169),qe=e.n(Xe),tt=e(9548),ot=e.n(tt),be=(e(6097),e(5004)),ye=e.n(be);e(9410),e(8609);function ne(Re){var W="luna-".concat(Re,"-");function R(Q){return $()(K()(Q).split(/\s+/),function(ie){return Ae()(ie,W)?ie:ie.replace(/[\w-]+/,function(Se){return"".concat(W).concat(Se)})}).join(" ")}return function(Q){if(/<[^>]*>/g.test(Q))try{var ie=ot().parse(Q);return J(ie,function(Se){Se.attrs&&Se.attrs.class&&(Se.attrs.class=R(Se.attrs.class))}),ot().stringify(ie)}catch{return R(Q)}return R(Q)}}function J(Re,W){for(var R=0,Q=Re.length;R<Q;R++){var ie=Re[R];W(ie),ie.content&&J(ie.content,W)}}qe();var M=e(8105),ae=e.n(M),H=e(961),he=e.n(H),Te=e(7e3),oe=e.n(Te),re=e(1009),le=e.n(re);function Ie(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ie=function(){return!!Re})()}var Be=function(Re){function W(R,Q){var ie,Se,Ue=Q.compName,Ne=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,I=Ne===void 0?"light":Ne;return(0,o.A)(this,W),ie=function(nt,it,yt){return it=(0,s.A)(it),(0,a.A)(nt,Ie()?Reflect.construct(it,[],(0,s.A)(nt).constructor):it.apply(nt,yt))}(this,W),ie.subComponents=[],ie.theme="",ie.onThemeChange=function(nt){ie.options.theme==="auto"&&ie.setTheme(nt)},ie.compName=Ue,ie.c=ne(Ue),ie.options={},ie.container=R,ie.$container=d()(R),ie.$container.addClass(["luna-".concat(Ue),ie.c("platform-".concat((Se=ye()(),Se==="os x"?"mac":Se)))]),ie.on("changeOption",function(nt,it){if(nt==="theme"&&it){var yt=it;it==="auto"&&(yt=oe().get()),ie.setTheme(yt),Pe()(ie.subComponents,function(Rt){return Rt.setOption("theme",it)})}}),oe().on("change",ie.onThemeChange),ie.setOption("theme",I),ie}return(0,l.A)(W,Re),(0,i.A)(W,[{key:"destroy",value:function(){var R=this;this.destroySubComponents();var Q=this.$container,ie=Q.attr("class");Pe()(ie.split(/\s+/),function(Se){le()(Se,"luna-".concat(R.compName))&&Q.rmClass(Se)}),Q.html(""),this.emit("destroy"),this.removeAllListeners(),oe().off("change",this.onThemeChange)}},{key:"setOption",value:function(R,Q){var ie=this,Se=this.options,Ue={};typeof R=="string"?Ue[R]=Q:Ue=R,Pe()(Ue,function(Ne,I){var nt=Se[I];Se[I]=Ne,Ne!==nt&&ie.emit("changeOption",I,Ne,nt)})}},{key:"getOption",value:function(R){return this.options[R]}},{key:"addSubComponent",value:function(R){R.setOption("theme",this.options.theme),this.subComponents.push(R)}},{key:"removeSubComponent",value:function(R){he()(this.subComponents,function(Q){return Q===R})}},{key:"destroySubComponents",value:function(){Pe()(this.subComponents,function(R){return R.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(R){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S()(R,Q),ae()(this.options,R)}},{key:"find",value:function(R){return this.$container.find(this.c(R))}},{key:"setTheme",value:function(R){var Q=this.c,ie=this.$container;this.theme&&ie.rmClass(Q("theme-".concat(this.theme))),ie.addClass(Q("theme-".concat(R))),this.theme=R}}])}(Ye()),Ke=function(Re,W,R){return((Re-W)/(R-W)*100).toFixed(2)};function Je(Re,W,R,Q){var ie=(0,r.A)((0,s.A)(Re.prototype),W,R);return typeof ie=="function"?function(Se){return ie.apply(R,Se)}:ie}function Ze(Re,W,R){return W=(0,s.A)(W),(0,a.A)(Re,st()?Reflect.construct(W,R||[],(0,s.A)(Re).constructor):W.apply(Re,R))}function st(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(st=function(){return!!Re})()}n=e.hmd(n);var pt=function(Re){function W(R){var Q,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,o.A)(this,W),(Q=Ze(this,W,[R,{compName:"setting"},ie])).items=[],Q.selectedItem=null,Q.initOptions(ie,{separatorCollapse:!0,filter:""}),Q.bindEvent(),Q}return(0,l.A)(W,Re),(0,i.A)(W,[{key:"appendTitle",value:function(R){var Q=new Kt(this,R,arguments.length>1&&arguments[1]!==void 0?arguments[1]:1);return this.append(Q),Q}},{key:"appendSeparator",value:function(){var R=this.items,Q=this.options.separatorCollapse,ie=z()(R);if(Q&&ie instanceof Pt)return ie;var Se=new Pt(this);return this.append(Se),Se}},{key:"appendNumber",value:function(R,Q,ie,Se,Ue){v()(Se)&&(Ue=Se,Se="");var Ne=new zt(this,R,Q,ie,Se,Ue);return this.append(Ne),Ne}},{key:"appendButton",value:function(R,Q,ie){ve()(Q)&&(ie=Q,Q="");var Se=new It(this,R,Q,ie);return this.append(Se),Se}},{key:"appendHtml",value:function(R){var Q=new Qe(this,R);return this.append(Q),Q}},{key:"appendMarkdown",value:function(R){var Q=new Gt(this,R);return this.append(Q),Q}},{key:"appendInput",value:function(R,Q,ie){var Se=new Yt(this,R,Q,ie,arguments.length>3&&arguments[3]!==void 0?arguments[3]:"");return this.append(Se),Se}},{key:"appendCheckbox",value:function(R,Q,ie,Se){Se||(Se=ie,ie="");var Ue=new At(this,R,Q,ie,Se);return this.append(Ue),Ue}},{key:"appendSelect",value:function(R,Q,ie,Se,Ue){v()(Se)&&(Ue=Se,Se="");var Ne=new Jt(this,R,Q,ie,Se,Ue);return this.append(Ne),Ne}},{key:"remove",value:function(R){var Q=this.items,ie=Q.indexOf(R);ie>-1&&(R.detach(),Q.splice(ie,1),R===this.selectedItem&&this.selectItem(null))}},{key:"clear",value:function(){Pe()(this.items,function(R){return R.detach()}),this.items=[],this.selectItem(null)}},{key:"selectItem",value:function(R){var Q;this.selectedItem&&(this.selectedItem.deselect(),this.selectedItem=null),fe()(R)||(this.selectedItem=R,(Q=this.selectedItem)===null||Q===void 0||Q.select())}},{key:"renderSettings",value:function(){var R=this,Q=this.items;Pe()(Q,function(ie){return ie.detach()}),Pe()(Q,function(ie){R.filterItem(ie)&&R.$container.append(ie.container)})}},{key:"bindEvent",value:function(){var R=this,Q=this.c;this.on("changeOption",function(Se){Se==="filter"&&R.renderSettings()});var ie=this;this.$container.on("click",Q(".item"),function(){ie.selectItem(this.settingItem)})}},{key:"filterItem",value:function(R){var Q=this.options.filter;if(Q){if(ve()(Q))return Q(R);if(N()(Q))return Q.test(R.text());if(P()(Q)&&(Q=K()(Q)))return Ae()(Ce()(R.text()),Ce()(Q))}return!0}},{key:"append",value:function(R){this.items.push(R),this.filterItem(R)&&this.$container.append(R.container)}}])}(Be),kt=function(){return(0,i.A)(function Re(W,R,Q,ie){(0,o.A)(this,Re),this.container=p()("div",{tabindex:"0"}),this.setting=W,this.container.settingItem=this,this.$container=d()(this.container),this.$container.addClass(W.c("item")).addClass(W.c("item-".concat(ie))),this.key=R,this.value=Q},[{key:"select",value:function(){this.$container.addClass(this.setting.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.setting.c("selected"))}},{key:"detach",value:function(){this.$container.remove()}},{key:"disable",value:function(){this.$container.addClass(this.setting.c("disabled"))}},{key:"enable",value:function(){this.$container.rmClass(this.setting.c("disabled"))}},{key:"text",value:function(){return this.$container.text()}},{key:"onChange",value:function(Re){this.value!==Re&&(this.setting.emit("change",this.key,Re,this.value),this.value=Re)}}])}(),Kt=function(Re){function W(R,Q,ie){var Se;return(0,o.A)(this,W),(Se=Ze(this,W,[R,"","","title"])).$container.addClass(R.c("level-".concat(ie))),Se.$container.text(Q),Se}return(0,l.A)(W,Re),(0,i.A)(W)}(kt),Gt=function(Re){function W(R,Q){var ie;return(0,o.A)(this,W),(ie=Ze(this,W,[R,"","","markdown"])).$container.html(Q),ie}return(0,l.A)(W,Re),(0,i.A)(W)}(kt),Pt=function(Re){function W(R){return(0,o.A)(this,W),Ze(this,W,[R,"","","separator"])}return(0,l.A)(W,Re),(0,i.A)(W)}(kt),Yt=function(Re){function W(R,Q,ie,Se,Ue){var Ne;(0,o.A)(this,W),Ne=Ze(this,W,[R,Q,ie,"input"]);var I=R.c;Ne.$container.html('<div class="'.concat(I("title"),'">').concat(y()(Se),`</div>
      <div class="`).concat(I("description"),'">').concat(Ue,`</div>
      <div class="`).concat(I("control"),`">
        <input type="text"></input>
      </div>`));var nt=Ne.$container.find("input");return nt.val(ie),nt.on("change",function(){return Ne.onChange(nt.val())}),Ne.$input=nt,Ne}return(0,l.A)(W,Re),(0,i.A)(W,[{key:"setValue",value:function(R){this.$input.val(R),this.value=R}},{key:"disable",value:function(){Je(W,"disable",this)([]),this.$input.attr("disabled","")}},{key:"enable",value:function(){Je(W,"enable",this)([]),this.$input.rmAttr("disabled")}}])}(kt),zt=function(Re){function W(R,Q,ie,Se,Ue){var Ne,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};(0,o.A)(this,W),(Ne=Ze(this,W,[R,Q,ie,"number"])).renderRange=function(){var lt=G()(Ne.$input.val()),ge=Ne.options;Ne.$trackProgress.css("width",Ke(lt,ge.min,ge.max)+"%"),Ne.$value.text(ee()(lt))},S()(I,{min:0,max:10,step:1}),Ne.options=I;var nt=Ne.$container,it=R.c,yt=!!I.range;delete I.range;var Rt=I.min,Lt=I.max,Dt='<input type="'.concat(yt?"range":"number",'"').concat($()(I,function(lt,ge){return" ".concat(ge,'="').concat(lt,'"')}),"></input>");yt&&(Dt="".concat(Rt,'<div class="').concat(it("range-container"),`">
        <div class="`).concat(it("range-track"),`">
          <div class="`).concat(it("range-track-bar"),`">
            <div class="`).concat(it("range-track-progress"),'" style="width: ').concat(Ke(ie,Rt,Lt),`%;"></div>
          </div>
        </div>
        `).concat(Dt,`
      </div><span class="`).concat(it("value"),'">').concat(ie,"</span>/").concat(Lt)),nt.html('<div class="'.concat(it("title"),'">').concat(y()(Se),`</div>
      <div class="`).concat(it("description"),'">').concat(Ue,`</div>
      <div class="`).concat(it("control"),'">').concat(Dt,"</div>"));var dt=nt.find("input");return Ne.$value=nt.find(it(".value")),Ne.$trackProgress=nt.find(it(".range-track-progress")),dt.val(ee()(ie)),dt.on("change",function(){var lt=G()(dt.val());Ne.onChange(lt)}),dt.on("input",Ne.renderRange),Ne.$input=dt,Ne}return(0,l.A)(W,Re),(0,i.A)(W,[{key:"setValue",value:function(R){this.$input.val(ee()(R)),this.value=R,this.renderRange()}},{key:"disable",value:function(){Je(W,"disable",this)([]),this.$input.attr("disabled","")}},{key:"enable",value:function(){Je(W,"enable",this)([]),this.$input.rmAttr("disabled")}}])}(kt),At=function(Re){function W(R,Q,ie,Se,Ue){var Ne;(0,o.A)(this,W),Ne=Ze(this,W,[R,Q,ie,"checkbox"]);var I=R.c,nt=w()(R.c("checkbox-"));Ne.$container.html('<div class="'.concat(I("title"),'">').concat(y()(Se),`</div>
      <div class="`).concat(I("control"),`">
        <input type="checkbox" id="`).concat(nt,`"></input>
        <label for="`).concat(nt,'">').concat(Ue,`</label>
      </div>`));var it=Ne.$container.find("input"),yt=it.get(0);return yt.checked=ie,it.on("change",function(){return Ne.onChange(yt.checked)}),Ne.$input=it,Ne.input=yt,Ne}return(0,l.A)(W,Re),(0,i.A)(W,[{key:"setValue",value:function(R){this.input.checked=R,this.value=R}},{key:"disable",value:function(){Je(W,"disable",this)([]),this.$input.attr("disabled","")}},{key:"enable",value:function(){Je(W,"enable",this)([]),this.$input.rmAttr("disabled")}}])}(kt),Jt=function(Re){function W(R,Q,ie,Se,Ue,Ne){var I;(0,o.A)(this,W),I=Ze(this,W,[R,Q,ie,"select"]);var nt=R.c;I.$container.html('<div class="'.concat(nt("title"),'">').concat(y()(Se),`</div>
      <div class="`).concat(nt("description"),'">').concat(Ue,`</div>
      <div class="`).concat(nt("control"),`">
        <div class="`).concat(nt("select"),`">
          <select></select>
        </div>
      </div>`));var it=I.$container.find("select");return I.$select=it,I.setOptions(Ne),it.on("change",function(){return I.onChange(it.val())}),I}return(0,l.A)(W,Re),(0,i.A)(W,[{key:"setValue",value:function(R){this.$select.val(R),this.value=R}},{key:"setOptions",value:function(R){var Q=this;this.$select.html($()(R,function(ie,Se){return'<option value="'.concat(y()(ie),'"').concat(ie===Q.value?" selected":"",">").concat(y()(Se),"</option>")}).join(""))}},{key:"disable",value:function(){Je(W,"disable",this)([]),this.$select.attr("disabled","")}},{key:"enable",value:function(){Je(W,"enable",this)([]),this.$select.rmAttr("disabled")}}])}(kt),It=function(Re){function W(R,Q,ie,Se){var Ue;return(0,o.A)(this,W),ie||(ie=Q,Q=""),(Ue=Ze(this,W,[R,"","","button"])).$container.html(R.c('<div class="title">'.concat(y()(Q),`</div>
      <div class="control">
        <button>`).concat(y()(ie),`</button>
      </div>`))),Ue.$container.find("button").on("click",Se),Ue}return(0,l.A)(W,Re),(0,i.A)(W)}(kt),Qe=function(Re){function W(R,Q){var ie;return(0,o.A)(this,W),(ie=Ze(this,W,[R,"","","html"])).$container.append(Q),ie}return(0,l.A)(W,Re),(0,i.A)(W)}(kt);(function(Re,W){try{Re.exports=W,Re.exports.default=W}catch{}})(n,pt)},1167:function(n,t,e){var r=e(1909),o=e(5869),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;t=o(function(s){return s=s||(r?navigator.userAgent:""),i.test(s)||a.test(s.substr(0,4))}),n.exports=t},1168:function(n,t,e){var r=e(3422);t=function(i){if(r(i))return"";try{return o.call(i)}catch{}try{return i+""}catch{}return""};var o=Function.prototype.toString;n.exports=t},1277:function(n,t,e){(t=e(6314)(!1)).push([n.id,'.luna-box-model{display:inline-block;text-align:center;white-space:nowrap;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-box-model .luna-box-model-hidden,.luna-box-model.luna-box-model-hidden{display:none}.luna-box-model .luna-box-model-invisible,.luna-box-model.luna-box-model-invisible{visibility:hidden}.luna-box-model *{box-sizing:border-box}.luna-box-model.luna-box-model-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-box-model{font-size:12px}.luna-box-model-label{position:absolute;margin-left:3px;padding:0 2px}.luna-box-model-bottom,.luna-box-model-left,.luna-box-model-right,.luna-box-model-top{display:inline-block}.luna-box-model-left,.luna-box-model-right{vertical-align:middle}.luna-box-model-border,.luna-box-model-content,.luna-box-model-margin,.luna-box-model-padding,.luna-box-model-position{position:relative;display:inline-block;text-align:center;vertical-align:middle;padding:3px;margin:3px;color:rgba(0,0,0,.88);background:#fff}.luna-box-model-position{border:1px gray dotted}.luna-box-model-margin{border:1px dashed}.luna-box-model-margin.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(246,178,107,.66)!important}.luna-box-model-border{border:1px #000 solid}.luna-box-model-border.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(255,229,153,.66)!important}.luna-box-model-padding{border:1px gray dashed}.luna-box-model-padding.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(147,196,125,.55)!important}.luna-box-model-content{border:1px gray solid;min-width:100px}.luna-box-model-content.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(111,168,220,.66)!important}.luna-box-model-theme-dark .luna-box-model-border,.luna-box-model-theme-dark .luna-box-model-content,.luna-box-model-theme-dark .luna-box-model-margin,.luna-box-model-theme-dark .luna-box-model-padding,.luna-box-model-theme-dark .luna-box-model-position{color:hsla(0,0%,100%,.85);background:#141414}.luna-box-model-theme-dark .luna-box-model-border{border-color:gray}',""]),n.exports=t},1443:function(n,t,e){(t=e(6314)(!1)).push([n.id,'#_resources{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:14px}#_resources ._section{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_resources ._section._warn{border:1px solid var(--console-warn-border)}#_resources ._section._warn ._title{background:var(--console-warn-background);color:var(--console-warn-foreground)}#_resources ._section._danger{border:1px solid var(--console-error-border)}#_resources ._section._danger ._title{background:var(--console-error-background);color:var(--console-error-foreground)}#_resources ._section._cookie,#_resources ._section._local-storage,#_resources ._section._session-storage{border:none}#_resources ._section._cookie ._title,#_resources ._section._local-storage ._title,#_resources ._section._session-storage ._title{border:1px solid var(--border);border-bottom:none}#_resources ._title{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background)}#_resources ._title ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_resources ._title ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_resources ._title ._btn:active{color:var(--accent)}#_resources ._title ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_resources ._title ._btn._btn-disabled *{pointer-events:none}#_resources ._link-list{font-size:12px;color:var(--foreground)}#_resources ._link-list li{padding:10px;word-break:break-all}#_resources ._link-list li a{color:var(--link-color)!important}#_resources ._image-list{color:var(--foreground);font-size:12px;display:flex;flex-wrap:wrap;padding-left:10px;padding-top:10px}#_resources ._image-list::after{content:"";flex-grow:1000}#_resources ._image-list li{flex-grow:1;cursor:pointer;overflow-y:hidden;margin-right:10px;margin-bottom:10px;border:1px solid var(--border)}#_resources ._image-list li._image{height:100px;font-size:0}#_resources ._image-list li img{height:100px;min-width:100%;-o-object-fit:cover;object-fit:cover}._safe-area #_resources{padding-bottom:calc(10px + env(safe-area-inset-bottom))}',""]),n.exports=t},1505:function(n,t,e){var r=e(7308),o=e(6026),i=e(9405),a=e(9100),s=e(3915),l=e(1932);t=function(){var c=r("viewport");if(!c)return 1;c=s(c.split(","),function(y){return i(y)});var d=.25,f=5,p=1;a(c,function(y){var m=(y=y.split("="))[0];y=y[1],m==="initial-scale"&&(p=+y),m==="maximum-scale"&&(f=+y),m==="minimum-scale"&&(d=+y)});var g=o(p,d,f);return l(g)?1:g},n.exports=t},1532:function(n,t,e){var r=e(1009),o=e(5169),i=e(2561);function a(s,l){if(s=i(s),l=i(l),r(s,"_")&&!r(l,"_"))return 1;if(r(l,"_")&&!r(s,"_"))return-1;for(var c,d,f,p,g=/^\d+|^\D+/;;){if(!s)return l?-1:0;if(!l)return 1;if(c=s.match(g)[0],d=l.match(g)[0],f=!o.isNaN(c),p=!o.isNaN(d),f&&!p)return-1;if(p&&!f)return 1;if(f&&p){var y=c-d;if(y)return y;if(c.length!==d.length)return+c||+d?d.length-c.length:c.length-d.length}else if(c!==d)return c<d?-1:1;s=s.substring(c.length),l=l.substring(d.length)}}(t=function(s){return s.sort(a)}).comparator=a,n.exports=t},1580:function(n,t){t=function(e,r){var o=e.length-r.length;return o>=0&&e.indexOf(r,o)===o},n.exports=t},1710:function(n,t){t=function(e,r){var o="";if(r<1)return"";for(;r>0;)1&r&&(o+=e),r>>=1,e+=e;return o},n.exports=t},1714:function(n,t,e){e.d(t,{A:function(){return ae}});var r=e(3029),o=e(2901),i=e(388),a=e(3954),s=e(991),l=e(5361),c=e(2263),d=e.n(c),f=e(3693),p=e.n(f),g=e(3915),y=e.n(g),m=e(9405),w=e.n(m),h=e(5169),v=e.n(h),_=e(9548),S=e.n(_),B=(e(6097),e(3249)),$=e.n(B),x=(e(6030),e(5004)),G=e.n(x);e(8609);function te(he){var Te="luna-".concat(he,"-");function oe(re){return y()(w()(re).split(/\s+/),function(le){return $()(le,Te)?le:le.replace(/[\w-]+/,function(Ie){return"".concat(Te).concat(Ie)})}).join(" ")}return function(re){if(/<[^>]*>/g.test(re))try{var le=S().parse(re);return ee(le,function(Ie){Ie.attrs&&Ie.attrs.class&&(Ie.attrs.class=oe(Ie.attrs.class))}),S().stringify(le)}catch{return oe(re)}return oe(re)}}function ee(he,Te){for(var oe=0,re=he.length;oe<re;oe++){var le=he[oe];Te(le),le.content&&ee(le.content,Te)}}var de="ontouchstart"in v();function ve(){var he=G()();return he==="os x"?"mac":he}var Y=e(9100),z=e.n(Y),D=e(8105),N=e.n(D),j=e(5651),P=e.n(j),E=e(961),K=e.n(E);function q(){try{var he=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!he})()}var Ae=function(he){function Te(oe,re){var le,Ie,Be,Ke,Je=re.compName,Ze=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,st=Ze===void 0?"light":Ze;return(0,r.A)(this,Te),Ie=this,Be=Te,Be=(0,a.A)(Be),(le=(0,i.A)(Ie,q()?Reflect.construct(Be,[],(0,a.A)(Ie).constructor):Be.apply(Ie,Ke))).subComponents=[],le.compName=Je,le.c=te(Je),le.options={},le.container=oe,le.$container=p()(oe),le.$container.addClass(["luna-".concat(Je),le.c("platform-".concat(ve()))]),le.on("optionChange",function(pt,kt,Kt){var Gt=le.c;pt==="theme"&&(le.$container.rmClass(Gt("theme-".concat(Kt))).addClass(Gt("theme-".concat(kt))),z()(le.subComponents,function(Pt){return Pt.setOption("theme",kt)}))}),le.setOption("theme",st),le}return(0,l.A)(Te,he),(0,o.A)(Te,[{key:"destroy",value:function(){this.destroySubComponents();var oe=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(oe("platform-".concat(ve()))).rmClass(oe("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(oe,re){var le=this,Ie=this.options,Be={};typeof oe=="string"?Be[oe]=re:Be=oe,z()(Be,function(Ke,Je){var Ze=Ie[Je];Ie[Je]=Ke,le.emit("optionChange",Je,Ke,Ze)})}},{key:"getOption",value:function(oe){return this.options[oe]}},{key:"addSubComponent",value:function(oe){oe.setOption("theme",this.options.theme),this.subComponents.push(oe)}},{key:"removeSubComponent",value:function(oe){K()(this.subComponents,function(re){return re===oe})}},{key:"destroySubComponents",value:function(){z()(this.subComponents,function(oe){return oe.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(oe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P()(oe,re),N()(this.options,oe)}},{key:"find",value:function(oe){return this.$container.find(this.c(oe))}}])}(d()),_e=e(3497),Ce=e.n(_e),Z=e(9464),fe=e.n(Z),Me=e(5865),Pe=e.n(Me),He=e(4534),Ye=e.n(He),Xe=e(4844),qe=e.n(Xe),tt=e(5902),ot=e.n(tt),be=e(9389),ye=e.n(be),ne=e(6948),J=e.n(ne);function M(){try{var he=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!he})()}n=e.hmd(n);var ae=function(he){function Te(oe){var re,le,Ie,Be,Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(this,Te),le=this,Ie=Te,Be=[oe,{compName:"text-viewer"},Ke],Ie=(0,a.A)(Ie),(re=(0,i.A)(le,M()?Reflect.construct(Ie,Be||[],(0,a.A)(le).constructor):Ie.apply(le,Be))).lineNum=0,re.copy=function(){var Je=re.c,Ze=re.options,st=Ze.text,pt=Ze.escape;qe()(pt?st:ye()(J()(st)));var kt=re.$copy.find(Je(".icon"));kt.addClass(Je("icon-check")).rmClass(Je("icon-copy")),setTimeout(function(){kt.rmClass(Je("icon-check")).addClass(Je("icon-copy"))},1e3)},re._updateCopyPos=function(){var Je=re.container;re.$copy.css({top:Je.scrollTop+5,right:5-Je.scrollLeft})},re.initOptions(Ke,{text:"",escape:!0,showLineNumbers:!0,wrapLongLines:!0,maxHeight:1/0}),re.render=Pe()(function(){return re._render()},16),re.updateCopyPos=Ye()(function(){return re._updateCopyPos()},300),re.initTpl(),re.$text=re.find(".text"),re.$copy=re.find(".copy"),de&&re.$copy.css("opacity","1"),re.options.text&&re.render(),re.bindEvent(),re.updateHeight(),re}return(0,l.A)(Te,he),(0,o.A)(Te,[{key:"append",value:function(oe){var re=this,le=this.options,Ie=this.$copy,Be=this.c,Ke=this.$text,Je=le.showLineNumbers;if(this.options.text+=oe,!Je)return this.$text.append(le.escape?ot()(oe):oe);var Ze=function(pt){return pt.length===0?[]:pt.split(H)}(oe);fe()(Ze)&&(Ze=["&nbsp;"]),w()(Ce()(Ze))||Ze.pop();var st="";z()(Ze,function(pt,kt){re.lineNum+=1,st+='<div class="'.concat(Be("table-row"),'"><div class="').concat(Be("line-number"),'">').concat(re.lineNum,'</div><div class="').concat(Be("line-text"),'">').concat(le.escape?ot()(pt):pt||" ","</div></div>")}),Ke.find(Be(".table")).append(st),Ie.hide(),Ke.offset().height>40&&Ie.show(),this.updateCopyPos()}},{key:"destroy",value:function(){var oe,re,le,Ie,Be;this.$container.off("scroll",this.updateCopyPos),(oe=Te,re="destroy",le=this,Ie=3,Be=(0,s.A)((0,a.A)(1&Ie?oe.prototype:oe),re,le),2&Ie&&typeof Be=="function"?function(Ke){return Be.apply(le,Ke)}:Be)([])}},{key:"updateHeight",value:function(){var oe=this.options.maxHeight;oe>0&&oe!==1/0?this.$text.css("max-height",oe):this.$text.css("max-height","none")}},{key:"initTpl",value:function(){this.$container.html(this.c('<div class="text"></div><div class="copy"><span class="icon icon-copy"></span></div>'))}},{key:"bindEvent",value:function(){var oe=this;this.on("optionChange",function(re){re==="maxHeight"?oe.updateHeight():oe.render()}),this.$container.on("scroll",this.updateCopyPos),this.$copy.on("click",this.copy)}},{key:"_render",value:function(){var oe=this.c,re=this.$text,le=this.options,Ie=le.text,Be=le.wrapLongLines,Ke=le.showLineNumbers;Be?re.addClass(oe("wrap-long-lines")):re.rmClass(oe("wrap-long-lines")),Ke?re.addClass(oe("line-numbers")):re.rmClass(oe("line-numbers")),re.html('<div class="'.concat(oe("table"),'"></div>')),this.lineNum=0,this.options.text="",this.append(Ie)}}])}(Ae),H=/\r\n|\r|\n/g;(function(he,Te){try{he.exports=Te,he.exports.default=Te}catch{}})(n,ae)},1738:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object String]"},n.exports=t},1751:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object Map]"},n.exports=t},1849:function(n,t,e){var r=e(9100),o=e(8971),i=e(3957);t=function(a,s){o(s)&&(s=!0);var l=i(s),c={};return r(a,function(d){c[d]=l?s(d):s}),c},n.exports=t},1909:function(n,t){t=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,n.exports=t},1931:function(n,t,e){var r=e(1947);t=function(o){var i;switch(o=o||"local"){case"local":i=window.localStorage;break;case"session":i=window.sessionStorage}try{var a="test-localStorage-"+Date.now();i.setItem(a,a);var s=i.getItem(a);if(i.removeItem(a),s!==a)throw new Error}catch{return r}return i},n.exports=t},1932:function(n,t,e){var r=e(6097);t=function(o){return r(o)&&o!==+o},n.exports=t},1944:function(n,t,e){e.d(t,{A:function(){return ye}});var r=e(5458),o=e(4467),i=e(7528),a=e(3029),s=e(2901),l=e(388),c=e(3954),d=e(991),f=e(5361),p=e(2263),g=e.n(p),y=e(3693),m=e.n(y),w=e(3915),h=e.n(w),v=e(9405),_=e.n(v),S=e(5169),B=e.n(S),$=e(9548),x=e.n($),G=(e(6097),e(3249)),te=e.n(G),ee=(e(6030),e(5004)),de=e.n(ee);e(9410),e(8609);function ve(he){var Te="luna-".concat(he,"-");function oe(re){return h()(_()(re).split(/\s+/),function(le){return te()(le,Te)?le:le.replace(/[\w-]+/,function(Ie){return"".concat(Te).concat(Ie)})}).join(" ")}return function(re){if(/<[^>]*>/g.test(re))try{var le=x().parse(re);return Y(le,function(Ie){Ie.attrs&&Ie.attrs.class&&(Ie.attrs.class=oe(Ie.attrs.class))}),x().stringify(le)}catch{return oe(re)}return oe(re)}}function Y(he,Te){for(var oe=0,re=he.length;oe<re;oe++){var le=he[oe];Te(le),le.content&&Y(le.content,Te)}}B();var z=e(9100),D=e.n(z),N=e(8105),j=e.n(N),P=e(5651),E=e.n(P),K=e(961),q=e.n(K),Ae=e(7e3),_e=e.n(Ae),Ce=e(1009),Z=e.n(Ce);function fe(){try{var he=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fe=function(){return!!he})()}var Me,Pe=function(he){function Te(oe,re){var le,Ie,Be=re.compName,Ke=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Je=Ke===void 0?"light":Ke;return(0,a.A)(this,Te),le=function(Ze,st,pt){return st=(0,c.A)(st),(0,l.A)(Ze,fe()?Reflect.construct(st,[],(0,c.A)(Ze).constructor):st.apply(Ze,pt))}(this,Te),le.subComponents=[],le.theme="",le.onThemeChange=function(Ze){le.options.theme==="auto"&&le.setTheme(Ze)},le.compName=Be,le.c=ve(Be),le.options={},le.container=oe,le.$container=m()(oe),le.$container.addClass(["luna-".concat(Be),le.c("platform-".concat((Ie=de()(),Ie==="os x"?"mac":Ie)))]),le.on("changeOption",function(Ze,st){if(Ze==="theme"&&st){var pt=st;st==="auto"&&(pt=_e().get()),le.setTheme(pt),D()(le.subComponents,function(kt){return kt.setOption("theme",st)})}}),_e().on("change",le.onThemeChange),le.setOption("theme",Je),le}return(0,f.A)(Te,he),(0,s.A)(Te,[{key:"destroy",value:function(){var oe=this;this.destroySubComponents();var re=this.$container,le=re.attr("class");D()(le.split(/\s+/),function(Ie){Z()(Ie,"luna-".concat(oe.compName))&&re.rmClass(Ie)}),re.html(""),this.emit("destroy"),this.removeAllListeners(),_e().off("change",this.onThemeChange)}},{key:"setOption",value:function(oe,re){var le=this,Ie=this.options,Be={};typeof oe=="string"?Be[oe]=re:Be=oe,D()(Be,function(Ke,Je){var Ze=Ie[Je];Ie[Je]=Ke,Ke!==Ze&&le.emit("changeOption",Je,Ke,Ze)})}},{key:"getOption",value:function(oe){return this.options[oe]}},{key:"addSubComponent",value:function(oe){oe.setOption("theme",this.options.theme),this.subComponents.push(oe)}},{key:"removeSubComponent",value:function(oe){q()(this.subComponents,function(re){return re===oe})}},{key:"destroySubComponents",value:function(){D()(this.subComponents,function(oe){return oe.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(oe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(oe,re),j()(this.options,oe)}},{key:"find",value:function(oe){return this.$container.find(this.c(oe))}},{key:"setTheme",value:function(oe){var re=this.c,le=this.$container;this.theme&&le.rmClass(re("theme-".concat(this.theme))),le.addClass(re("theme-".concat(oe))),this.theme=oe}}])}(g()),He=e(5773),Ye=e.n(He),Xe=e(5241),qe=e.n(Xe),tt=e(6741),ot=e.n(tt);function be(){try{var he=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(be=function(){return!!he})()}n=e.hmd(n);var ye=function(he){function Te(oe){var re,le,Ie,Be,Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.A)(this,Te),le=this,Ie=Te,Be=[oe,{compName:"modal"},Ke],Ie=(0,c.A)(Ie),(re=(0,l.A)(le,be()?Reflect.construct(Ie,Be||[],(0,c.A)(le).constructor):Ie.apply(le,Be))).render=function(){var Je=re,Ze=Je.options,st=Je.c,pt=Je.$body;Ze.title?(pt.rmClass(st("no-title")),re.$title.text(Ze.title)):pt.addClass(st("no-title")),Ze.footer?(pt.rmClass(st("no-footer")),re.$footer.html("").append(Ze.footer)):pt.addClass(st("no-footer")),Ze.showClose?re.$close.show():re.$close.hide(),re.$body.css("width",Ze.width+"px"),re.renderContent()},re.hide(),re.initOptions(Ke,{title:"",content:"",footer:"",showClose:!0,width:H()}),re.initTpl(),re.$title=re.find(".title"),re.$content=re.find(".content"),re.$body=re.find(".body"),re.$footer=re.find(".footer"),re.$close=re.find(".icon-close"),re.bindEvent(),re}return(0,f.A)(Te,he),(0,s.A)(Te,[{key:"show",value:function(){this.render(),this.$container.rmClass(this.c("hidden"))}},{key:"hide",value:function(){this.$container.addClass(this.c("hidden"))}},{key:"destroy",value:function(){var oe,re,le,Ie,Be;(oe=Te,re="destroy",le=this,Ie=3,Be=(0,d.A)((0,c.A)(1&Ie?oe.prototype:oe),re,le),2&Ie&&typeof Be=="function"?function(Ke){return Be.apply(le,Ke)}:Be)([]),this.$container.rmClass(this.c("hidden"))}},{key:"renderContent",value:function(){this.$content.html("").append(this.options.content)}},{key:"bindEvent",value:function(){var oe=this;this.$body.on("click",this.c(".icon-close"),function(){return oe.hide()}),this.on("changeOption",this.render)}},{key:"initTpl",value:function(){this.$container.html(this.c(Ye()(Me||(Me=(0,i.A)([`
      <div class="body">
        <span class="icon icon-close"></span>
        <div class="title"></div>
        <div class="content"></div>
        <div class="footer"></div>
      </div>
      `])))))}}],[{key:"alert",value:function(oe){return new Promise(function(re){var le=M(),Ie=le.c;le.setOption({title:"",content:oe,width:H(),footer:ae((0,o.A)({},Te.i18n.t("ok"),{type:"primary",onclick:function(){le.hide(),re()}}),Ie)}),le.show()})}},{key:"confirm",value:function(oe){return new Promise(function(re){var le=M(),Ie=le.c;le.setOption({title:"",content:oe,width:H(),footer:ae((0,o.A)((0,o.A)({},Te.i18n.t("cancel"),{type:"secondary",onclick:function(){le.hide(),re(!1)}}),Te.i18n.t("ok"),{type:"primary",onclick:function(){le.hide(),re(!0)}}),Ie)}),le.show()})}},{key:"prompt",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise(function(le){var Ie=M(),Be=Ie.c,Ke=qe()("input"+Be(".input"),{value:re});function Je(){Ie.hide(),le(Ke.value)}m()(Ke).on("keypress",function(st){(st=st.origEvent).key==="Enter"&&Je()}),Ie.setOption({title:oe,content:Ke,width:H(),footer:ae((0,o.A)((0,o.A)({},Te.i18n.t("cancel"),{type:"secondary",onclick:function(){Ie.hide(),le(null)}}),Te.i18n.t("ok"),{type:"primary",onclick:Je}),Be)}),Ie.show();var Ze=Ke.value.length;Ke.setSelectionRange(Ze,Ze),Ke.focus()})}},{key:"setContainer",value:function(oe){J=oe}}])}(Pe);ye.i18n=new(ot())(navigator.language!=="zh-CN"?"en-US":"zh-CN",{"en-US":{ok:"OK",cancel:"Cancel"},"zh-CN":{ok:"确定",cancel:"取消"}});var ne=null,J=null;function M(){return J||(J=qe()("div"),document.body.append(J)),ne||(ne=new ye(J,{showClose:!1})),ne}function ae(he,Te){var oe=h()(he,function(re,le){return qe()(Te(".button")+Te("."+re.type),{onclick:re.onclick},le)});return qe().apply(void 0,[Te(".button-group"),{}].concat((0,r.A)(oe)))}function H(){return window.innerWidth<500?window.innerWidth-32:500}(function(he,Te){try{he.exports=Te,he.exports.default=Te}catch{}})(n,ye)},1947:function(n,t,e){var r=e(3145);t={getItem:function(c){return(i[c]?o[c]:this[c])||null},setItem:function(c,d){i[c]?o[c]=d:this[c]=d},removeItem:function(c){i[c]?delete o[c]:delete this[c]},key:function(c){var d=a();return c>=0&&c<d.length?d[c]:null},clear:function(){for(var c,d=s(),f=0;c=d[f];f++)delete this[c];d=l();for(var p,g=0;p=d[g];g++)delete o[p]}},Object.defineProperty(t,"length",{enumerable:!1,configurable:!0,get:function(){return a().length}});var o={},i={getItem:1,setItem:1,removeItem:1,key:1,clear:1,length:1};function a(){return s().concat(l())}function s(){return r(t).filter(function(c){return!i[c]})}function l(){return r(o)}n.exports=t},1976:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object RegExp]"},n.exports=t},2113:function(n,t,e){var r=e(9100),o=e(3612);t=function(i){i=o(i),r(i,function(a){var s=a.parentNode;s&&s.removeChild(a)})},n.exports=t},2125:function(n,t,e){var r=e(9186),o=e(1738),i=e(9760),a=e(9100);e(3612),t=function(s,l,c){var d=l;return o(l)&&(d="data-"+l),i(l)&&(d={},a(l,function(f,p){d["data-"+p]=f})),r(s,d,c)},n.exports=t},2192:function(n,t,e){var r=e(2717),o=e(3722),i=e(6214),a=e(9100),s=e(3145);t=r({initialize:function(l){i(l)?(this.size=l.length,a(l,function(c,d){this[c]=d},this)):(this.size=s(l).length,a(l,function(c,d){this[d]=c},this)),o(this)}}),n.exports=t},2208:function(n,t,e){var r=e(2717);(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(t=r({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),n.exports=t},2228:function(n,t,e){var r,o,i=e(3981),a=e(1909),s=0;if(a){r=window.requestAnimationFrame,o=window.cancelAnimationFrame;for(var l=["ms","moz","webkit","o"],c=0,d=l.length;c<d&&!r;c++)r=window[l[c]+"RequestAnimationFrame"],o=window[l[c]+"CancelAnimationFrame"]||window[l[c]+"CancelRequestAnimationFrame"];r&&(r=r.bind(window),o=o.bind(window))}o=o||function(f){clearTimeout(f)},(r=r||function(f){var p=i(),g=Math.max(0,16-(p-s)),y=setTimeout(function(){f(p+g)},g);return s=p+g,y}).cancel=o,t=r,n.exports=t},2230:function(n,t,e){var r=e(3612);t=function(o){var i=(o=r(o))[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}},n.exports=t},2263:function(n,t,e){var r=e(2717),o=e(365),i=e(9100),a=e(4951),s=e(8996),l=e(8420);t=r({initialize:function(){this._events=this._events||{}},on:function(c,d){return this._events[c]=this._events[c]||[],this._events[c].push(d),this},off:function(c,d){var f=this._events;if(o(f,c)){var p=f[c].indexOf(d);return p>-1&&f[c].splice(p,1),this}},once:function(c,d){return this.on(c,s(d)),this},emit:function(c){var d=this;if(o(this._events,c)){var f=a(arguments,1),p=l(this._events[c]);return i(p,function(g){return g.apply(d,f)},this),this}},removeAllListeners:function(c){return c?delete this._events[c]:this._events={},this}},{mixin:function(c){i(["on","off","once","emit","removeAllListeners"],function(d){c[d]=t.prototype[d]}),c._events=c._events||{}}}),n.exports=t},2284:function(n,t,e){function r(o){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},r(o)}e.d(t,{A:function(){return r}})},2388:function(n,t,e){e.d(t,{A:function(){return Lt}});var r=e(7528),o=e(3029),i=e(2901),a=e(388),s=e(3954),l=e(991),c=e(5361),d=e(3693),f=e.n(d),p=e(5773),g=e.n(p),y=e(2263),m=e.n(y),w=e(3915),h=e.n(w),v=e(9405),_=e.n(v),S=e(5169),B=e.n(S),$=e(9548),x=e.n($),G=(e(6097),e(3249)),te=e.n(G),ee=e(6030),de=e.n(ee),ve=e(5004),Y=e.n(ve),z=(e(9410),e(8609)),D=e.n(z);function N(dt){var lt="luna-".concat(dt,"-");function ge(Oe){return h()(_()(Oe).split(/\s+/),function(U){return te()(U,lt)?U:U.replace(/[\w-]+/,function(ke){return"".concat(lt).concat(ke)})}).join(" ")}return function(Oe){if(/<[^>]*>/g.test(Oe))try{var U=x().parse(Oe);return j(U,function(ke){ke.attrs&&ke.attrs.class&&(ke.attrs.class=ge(ke.attrs.class))}),x().stringify(U)}catch{return ge(Oe)}return ge(Oe)}}function j(dt,lt){for(var ge=0,Oe=dt.length;ge<Oe;ge++){var U=dt[ge];lt(U),U.content&&j(U.content,lt)}}B();function P(dt,lt){var ge="clientX";return lt[ge]?lt[ge]:lt.changedTouches?lt.changedTouches[0][ge]:0}function E(dt){return de()(dt.replace("px",""))}var K=e(9100),q=e.n(K),Ae=e(8105),_e=e.n(Ae),Ce=e(5651),Z=e.n(Ce),fe=e(961),Me=e.n(fe),Pe=e(7e3),He=e.n(Pe),Ye=e(1009),Xe=e.n(Ye);function qe(){try{var dt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!dt})()}var tt,ot=function(dt){function lt(ge,Oe){var U,ke,se=Oe.compName,we=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,pe=we===void 0?"light":we;return(0,o.A)(this,lt),U=function(me,je,at){return je=(0,s.A)(je),(0,a.A)(me,qe()?Reflect.construct(je,[],(0,s.A)(me).constructor):je.apply(me,at))}(this,lt),U.subComponents=[],U.theme="",U.onThemeChange=function(me){U.options.theme==="auto"&&U.setTheme(me)},U.compName=se,U.c=N(se),U.options={},U.container=ge,U.$container=f()(ge),U.$container.addClass(["luna-".concat(se),U.c("platform-".concat((ke=Y()(),ke==="os x"?"mac":ke)))]),U.on("changeOption",function(me,je){if(me==="theme"&&je){var at=je;je==="auto"&&(at=He().get()),U.setTheme(at),q()(U.subComponents,function(Le){return Le.setOption("theme",je)})}}),He().on("change",U.onThemeChange),U.setOption("theme",pe),U}return(0,c.A)(lt,dt),(0,i.A)(lt,[{key:"destroy",value:function(){var ge=this;this.destroySubComponents();var Oe=this.$container,U=Oe.attr("class");q()(U.split(/\s+/),function(ke){Xe()(ke,"luna-".concat(ge.compName))&&Oe.rmClass(ke)}),Oe.html(""),this.emit("destroy"),this.removeAllListeners(),He().off("change",this.onThemeChange)}},{key:"setOption",value:function(ge,Oe){var U=this,ke=this.options,se={};typeof ge=="string"?se[ge]=Oe:se=ge,q()(se,function(we,pe){var me=ke[pe];ke[pe]=we,we!==me&&U.emit("changeOption",pe,we,me)})}},{key:"getOption",value:function(ge){return this.options[ge]}},{key:"addSubComponent",value:function(ge){ge.setOption("theme",this.options.theme),this.subComponents.push(ge)}},{key:"removeSubComponent",value:function(ge){Me()(this.subComponents,function(Oe){return Oe===ge})}},{key:"destroySubComponents",value:function(){q()(this.subComponents,function(ge){return ge.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(ge){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z()(ge,Oe),_e()(this.options,ge)}},{key:"find",value:function(ge){return this.$container.find(this.c(ge))}},{key:"setTheme",value:function(ge){var Oe=this.c,U=this.$container;this.theme&&U.rmClass(Oe("theme-".concat(this.theme))),U.addClass(Oe("theme-".concat(ge))),this.theme=ge}}])}(m()),be=e(5902),ye=e.n(be),ne=e(5241),J=e.n(ne),M=e(2561),ae=e.n(M),H=e(2708),he=e.n(H),Te=e(8971),oe=e.n(Te),re=e(4095),le=e.n(re),Ie=e(5865),Be=e.n(Ie),Ke=e(1532),Je=e.n(Ke),Ze=e(4236),st=e.n(Ze),pt=e(3957),kt=e.n(pt),Kt=e(1976),Gt=e.n(Kt),Pt=e(6214),Yt=e.n(Pt),zt=e(1738),At=e.n(zt),Jt=e(96),It=e.n(Jt),Qe=e(6026),Re=e.n(Qe),W=e(3539),R=e.n(W),Q=e(8785),ie=e.n(Q),Se=e(6024),Ue=e.n(Se),Ne=e(3981),I=e.n(Ne),nt=e(5546),it=e.n(nt);function yt(){try{var dt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yt=function(){return!!dt})()}n=e.hmd(n);var Rt=f()(document),Lt=function(dt){function lt(ge,Oe){var U,ke,se,we;(0,o.A)(this,lt),ke=this,se=lt,we=[ge,{compName:"data-grid"},Oe],se=(0,s.A)(se),(U=(0,a.A)(ke,yt()?Reflect.construct(se,we||[],(0,s.A)(ke).constructor):se.apply(ke,we))).resizeIdx=0,U.resizeStartX=0,U.resizeStartLeft=0,U.resizeDeltaX=0,U.nodes=[],U.displayNodes=[],U.colWidthsInitialized=!1,U.colMap={},U.selectedNode=null,U.isAscending=!0,U.sorted=!1,U.colWidths=[],U.spaceHeight=0,U.topSpaceHeight=0,U.lastScrollTop=0,U.lastTimestamp=0,U.speedToleranceFactor=100,U.maxSpeedTolerance=2e3,U.minSpeedTolerance=100,U.scrollTimer=null,U.onResizeColMove=function(Le){var Ve=U,rt=Ve.resizeIdx,Ge=Ve.$resizers,mt=Ve.colWidths,ht=Ve.$colgroup,ft=P("x",Le=Le.origEvent)-U.resizeStartX,bt=mt[rt],St=mt[rt+1],_t=ie()(24-bt,0),xt=R()(St-24,0);ft=Re()(ft,_t,xt),ht.each(function(){var jt=f()(this).find("col");jt.eq(rt).css("width",bt+ft+"px"),jt.eq(rt+1).css("width",St-ft+"px")}),U.resizeDeltaX=ft;var Nt=U.resizeStartLeft+ft;Ge.eq(rt).css("left","".concat(Nt,"px"))},U.onResizeColEnd=function(Le){U.onResizeColMove(Le);var Ve=U,rt=Ve.c,Ge=Ve.colWidths,mt=Ve.resizeIdx,ht=Ve.resizeDeltaX,ft=U.options.columns,bt=ft[mt],St=ft[mt+1],_t=Ge[mt]+ht,xt=_t+(Ge[mt+1]-ht),Nt=bt.weight+St.weight,jt=Nt*(_t/xt),Ht=Nt-jt;bt.weight=jt,St.weight=Ht,U.applyColWeights(),f()(document.body).rmClass(rt("resizing")),Rt.off(it()("move"),U.onResizeColMove),Rt.off(it()("up"),U.onResizeColEnd)},U.onScroll=function(){var Le=U.dataContainer,Ve=Le.scrollHeight,rt=Le.clientHeight,Ge=Le.scrollTop;if(!(Ge<=0||rt+Ge>Ve)){var mt=U.lastScrollTop,ht=U.lastTimestamp,ft=I()(),bt=ft-ht,St=Ge-mt,_t=Math.abs(St/bt)*U.speedToleranceFactor;bt>1e3&&(_t=1e3),_t>U.maxSpeedTolerance&&(_t=U.maxSpeedTolerance),_t<U.minSpeedTolerance&&(_t=U.minSpeedTolerance),U.lastScrollTop=Ge,U.lastTimestamp=ft;var xt=0,Nt=0;mt<Ge?(xt=U.minSpeedTolerance,Nt=_t):(xt=_t,Nt=U.minSpeedTolerance),U.topSpaceHeight<Ge-xt&&U.topSpaceHeight+U.data.offsetHeight>Ge+rt+Nt||(U.renderData({topTolerance:2*xt,bottomTolerance:2*Nt}),U.scrollTimer&&clearTimeout(U.scrollTimer),U.scrollTimer=setTimeout(function(){U.renderData()},100))}},U.renderData=Be()(function(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ve=Le.topTolerance,rt=Ve===void 0?500:Ve,Ge=Le.bottomTolerance,mt=Ge===void 0?500:Ge;U.sortId&&!U.sorted&&U.sortNodes(U.sortId,U.isAscending);for(var ht=U,ft=ht.dataContainer,bt=ht.displayNodes,St=ht.tableBody,_t=ft.scrollTop,xt=_t-rt,Nt=_t+ft.clientHeight+mt,jt=0,Ht=0,Zt=bt.length,rn=[],qt=0;qt<Zt;qt++){var Qt=bt[qt];Ht<=Nt&&(Ht+20>xt?(rn.length===0&&Ue()(qt)&&(rn.push(bt[qt-1]),jt-=20),rn.push(Qt)):Ht<xt&&(jt+=20)),Ht+=20}U.updateSpace(Ht),U.updateTopSpace(jt);for(var Vt=document.createDocumentFragment(),ln=0,bn=rn.length;ln<bn;ln++)Vt.appendChild(rn[ln].container);Vt.appendChild(U.fillerRow),St.textContent="",St.appendChild(Vt)},16),U.$container.attr("tabindex","0"),U.resizeSensor=new(le())(ge),U.onResize=Be()(function(){U.updateHeight(),U.updateWeights(),U.renderData()},16),Oe.height&&(Oe.maxHeight=Oe.height,Oe.minHeight=Oe.height),U.initOptions(Oe,{minHeight:41,maxHeight:1/0,filter:"",selectable:!1});var pe=U.options,me=pe.columns,je=pe.minHeight,at=pe.maxHeight;return q()(me,function(Le){Z()(Le,{sortable:!1}),U.colMap[Le.id]=Le}),at<je&&U.setOption("maxHeight",je),U.initTpl(),U.$headerRow=U.find(".header").find("tr"),U.$fillerRow=U.find(".filler-row"),U.fillerRow=U.$fillerRow.get(0),U.$data=U.find(".data"),U.data=U.$data.get(0),U.$tableBody=U.$data.find("tbody"),U.tableBody=U.$tableBody.get(0),U.$colgroup=U.$container.find("colgroup"),U.$dataContainer=U.find(".data-container"),U.dataContainer=U.$dataContainer.get(0),U.$space=U.find(".data-space"),U.space=U.$space.get(0),U.renderHeader(),U.renderResizers(),U.updateWeights(),U.updateHeight(),U.bindEvent(),U}return(0,c.A)(lt,dt),(0,i.A)(lt,[{key:"destroy",value:function(){var ge,Oe,U,ke,se;(ge=lt,Oe="destroy",U=this,ke=3,se=(0,l.A)((0,s.A)(1&ke?ge.prototype:ge),Oe,U),2&ke&&typeof se=="function"?function(we){return se.apply(U,we)}:se)([]),this.resizeSensor.destroy(),this.$container.rmAttr("tabindex")}},{key:"remove",value:function(ge){var Oe=this.nodes,U=this.displayNodes;Me()(Oe,function(ke){return ke===ge}),Me()(U,function(ke){return ke===ge}),ge===this.selectedNode&&this.selectNode(null),this.renderData(),this.updateHeight()}},{key:"append",value:function(ge){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z()(Oe,{selectable:this.options.selectable});var U=new Dt(this,ge,Oe);this.nodes.push(U);var ke=this.filterNode(U);return ke&&this.displayNodes.push(U),(this.sortId||ke)&&(this.sortId&&(this.sorted=!1),this.renderData()),this.updateHeight(),U}},{key:"setData",value:function(ge,Oe){var U=this,ke=h()(ge,function(me){return Yt()(me)?(Z()(me[1],{selectable:U.options.selectable}),me):[me,{selectable:U.options.selectable}]});if(Oe){var se={};q()(this.nodes,function(me){se[me.data[Oe]]=me});var we=[],pe=[];q()(ke,function(me){var je,at=me[0][Oe];se[at]?((je=se[at]).data=me[0],je.render()):je=new Dt(U,me[0],me[1]),we.push(je),U.filterNode(je)&&pe.push(je)}),this.selectedNode&&!te()(we,this.selectedNode)&&this.selectNode(null),this.nodes=we,this.displayNodes=pe}else this.clearData(),q()(ke,function(me){var je=new Dt(U,me[0],me[1]);U.nodes.push(je),U.filterNode(je)&&U.displayNodes.push(je)});this.sortId&&(this.sorted=!1),this.renderData(),this.updateHeight()}},{key:"clear",value:function(){this.clearData(),this.renderData(),this.updateHeight()}},{key:"fit",value:function(){if(!D()(this.container)){var ge=this.$container.parent().get(0),Oe=window.getComputedStyle(ge),U=ge.clientHeight-E(Oe.paddingTop)-E(Oe.paddingBottom);this.setOption({minHeight:U,maxHeight:U})}}},{key:"clearData",value:function(){this.nodes=[],this.displayNodes=[],this.selectNode(null)}},{key:"updateHeight",value:function(){var ge=this.$fillerRow,Oe=this.$container,U=this.options,ke=U.maxHeight,se=U.minHeight,we=this.$headerRow.offset().height+E(Oe.css("border-top-width"))+E(Oe.css("border-bottom-width"));(se-=we)<0&&(se=0),ke-=we;var pe=this.displayNodes.length,me=0;pe>0&&(me=20*pe),me>se?ge.hide():ge.show(),me<se?me=se:me>=ke&&(me=ke),this.$dataContainer.css({height:me})}},{key:"selectNode",value:function(ge){(st()(ge)||ge!=null&&ge.selectable)&&this.selectedNode!==ge&&(this.selectedNode&&(this.selectedNode.deselect(),this.selectedNode=null,st()(ge)&&this.emit("deselect")),st()(ge)||(this.selectedNode=ge,ge.select(),this.emit("select",ge)))}},{key:"onResizeColStart",value:function(ge){var Oe=this.c,U=this.resizeIdx,ke=this.$resizers;ge.stopPropagation(),ge.preventDefault(),ge=ge.origEvent,this.resizeStartX=P("x",ge),this.resizeStartLeft=E(ke.eq(U).css("left")),f()(document.body).addClass(Oe("resizing")),Rt.on(it()("move"),this.onResizeColMove),Rt.on(it()("up"),this.onResizeColEnd)}},{key:"bindEvent",value:function(){var ge=this,Oe=this.c,U=this.$headerRow,ke=this.$tableBody,se=this.$resizers,we=this.$dataContainer;this.resizeSensor.addListener(this.onResize),we.on("scroll",this.onScroll);var pe=this;ke.on("click",Oe(".node"),function(me){var je=this;pe.selectNode(this.dataGridNode),setTimeout(function(){je.hasDoubleClick||pe.emit("click",me.origEvent,je.dataGridNode)},200)}).on("dblclick",Oe(".node"),function(me){var je=this;me.stopPropagation(),this.hasDoubleClick=!0,pe.emit("dblclick",me.origEvent,this.dataGridNode),setTimeout(function(){je.hasDoubleClick=!1},300)}).on("contextmenu",Oe(".node"),function(me){me.preventDefault(),me.stopPropagation(),pe.selectNode(this.dataGridNode),pe.emit("contextmenu",me.origEvent,this.dataGridNode)}),U.on("click",Oe(".sortable"),function(me){me.stopPropagation();var je=f()(this),at=je.data("id"),Le=je.data("order")!=="descending";je.data("order",Le?"descending":"ascending"),U.find(Oe(".icon-caret-up")).hide(),U.find(Oe(".icon-caret-down")).hide();var Ve=je.find(Oe(".icon-caret-up")),rt=je.find(Oe(".icon-caret-down"));Le?Ve.show():rt.show(),pe.sortNodes(at,Le),pe.renderData(),U.find("th").each(function(){var Ge=f()(this);Ge.data("id")!==at&&Ge.rmAttr("data-order")})}),se.on(it()("down"),function(me){var je=f()(this);pe.resizeIdx=de()(je.data("idx")),pe.onResizeColStart(me)}),this.on("changeOption",function(me){switch(me){case"minHeight":case"maxHeight":ge.updateHeight();break;case"filter":ge.displayNodes=[],q()(ge.nodes,function(je){ge.filterNode(je)&&ge.displayNodes.push(je)}),ge.selectedNode&&!ge.filterNode(ge.selectedNode)&&ge.selectNode(null),ge.renderData(),ge.updateHeight()}})}},{key:"sortNodes",value:function(ge,Oe){var U=this.colMap[ge].comparator||Je().comparator;function ke(se,we){var pe=se.data[ge],me=we.data[ge];return he()(pe)&&(pe=pe.innerText),he()(me)&&(me=me.innerText),Oe?U(pe,me):U(me,pe)}this.nodes.sort(ke),this.displayNodes.sort(ke),this.sorted=!0,this.sortId=ge,this.isAscending=Oe}},{key:"updateWeights",value:function(){var ge=this.container,Oe=this.$headerRow,U=this.options.columns,ke=ge.offsetWidth;if(!this.colWidthsInitialized&&ke){for(var se=0,we=U.length;se<we;se++){var pe=U[se];if(!pe.weight){var me=Oe.find("th").get(se).offsetWidth;pe.weight=100*me/ke}}this.colWidthsInitialized=!0}this.applyColWeights()}},{key:"applyColWeights",value:function(){var ge=this.container,Oe=this.$colgroup,U=this.options.columns,ke=ge.offsetWidth;if(!(ke<=0)){for(var se=0,we=U.length,pe=0;pe<we;pe++)se+=U[pe].weight;var me="",je=0,at=0;this.colWidths=[];for(var Le=0;Le<we;Le++){var Ve=(je+=U[Le].weight)*ke/se|0,rt=Math.max(Ve-at,14);at=Ve,me+='<col style="width:'.concat(rt,'px"></col>'),this.colWidths[Le]=rt}Oe.html(me),this.positionResizers()}}},{key:"positionResizers",value:function(){for(var ge=this.colWidths,Oe=[],U=ge.length-1,ke=0;ke<U;ke++)Oe[ke]=(Oe[ke-1]||0)+ge[ke];for(var se=0;se<U;se++)this.$resizers.eq(se).css("left",Oe[se]+"px")}},{key:"updateTopSpace",value:function(ge){this.topSpaceHeight=ge,this.data.style.top=ge+"px"}},{key:"updateSpace",value:function(ge){this.spaceHeight!==ge&&(this.spaceHeight=ge,this.space.style.height=ge+"px")}},{key:"filterNode",value:function(ge){var Oe=this.options.filter;if(Oe){if(kt()(Oe))return Oe(ge);if(Gt()(Oe))return Oe.test(ge.text());if(At()(Oe)&&(Oe=_()(Oe)))return te()(It()(ge.text()),It()(Oe))}return!0}},{key:"renderHeader",value:function(){var ge=this.c,Oe="",U="";q()(this.options.columns,function(ke){var se=ye()(ke.title);ke.sortable?Oe+=ge(`
          <th class="sortable" data-id="`.concat(ke.id,`">
            `).concat(se,`
            <span class="icon-caret-up"></span>
            <span class="icon-caret-down"></span>
          </th>`)):Oe+="<th>".concat(se,"</th>"),U+="<td></td>"}),this.$headerRow.html(Oe),this.$fillerRow.html(U)}},{key:"renderResizers",value:function(){for(var ge="",Oe=this.options.columns.length-1,U=0;U<Oe;U++)ge+=this.c('<div class="resizer" data-idx="'.concat(U,'"></div>'));this.$container.append(ge),this.$resizers=this.find(".resizer")}},{key:"initTpl",value:function(){this.$container.html(this.c(g()(tt||(tt=(0,r.A)([`
        <div class="header-container">
          <table class="header">
            <colgroup></colgroup>
            <tbody>
              <tr></tr>
            </tbody>
          </table>
        </div>
        <div class="data-container">
          <div class="data-space">
            <table class="data">
              <colgroup></colgroup>
              <tbody>
                <tr class="filler-row"></tr>
              </tbody>
            </table>
          </div>
        </div>
      `])))))}}])}(ot),Dt=function(){return(0,i.A)(function dt(lt,ge,Oe){(0,o.A)(this,dt),this.container=J()("tr"),this.selectable=!1,this.container.dataGridNode=this,this.$container=f()(this.container),this.$container.addClass(lt.c("node")),this.dataGrid=lt,this.data=ge,Oe.selectable&&(this.selectable=Oe.selectable,this.$container.addClass(lt.c("selectable"))),this.render()},[{key:"text",value:function(){return this.$container.text()}},{key:"select",value:function(){this.$container.addClass(this.dataGrid.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.dataGrid.c("selected"))}},{key:"render",value:function(){var dt=this.data,lt=this.$container,ge=this.container,Oe=this.dataGrid.getOption("columns");lt.html(""),q()(Oe,function(U){var ke=J()("td"),se=dt[U.id];oe()(se)||(he()(se)?ke.appendChild(se):ke.innerText=ae()(se)),ge.appendChild(ke)})}}])}();(function(dt,lt){try{dt.exports=lt,dt.exports.default=lt}catch{}})(n,Lt)},2455:function(n,t){t=function(e){return e},n.exports=t},2480:function(n,t,e){var r=this&&this.__createBinding||(Object.create?function(Z,fe,Me,Pe){Pe===void 0&&(Pe=Me);var He=Object.getOwnPropertyDescriptor(fe,Me);He&&!("get"in He?!fe.__esModule:He.writable||He.configurable)||(He={enumerable:!0,get:function(){return fe[Me]}}),Object.defineProperty(Z,Pe,He)}:function(Z,fe,Me,Pe){Pe===void 0&&(Pe=Me),Z[Pe]=fe[Me]}),o=this&&this.__setModuleDefault||(Object.create?function(Z,fe){Object.defineProperty(Z,"default",{enumerable:!0,value:fe})}:function(Z,fe){Z.default=fe}),i=this&&this.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var fe={};if(Z!=null)for(var Me in Z)Me!=="default"&&Object.prototype.hasOwnProperty.call(Z,Me)&&r(fe,Z,Me);return o(fe,Z),fe},a=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=function(){if(!x){var Z=(0,p.default)("div",{class:"__chobitsu-hide__",style:{all:"initial"}});l=(0,f.default)(Z),document.documentElement.appendChild(Z);var fe=null,Me=null;if(Z.attachShadow?Me=Z.attachShadow({mode:"open"}):Z.createShadowRoot&&(Me=Z.createShadowRoot()),Me){var Pe=document.createElement("style");Pe.textContent=ee,Pe.type="text/css",Me.appendChild(Pe),fe=document.createElement("div"),Me.appendChild(fe)}else fe=document.createElement("div"),Z.appendChild(fe),$||((0,g.default)(ee),$=!0);s=new S.default(fe,{monitorResize:(0,v.default)(h.default.ResizeObserver),showInfo:G}),window.addEventListener("resize",Ae),x=!0}},t.disable=function(){s.destroy(),l.remove(),window.removeEventListener("resize",Ae),x=!1},t.highlightNode=de,t.hideHighlight=ve,t.setShowViewportSizeOnResize=function(Z){Y=Z.show},t.setInspectMode=function(Z){z=Z.highlightConfig,D=Z.mode};var s,l,c=e(9893),d=e(6192),f=a(e(3693)),p=a(e(5241)),g=a(e(3048)),y=a(e(5651)),m=a(e(8105)),w=a(e(8665)),h=a(e(5169)),v=a(e(9e3)),_=a(e(8534)),S=a(e(9196)),B=i(e(2484)),$=!1,x=!1,G=(0,_.default)("clip-path","polygon(50% 0px, 0px 100%, 100% 100%)"),te="ontouchstart"in h.default,ee=e(7119).replace("/*# sourceMappingURL=luna-dom-highlighter.css.map*/","");function de(Z){var fe,Me=Z.nodeId,Pe=Z.highlightConfig,He=Z.objectId;Me&&(fe=(0,c.getNode)(Me)),He&&(fe=B.getObj(He)),fe.nodeType!==1&&fe.nodeType!==3||((0,y.default)(Pe,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),G||(0,m.default)(Pe,{showInfo:!1}),s.highlight(fe,Pe))}function ve(){s.hide()}var Y=!1,z={},D="none";function N(Z){if(te){var fe=Z.touches[0]||Z.changedTouches[0];return document.elementFromPoint(fe.clientX,fe.clientY)}return document.elementFromPoint(Z.clientX,Z.clientY)}var j=-1;function P(Z){if(D!=="none"){var fe=N(Z);if(fe&&(0,c.isValidNode)(fe)){var Me=(0,c.getNodeId)(fe);Me||(Me=(0,d.pushNodesToFrontend)(fe)),de({nodeId:Me,highlightConfig:z}),Me!==j&&(w.default.trigger("Overlay.nodeHighlightRequested",{nodeId:Me}),j=Me)}}}function E(Z){if(D!=="none"){Z.preventDefault(),Z.stopImmediatePropagation();var fe=N(Z);w.default.trigger("Overlay.inspectNodeRequested",{backendNodeId:(0,c.getNodeId)(fe)}),j=-1,ve()}}function K(Z,fe){document.documentElement.addEventListener(Z,fe,!0)}te?(K("touchstart",P),K("touchmove",P),K("touchend",E)):(K("mousemove",P),K("mouseout",function(){D!=="none"&&ve()}),K("click",E));var q=(0,p.default)("div",{class:"__chobitsu-hide__",style:{position:"fixed",right:0,top:0,background:"#fff",fontSize:13,opacity:.5,padding:"4px 6px"}});function Ae(){Y&&(Ce.text("".concat(window.innerWidth,"px × ").concat(window.innerHeight,"px")),_e?clearTimeout(_e):document.documentElement.appendChild(q),_e=setTimeout(function(){Ce.remove(),_e=null},1e3))}var _e,Ce=(0,f.default)(q)},2484:function(n,t,e){var r=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0}),t.clear=function(){S.clear(),B.clear(),$.clear()},t.wrap=ee,t.getObj=de,t.releaseObj=function(E){var K=de(E);B.delete(K),$.delete(E),S.delete(E)},t.getProperties=function(E){for(var K=E.accessorPropertiesOnly,q=E.objectId,Ae=E.ownProperties,_e=E.generatePreview,Ce=[],Z={prototype:!Ae,unenumerable:!0,symbol:!K},fe=S.get(q),Me=$.get(q),Pe=(0,m.default)(fe,Z),He=(0,h.default)(fe),Ye=0,Xe=Pe.length;Ye<Xe;Ye++){var qe=Pe[Ye],tt=void 0;try{tt=Me[qe]}catch{}var ot={name:(0,o.default)(qe),isOwn:(0,_.has)(Me,qe)},be=Object.getOwnPropertyDescriptor(fe,qe);if(!be&&He&&(be=Object.getOwnPropertyDescriptor(He,qe)),be){if(K&&!be.get&&!be.set)continue;ot.configurable=be.configurable,ot.enumerable=be.enumerable,ot.writable=be.writable,be.get&&(ot.get=ee(be.get)),be.set&&(ot.set=ee(be.set))}He&&(0,_.has)(He,qe)&&ot.enumerable&&(ot.isOwn=!0);var ye=!0;!ot.isOwn&&ot.get&&(ye=!1),ye&&((0,v.default)(qe)?(ot.symbol=ee(qe),ot.value={type:"undefined"}):ot.value=ee(tt,{generatePreview:_e})),K&&(0,s.default)(tt)&&(0,w.default)(tt)||Ce.push(ot)}if(!He||Ae||P(fe)||Ce.push({name:"__proto__",configurable:!0,enumerable:!1,isOwn:(0,_.has)(fe,"__proto__"),value:ee(He,{self:Me}),writable:!1}),K)return{result:Ce};var ne=[];if(He&&!P(fe)&&ne.push({name:"[[Prototype]]",value:ee(He,{self:Me})}),(0,d.default)(fe)||(0,f.default)(fe)){var J=function(M){for(var ae=x.get(M),H=ae?de(ae):[],he=M.entries(),Te=he.next().value;Te;)(0,d.default)(M)?H.push(new j(Te[1],Te[0])):H.push(new j(Te[1])),Te=he.next().value;return H}(fe);ne.push({name:"[[Entries]]",value:ee(J)})}return{internalProperties:ne,result:Ce}};var o=r(e(2561)),i=r(e(4236)),a=r(e(6214)),s=r(e(3957)),l=r(e(2708)),c=r(e(2650)),d=r(e(1751)),f=r(e(5945)),p=r(e(1976)),g=r(e(3145)),y=r(e(1168)),m=r(e(7514)),w=r(e(9122)),h=r(e(5427)),v=r(e(9350)),_=e(916),S=new Map,B=new Map,$=new Map,x=new Map,G=1;function te(E,K){var q=B.get(E);return q||(q=JSON.stringify({injectedScriptId:0,id:G++}),B.set(E,q),S.set(q,E),$.set(q,K),q)}function ee(E,K){var q=K===void 0?{}:K,Ae=q.generatePreview,_e=Ae!==void 0&&Ae,Ce=q.self,Z=Ce===void 0?E:Ce,fe=N(E),Me=fe.type,Pe=fe.subtype;return Me==="undefined"?fe:Me==="string"||Me==="boolean"||Pe==="null"?(fe.value=E,fe):(fe.description=D(E,Z),Me==="number"?(fe.value=E,fe):Me==="symbol"?(fe.objectId=te(E,Z),fe):(fe.className=Me==="function"?"Function":Pe==="array"?"Array":Pe==="map"?"Map":Pe==="set"?"Set":Pe==="regexp"?"RegExp":Pe==="error"?E.name:(0,_.getType)(E,!1),_e&&(fe.preview=Y(E,Z)),fe.objectId=te(E,Z),fe))}function de(E){return S.get(E)}var ve=5;function Y(E,K){K===void 0&&(K=E);var q=N(E);q.description=D(E,K);var Ae=!1,_e=[],Ce=(0,g.default)(E),Z=Ce.length;Z>ve&&(Z=ve,Ae=!0);for(var fe=0;fe<Z;fe++){var Me=Ce[fe];_e.push(z(Me,K[Me]))}if(q.properties=_e,(0,d.default)(E)){for(var Pe=[],He=(fe=0,E.keys()),Ye=He.next().value;Ye;){if(fe>ve){Ae=!0;break}Pe.push({key:Y(Ye),value:Y(E.get(Ye))}),fe++,Ye=He.next().value}q.entries=Pe}else if((0,f.default)(E)){var Xe=[],qe=(fe=0,E.keys());for(Ye=qe.next().value;Ye;){if(fe>ve){Ae=!0;break}Xe.push({value:Y(Ye)}),fe++,Ye=qe.next().value}q.entries=Xe}return q.overflow=Ae,q}function z(E,K){var q=N(K);q.name=E;var Ae,_e=q.subtype;return Ae=q.type==="object"?_e==="null"?"null":_e==="array"?"Array(".concat(K.length,")"):_e==="map"?"Map(".concat(K.size,")"):_e==="set"?"Set(".concat(K.size,")"):(0,_.getType)(K,!1):(0,o.default)(K),q.value=Ae,q}function D(E,K){K===void 0&&(K=E);var q=N(E),Ae=q.type,_e=q.subtype;return Ae==="string"?E:Ae==="number"||Ae==="symbol"?(0,o.default)(E):Ae==="function"?(0,y.default)(E):_e==="array"?"Array(".concat(E.length,")"):_e==="map"?"Map(".concat(K.size,")"):_e==="set"?"Set(".concat(K.size,")"):_e==="regexp"?(0,o.default)(E):_e==="error"?E.stack:_e==="internal#entry"?E.name?'{"'.concat((0,o.default)(E.name),'" => "').concat((0,o.default)(E.value),'"}'):'"'.concat((0,o.default)(E.value),'"'):(0,_.getType)(E,!1)}function N(E){var K=typeof E,q="object";if(E instanceof j)q="internal#entry";else if((0,i.default)(E))q="null";else if((0,a.default)(E))q="array";else if((0,p.default)(E))q="regexp";else if((0,c.default)(E))q="error";else if((0,d.default)(E))q="map";else if((0,f.default)(E))q="set";else try{(0,l.default)(E)&&(q="node")}catch{}return{type:K,subtype:q}}var j=function(E,K){K&&(this.name=K),this.value=E};function P(E){return E instanceof j||!!(E[0]&&E[0]instanceof j)}},2508:function(n,t,e){var r=e(6186),o=e(2561),i=/{{(.*?)}}/g;t=function(a,s){return a.replace(i,function(l,c){return o(r(s,c))})},n.exports=t},2510:function(n,t){t=function(e,r){return r=r==null?e.length-1:+r,function(){var o,i=Math.max(arguments.length-r,0),a=new Array(i);for(o=0;o<i;o++)a[o]=arguments[o+r];switch(r){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var s=new Array(r+1);for(o=0;o<r;o++)s[o]=arguments[o];return s[r]=a,e.apply(this,s)}},n.exports=t},2517:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object Date]"},n.exports=t},2556:function(n,t,e){e.d(t,{A:function(){return tt}});var r=e(3029),o=e(2901),i=e(388),a=e(3954),s=e(5361),l=e(3693),c=e.n(l),d=e(5630),f=e.n(d),p=e(8438),g=e.n(p),y=e(5241),m=e.n(y),w=e(2263),h=e.n(w),v=e(3915),_=e.n(v),S=e(9405),B=e.n(S),$=e(5169),x=e.n($),G=e(9548),te=e.n(G),ee=(e(6097),e(3249)),de=e.n(ee),ve=(e(6030),e(5004)),Y=e.n(ve);e(9410),e(8609);function z(be){var ye="luna-".concat(be,"-");function ne(J){return _()(B()(J).split(/\s+/),function(M){return de()(M,ye)?M:M.replace(/[\w-]+/,function(ae){return"".concat(ye).concat(ae)})}).join(" ")}return function(J){if(/<[^>]*>/g.test(J))try{var M=te().parse(J);return D(M,function(ae){ae.attrs&&ae.attrs.class&&(ae.attrs.class=ne(ae.attrs.class))}),te().stringify(M)}catch{return ne(J)}return ne(J)}}function D(be,ye){for(var ne=0,J=be.length;ne<J;ne++){var M=be[ne];ye(M),M.content&&D(M.content,ye)}}x();var N=e(9100),j=e.n(N),P=e(8105),E=e.n(P),K=e(5651),q=e.n(K),Ae=e(961),_e=e.n(Ae),Ce=e(7e3),Z=e.n(Ce),fe=e(1009),Me=e.n(fe);function Pe(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pe=function(){return!!be})()}var He=function(be){function ye(ne,J){var M,ae,H=J.compName,he=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Te=he===void 0?"light":he;return(0,r.A)(this,ye),M=function(oe,re,le){return re=(0,a.A)(re),(0,i.A)(oe,Pe()?Reflect.construct(re,[],(0,a.A)(oe).constructor):re.apply(oe,le))}(this,ye),M.subComponents=[],M.theme="",M.onThemeChange=function(oe){M.options.theme==="auto"&&M.setTheme(oe)},M.compName=H,M.c=z(H),M.options={},M.container=ne,M.$container=c()(ne),M.$container.addClass(["luna-".concat(H),M.c("platform-".concat((ae=Y()(),ae==="os x"?"mac":ae)))]),M.on("changeOption",function(oe,re){if(oe==="theme"&&re){var le=re;re==="auto"&&(le=Z().get()),M.setTheme(le),j()(M.subComponents,function(Ie){return Ie.setOption("theme",re)})}}),Z().on("change",M.onThemeChange),M.setOption("theme",Te),M}return(0,s.A)(ye,be),(0,o.A)(ye,[{key:"destroy",value:function(){var ne=this;this.destroySubComponents();var J=this.$container,M=J.attr("class");j()(M.split(/\s+/),function(ae){Me()(ae,"luna-".concat(ne.compName))&&J.rmClass(ae)}),J.html(""),this.emit("destroy"),this.removeAllListeners(),Z().off("change",this.onThemeChange)}},{key:"setOption",value:function(ne,J){var M=this,ae=this.options,H={};typeof ne=="string"?H[ne]=J:H=ne,j()(H,function(he,Te){var oe=ae[Te];ae[Te]=he,he!==oe&&M.emit("changeOption",Te,he,oe)})}},{key:"getOption",value:function(ne){return this.options[ne]}},{key:"addSubComponent",value:function(ne){ne.setOption("theme",this.options.theme),this.subComponents.push(ne)}},{key:"removeSubComponent",value:function(ne){_e()(this.subComponents,function(J){return J===ne})}},{key:"destroySubComponents",value:function(){j()(this.subComponents,function(ne){return ne.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(ne){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};q()(ne,J),E()(this.options,ne)}},{key:"find",value:function(ne){return this.$container.find(this.c(ne))}},{key:"setTheme",value:function(ne){var J=this.c,M=this.$container;this.theme&&M.rmClass(J("theme-".concat(this.theme))),M.addClass(J("theme-".concat(ne))),this.theme=ne}}])}(h()),Ye=e(8971),Xe=e.n(Ye);function qe(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!be})()}n=e.hmd(n);var tt=function(be){function ye(ne){var J,M,ae,H,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(this,ye),M=this,ae=ye,H=[ne,{compName:"notification"},he],ae=(0,a.A)(ae),(J=(0,i.A)(M,qe()?Reflect.construct(ae,H||[],(0,a.A)(M).constructor):ae.apply(M,H))).notifications=[],J.initOptions(he,{position:{x:"right",y:"bottom"},inline:!1,duration:2e3}),J.options.inline||J.$container.addClass(J.c("full")),J.initTpl(),J}return(0,s.A)(ye,be),(0,o.A)(ye,[{key:"notify",value:function(ne){var J=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xe()(M.duration)&&(M.duration=this.options.duration);var ae=new ot(this,ne,{icon:M.icon||"none"});this.notifications.push(ae),this.add(ae),setTimeout(function(){return J.remove(ae.id)},M.duration)}},{key:"dismissAll",value:function(){for(var ne=this.notifications,J=ne[0];J;)this.remove(J.id),J=ne[0]}},{key:"add",value:function(ne){this.container.appendChild(ne.container)}},{key:"remove",value:function(ne){var J=this.notifications,M=g()(J,function(H){return H.id===ne});if(M){M.destroy();var ae=J.indexOf(M);J.splice(ae,1)}}},{key:"initTpl",value:function(){var ne=this.$container,J=this.options.position,M=J.x,ae=J.y,H="flex-end",he="flex-end";switch(M){case"center":he="center";break;case"left":he="flex-start"}ae==="top"&&(H="flex-start"),ne.attr("style","justify-content: ".concat(H,"; align-items: ").concat(he))}}])}(He),ot=function(){return(0,o.A)(function be(ye,ne,J){(0,r.A)(this,be),this.container=m()("div"),this.$container=c()(this.container),this.notification=ye,this.content=ne,this.id=f()("luna-notification-"),this.$container.attr({id:this.id,class:ye.c("item ".concat(ye.getOption("position").y==="bottom"?"lower":"upper"))}),this.initTpl(J.icon)},[{key:"destroy",value:function(){this.$container.remove()}},{key:"initTpl",value:function(be){var ye=be;be==="success"?ye="check":be==="warning"&&(ye="warn");var ne=be==="none"?"":'<div class="icon-container '.concat(be,'"><span class="icon icon-').concat(ye,'"></span></div>');this.$container.html(this.notification.c("".concat(ne,'<div class="content">').concat(this.content,"</div>")))}}])}();(function(be,ye){try{be.exports=ye,be.exports.default=ye}catch{}})(n,tt)},2561:function(n,t){t=function(e){return e==null?"":e.toString()},n.exports=t},2571:function(n,t,e){var r=e(5693),o=e(9100);t=function(i,a,s){var l=[];return a=r(a,s),o(i,function(c,d,f){a(c,d,f)&&l.push(c)}),l},n.exports=t},2627:function(n,t,e){var r=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobal=function(f,p){d[f]=p},t.default=function(f){var p;(0,c.default)(d,function(g,y){window[y]||(window[y]=g)});try{p=eval.call(window,"(".concat(f,")"))}catch{p=eval.call(window,f)}return function(){(0,c.default)(d,function(g,y){window[y]&&window[y]===g&&delete window[y]})}(),p};var o=r(e(1738)),i=r(e(4844)),a=r(e(769)),s=r(e(3145)),l=r(e(8862)),c=r(e(9100)),d={copy:function(f){(0,o.default)(f)||(f=JSON.stringify(f,null,2)),(0,i.default)(f)},$:function(f){return document.querySelector(f)},$$:function(f){return(0,a.default)(document.querySelectorAll(f))},$x:function(f){return(0,l.default)(f)},keys:s.default}},2650:function(n,t,e){var r=e(3974);t=function(o){switch(r(o)){case"[object Error]":case"[object DOMException]":return!0;default:return o instanceof Error}},n.exports=t},2693:function(n,t,e){(t=e(6314)(!1)).push([n.id,'._container a,._container abbr,._container acronym,._container address,._container applet,._container article,._container aside,._container audio,._container b,._container big,._container blockquote,._container canvas,._container caption,._container center,._container cite,._container code,._container dd,._container del,._container details,._container dfn,._container dl,._container dt,._container em,._container embed,._container fieldset,._container figcaption,._container figure,._container footer,._container form,._container h1,._container h2,._container h3,._container h4,._container h5,._container h6,._container header,._container hgroup,._container i,._container iframe,._container img,._container ins,._container kbd,._container label,._container legend,._container li,._container mark,._container menu,._container nav,._container object,._container ol,._container output,._container p,._container pre,._container q,._container ruby,._container s,._container samp,._container section,._container small,._container span,._container strike,._container strong,._container sub,._container summary,._container sup,._container table,._container tbody,._container td,._container tfoot,._container th,._container thead,._container time,._container tr,._container tt,._container u,._container ul,._container var,._container video{margin:0;padding:0;border:0;font-size:100%}._container article,._container aside,._container details,._container figcaption,._container figure,._container footer,._container header,._container hgroup,._container menu,._container nav,._container section{display:block}._container body{line-height:1}._container ol,._container ul{list-style:none}._container blockquote,._container q{quotes:none}._container blockquote:after,._container blockquote:before,._container q:after,._container q:before{content:"";content:none}._container table{border-collapse:collapse;border-spacing:0;color:inherit;font-size:1em;font-style:inherit;font-variant:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit;white-space:inherit}',""]),n.exports=t},2708:function(n,t){t=function(e){return!(!e||e.nodeType!==1)},n.exports=t},2717:function(n,t,e){var r=e(8105),o=e(769),i=e(8009),a=e(6186),s=e(4460),l=(t=function(c,d){return l.extend(c,d)}).Base=function c(d,f,p){p=p||{};var g=f.className||a(f,"initialize.name")||"";delete f.className;var y=function(){var m=o(arguments);return this.initialize&&this.initialize.apply(this,m)||this};if(!s)try{y=new Function("toArr","return function "+g+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(o)}catch{}return i(y,d),y.prototype.constructor=y,y.extend=function(m,w){return c(y,m,w)},y.inherits=function(m){i(y,m)},y.methods=function(m){return r(y.prototype,m),y},y.statics=function(m){return r(y,m),y},y.methods(f).statics(p),y}(Object,{className:"Base",callSuper:function(c,d,f){return c.prototype[d].apply(this,f)},toString:function(){return this.constructor.name}});n.exports=t},2767:function(n,t,e){var r=e(1738),o=e(5282);t=function(f){return r(f)?i[f]:d[f]};for(var i={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,windows:91,"right windows":92,"windows menu":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var s=48;s<58;s++)i[s-48]=s;for(var l=1;l<13;l++)i["f"+l]=l+111;for(var c=0;c<10;c++)i["numpad "+c]=c+96;var d=o(i);n.exports=t},2797:function(n,t,e){var r=e(5693),o=e(5793),i=e(3145);t=function(a,s,l){s=r(s,l);for(var c=!o(a)&&i(a),d=(c||a).length,f=0;f<d;f++){var p=c?c[f]:f;if(s(a[p],p,a))return!0}return!1},n.exports=t},2806:function(n,t,e){var r=e(6949),o=e(8971),i=e(2561),a=e(9350),s=e(1738);t=function(l,c,d){var f,p=(c=r(c,l)).pop();for(f=c.shift();!o(f);){if(s(f)||a(f)||(f=i(f)),f==="__proto__"||f==="constructor"||f==="prototype")return;l[f]||(l[f]={}),l=l[f],f=c.shift()}l[p]=d},n.exports=t},2884:function(n,t,e){var r=e(6097);t=function(o){return r(o)&&o%1==0},n.exports=t},2901:function(n,t,e){e.d(t,{A:function(){return i}});var r=e(816);function o(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,(0,r.A)(c.key),c)}}function i(a,s,l){return s&&o(a.prototype,s),l&&o(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a}},2971:function(n,t,e){var r=e(6214);function o(i,a){for(var s,l=i.length,c=-1;l--;)s=i[++c],r(s)?o(s,a):a.push(s);return a}t=function(i){return o(i,[])},n.exports=t},2980:function(n,t,e){var r=e(4209).A;n.exports=r,n.exports.default=r},2989:function(n,t,e){var r=e(3974),o=e(1932),i=e(96),a=e(3159);t=function(l){var c,d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return l===null&&(c="Null"),l===void 0&&(c="Undefined"),o(l)&&(c="NaN"),a(l)&&(c="Buffer"),c||(c=r(l).match(s))&&(c=c[1]),c?d?i(c):c:""};var s=/^\[object\s+(.*?)]$/;n.exports=t},2990:function(n,t){t={encode:function(a){var s,l,c=[],d=a.length,f=d%3;d-=f;for(var p=0;p<d;p+=3)c.push((s=(a[p]<<16)+(a[p+1]<<8)+a[p+2],r[s>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]));return d=a.length,f===1?(l=a[d-1],c.push(r[l>>2]),c.push(r[l<<4&63]),c.push("==")):f===2&&(l=(a[d-2]<<8)+a[d-1],c.push(r[l>>10]),c.push(r[l>>4&63]),c.push(r[l<<2&63]),c.push("=")),c.join("")},decode:function(a){var s=a.length,l=0;a[s-2]==="="?l=2:a[s-1]==="="&&(l=1);var c,d,f,p,g,y,m,w=new Array(3*s/4-l);for(s=l>0?s-4:s,c=0,d=0;c<s;c+=4){var h=(f=a[c],p=a[c+1],g=a[c+2],y=a[c+3],e[f.charCodeAt(0)]<<18|e[p.charCodeAt(0)]<<12|e[g.charCodeAt(0)]<<6|e[y.charCodeAt(0)]);w[d++]=h>>16&255,w[d++]=h>>8&255,w[d++]=255&h}return l===2?(m=e[a.charCodeAt(c)]<<2|e[a.charCodeAt(c+1)]>>4,w[d++]=255&m):l===1&&(m=e[a.charCodeAt(c)]<<10|e[a.charCodeAt(c+1)]<<4|e[a.charCodeAt(c+2)]>>2,w[d++]=m>>8&255,w[d++]=255&m),w}};for(var e=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;o++)e[r.charCodeAt(o)]=o;n.exports=t},3019:function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]]},3029:function(n,t,e){function r(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}e.d(t,{A:function(){return r}})},3048:function(n,t){t=function(e){var r=document.createElement("style");return r.textContent=e,r.type="text/css",document.head.appendChild(r),r},n.exports=t},3089:function(n,t,e){var r=e(3145);t=e(6307)(r),n.exports=t},3145:function(n,t,e){var r=e(365);t=Object.keys?Object.keys:function(o){var i=[];for(var a in o)r(o,a)&&i.push(a);return i},n.exports=t},3159:function(n,t,e){var r=e(3957);t=function(o){return o!=null&&(!!o._isBuffer||o.constructor&&r(o.constructor.isBuffer)&&o.constructor.isBuffer(o))},n.exports=t},3249:function(n,t,e){var r=e(7375),o=e(1738),i=e(5793),a=e(5119);t=function(s,l){return o(s)?s.indexOf(l)>-1:(i(s)||(s=a(s)),r(s,l)>=0)},n.exports=t},3270:function(n,t,e){e.r(t),e.d(t,{default:function(){return w}});var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,a=function(h){var v=[],_=String(h).trim();return _[0]!=="M"&&_[0]!=="m"||_.replace(o,function(S,B,$){var x=B.toLowerCase(),G=function(ee){var de=ee.match(i);return de?de.map(Number):[]}($),te=B;if(x==="m"&&G.length>2&&(v.push([te].concat(G.splice(0,2))),x="l",te=te==="m"?"l":"L"),G.length<r[x])return"";for(v.push([te].concat(G.splice(0,r[x])));G.length>=r[x]&&G.length&&r[x];)v.push([te].concat(G.splice(0,r[x])));return""}),v};function s(h,v){for(var _=0;_<v.length;_++){var S=v[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(h,S.key,S)}}function l(h){return function(v){if(Array.isArray(v))return c(v)}(h)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(h)||function(v,_){if(v){if(typeof v=="string")return c(v,_);var S=Object.prototype.toString.call(v).slice(8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Array.from(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return c(v,_)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(h,v){(v==null||v>h.length)&&(v=h.length);for(var _=0,S=new Array(v);_<v;_++)S[_]=h[_];return S}var d=a;function f(h,v){var _=h.x*Math.cos(v)-h.y*Math.sin(v),S=h.y*Math.cos(v)+h.x*Math.sin(v);h.x=_,h.y=S}function p(h,v){h.x*=v,h.y*=v}var g=function(h){if(h!==void 0&&h.CanvasRenderingContext2D&&(!h.Path2D||!function(x){var G=x.document.createElement("canvas").getContext("2d"),te=new x.Path2D("M0 0 L1 1");return G.strokeStyle="red",G.lineWidth=1,G.stroke(te),G.getImageData(0,0,1,1).data[0]===255}(h))){var v=function(){function x(ee){var de;(function(ve,Y){if(!(ve instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,x),this.segments=[],ee&&ee instanceof x?(de=this.segments).push.apply(de,l(ee.segments)):ee&&(this.segments=d(ee))}var G,te;return G=x,(te=[{key:"addPath",value:function(ee){var de;ee&&ee instanceof x&&(de=this.segments).push.apply(de,l(ee.segments))}},{key:"moveTo",value:function(ee,de){this.segments.push(["M",ee,de])}},{key:"lineTo",value:function(ee,de){this.segments.push(["L",ee,de])}},{key:"arc",value:function(ee,de,ve,Y,z,D){this.segments.push(["AC",ee,de,ve,Y,z,!!D])}},{key:"arcTo",value:function(ee,de,ve,Y,z){this.segments.push(["AT",ee,de,ve,Y,z])}},{key:"ellipse",value:function(ee,de,ve,Y,z,D,N,j){this.segments.push(["E",ee,de,ve,Y,z,D,N,!!j])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(ee,de,ve,Y,z,D){this.segments.push(["C",ee,de,ve,Y,z,D])}},{key:"quadraticCurveTo",value:function(ee,de,ve,Y){this.segments.push(["Q",ee,de,ve,Y])}},{key:"rect",value:function(ee,de,ve,Y){this.segments.push(["R",ee,de,ve,Y])}}])&&s(G.prototype,te),Object.defineProperty(G,"prototype",{writable:!1}),x}(),_=h.CanvasRenderingContext2D.prototype.fill,S=h.CanvasRenderingContext2D.prototype.stroke;h.CanvasRenderingContext2D.prototype.fill=function(){for(var x=arguments.length,G=new Array(x),te=0;te<x;te++)G[te]=arguments[te];var ee="nonzero";G.length===0||G.length===1&&typeof G[0]=="string"?_.apply(this,G):(arguments.length===2&&(ee=G[1]),$(this,G[0].segments),_.call(this,ee))},h.CanvasRenderingContext2D.prototype.stroke=function(x){x?($(this,x.segments),S.call(this)):S.call(this)};var B=h.CanvasRenderingContext2D.prototype.isPointInPath;h.CanvasRenderingContext2D.prototype.isPointInPath=function(){for(var x=arguments.length,G=new Array(x),te=0;te<x;te++)G[te]=arguments[te];if(G[0].constructor.name==="Path2D"){var ee=G[1],de=G[2],ve=G[3]||"nonzero";return $(this,G[0].segments),B.apply(this,[ee,de,ve])}return B.apply(this,G)},h.Path2D=v}function $(x,G){var te,ee,de,ve,Y,z,D,N,j,P,E,K,q,Ae,_e,Ce,Z,fe,Me,Pe,He,Ye,Xe,qe,tt,ot,be,ye,ne,J={x:0,y:0},M={x:0,y:0};x.beginPath();for(var ae=0;ae<G.length;++ae){var H=G[ae];switch((Pe=H[0])!=="S"&&Pe!=="s"&&Pe!=="C"&&Pe!=="c"&&(Ye=null,Xe=null),Pe!=="T"&&Pe!=="t"&&Pe!=="Q"&&Pe!=="q"&&(qe=null,tt=null),Pe){case"m":case"M":Pe==="m"?(E+=H[1],q+=H[2]):(E=H[1],q=H[2]),Pe!=="M"&&J||(J={x:E,y:q}),x.moveTo(E,q);break;case"l":E+=H[1],q+=H[2],x.lineTo(E,q);break;case"L":E=H[1],q=H[2],x.lineTo(E,q);break;case"H":E=H[1],x.lineTo(E,q);break;case"h":E+=H[1],x.lineTo(E,q);break;case"V":q=H[1],x.lineTo(E,q);break;case"v":q+=H[1],x.lineTo(E,q);break;case"a":case"A":Pe==="a"?(E+=H[6],q+=H[7]):(E=H[6],q=H[7]),Ce=H[1],Z=H[2],D=H[3]*Math.PI/180,de=!!H[4],ve=!!H[5],Y={x:E,y:q},f(z={x:(M.x-Y.x)/2,y:(M.y-Y.y)/2},-D),(N=z.x*z.x/(Ce*Ce)+z.y*z.y/(Z*Z))>1&&(Ce*=N=Math.sqrt(N),Z*=N),j=Ce*Ce*Z*Z,P=Ce*Ce*z.y*z.y+Z*Z*z.x*z.x,p(He={x:Ce*z.y/Z,y:-Z*z.x/Ce},ve!==de?Math.sqrt((j-P)/P)||0:-Math.sqrt((j-P)/P)||0),ee=Math.atan2((z.y-He.y)/Z,(z.x-He.x)/Ce),te=Math.atan2(-(z.y+He.y)/Z,-(z.x+He.x)/Ce),f(He,D),be=He,ye=(Y.x+M.x)/2,ne=(Y.y+M.y)/2,be.x+=ye,be.y+=ne,x.save(),x.translate(He.x,He.y),x.rotate(D),x.scale(Ce,Z),x.arc(0,0,1,ee,te,!ve),x.restore();break;case"C":Ye=H[3],Xe=H[4],E=H[5],q=H[6],x.bezierCurveTo(H[1],H[2],Ye,Xe,E,q);break;case"c":x.bezierCurveTo(H[1]+E,H[2]+q,H[3]+E,H[4]+q,H[5]+E,H[6]+q),Ye=H[3]+E,Xe=H[4]+q,E+=H[5],q+=H[6];break;case"S":Ye!==null&&Xe!==null||(Ye=E,Xe=q),x.bezierCurveTo(2*E-Ye,2*q-Xe,H[1],H[2],H[3],H[4]),Ye=H[1],Xe=H[2],E=H[3],q=H[4];break;case"s":Ye!==null&&Xe!==null||(Ye=E,Xe=q),x.bezierCurveTo(2*E-Ye,2*q-Xe,H[1]+E,H[2]+q,H[3]+E,H[4]+q),Ye=H[1]+E,Xe=H[2]+q,E+=H[3],q+=H[4];break;case"Q":qe=H[1],tt=H[2],E=H[3],q=H[4],x.quadraticCurveTo(qe,tt,E,q);break;case"q":qe=H[1]+E,tt=H[2]+q,E+=H[3],q+=H[4],x.quadraticCurveTo(qe,tt,E,q);break;case"T":qe!==null&&tt!==null||(qe=E,tt=q),qe=2*E-qe,tt=2*q-tt,E=H[1],q=H[2],x.quadraticCurveTo(qe,tt,E,q);break;case"t":qe!==null&&tt!==null||(qe=E,tt=q),qe=2*E-qe,tt=2*q-tt,E+=H[1],q+=H[2],x.quadraticCurveTo(qe,tt,E,q);break;case"z":case"Z":E=J.x,q=J.y,J=void 0,x.closePath();break;case"AC":E=H[1],q=H[2],_e=H[3],ee=H[4],te=H[5],ot=H[6],x.arc(E,q,_e,ee,te,ot);break;case"AT":K=H[1],Ae=H[2],E=H[3],q=H[4],_e=H[5],x.arcTo(K,Ae,E,q,_e);break;case"E":E=H[1],q=H[2],Ce=H[3],Z=H[4],D=H[5],ee=H[6],te=H[7],ot=H[8],x.save(),x.translate(E,q),x.rotate(D),x.scale(Ce,Z),x.arc(0,0,1,ee,te,ot),x.restore();break;case"R":E=H[1],q=H[2],fe=H[3],Me=H[4],J={x:E,y:q},x.rect(E,q,fe,Me)}M.x=E,M.y=q}}},y=a,m=g;typeof window<"u"&&m(window);var w={path2dPolyfill:m,parsePath:y}},3277:function(n,t,e){(t=e(6314)(!1)).push([n.id,`@font-face{font-family:luna-data-grid-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAScAAsAAAAAB4wAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFwAAACGIRYl5k9TLzIAAAFkAAAAPQAAAFZLxUkYY21hcAAAAaQAAADLAAACXsU3J5xnbHlmAAACcAAAACUAAAAwNxN2HmhlYWQAAAKYAAAALgAAADZzjr4QaGhlYQAAAsgAAAAYAAAAJAFyANhobXR4AAAC4AAAABAAAAA8AZAAAGxvY2EAAALwAAAAEAAAACAAnACobWF4cAAAAwAAAAAfAAAAIAEaAA9uYW1lAAADIAAAASkAAAIWm5e+CnBvc3QAAARMAAAATQAAAG/8EX8xeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiA2A9NMDGwMMkAWF1CGFchmB4pxAnncDDxAOQ4kUV4GPqA6RgZmAE91Bj94nGNgZJBmnMDAysDAUMfQAyRloHQCAyeDMQMDEwMrMwNWEJDmmsJwgEH3IxPDCSBXCEwyMDCCCABbKQhrAAAAeJzNkksKwjAQhr+kvqpVxIUL8Qh6KFG3KtLidVx5Bq/VE+g/ySCIILhzhq+Qv8lkHgG6QCFWogPhRsDsKjUkvWCY9A611jOmUiJrNuw5cabh0sbHQ/9M23KQVksLSXu3oPPmcxbypRwGilxQ0qPSTRNl1GfMSHujDvQ+Yny3wY/7SXUX5eueaphSsAz+xar0vftqgnU6Y9VuHE1P3c/YRHdOKfaOVXlwLOrR0YQ1y4zFPzv2OmqnLxpnLC6O+tSGjL2YNmaITyYUHqgAeJxjYGQAgZUM0xmYGBjMlcVXNjtO9wCKoImbA8X9geIAqRwH2QAAAHicY2BkYGAA4hwJ4Yp4fpuvDNwMJ4ACUZyP9zUgaCBYyTAdSHIwMIE4ABioCdgAAHicY2BkYGA4wcAAJ1cyMDKgAn4AOLICS3icY2AAghNQTCIAAFMMAZF4nGNgAAIeBglcEAARPAFFeJxjYGRgYOBnYGYA0QwMTEDMBYQMDP/BfAYACkEBKgB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nF3GOQ6AIBQA0T+44YoX4VAEaNEYCNe3IDa+ZkaUNF//DIqOnoGRCc3MwsrGzoHhlMW7J2Ybrpp023LjcTxEMpbARSVRuEVebe8MtgAAAA==') format('woff')}[class*=' luna-data-grid-icon-'],[class^=luna-data-grid-icon-]{display:inline-block;font-family:luna-data-grid-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-data-grid-icon-caret-down:before{content:'\\f101'}.luna-data-grid-icon-caret-up:before{content:'\\f102'}.luna-data-grid{position:relative;border:1px solid;overflow:hidden;outline:0;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-data-grid .luna-data-grid-hidden,.luna-data-grid.luna-data-grid-hidden{display:none}.luna-data-grid .luna-data-grid-invisible,.luna-data-grid.luna-data-grid-invisible{visibility:hidden}.luna-data-grid *{box-sizing:border-box}.luna-data-grid.luna-data-grid-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-data-grid{font-size:12px}.luna-data-grid table{width:100%;min-height:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}.luna-data-grid td,.luna-data-grid th{padding:1px 4px;border-left:1px solid;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.luna-data-grid td:first-child,.luna-data-grid th:first-child{border-left:none}.luna-data-grid th{font-weight:400;border-bottom:1px solid;text-align:left;position:relative}.luna-data-grid th.luna-data-grid-sortable{padding-right:12px}.luna-data-grid th .luna-data-grid-icon-caret-down,.luna-data-grid th .luna-data-grid-icon-caret-up{font-size:12px;position:absolute;display:none;top:6px;right:2px}.luna-data-grid td{height:20px;cursor:default;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-data-grid:focus .luna-data-grid-node.luna-data-grid-selectable.luna-data-grid-selected{color:#fff}.luna-data-grid-data-container,.luna-data-grid-header-container{overflow:hidden}.luna-data-grid-header-container{height:21px}.luna-data-grid-data-container{overflow-y:auto;position:relative}.luna-data-grid-data-space{min-height:100%}.luna-data-grid-data{position:absolute;left:0;top:0}.luna-data-grid-filler-row td{height:auto}.luna-data-grid-resizer{position:absolute;top:0;bottom:0;width:5px;z-index:500;touch-action:none;cursor:col-resize}.luna-data-grid-resizing{cursor:col-resize!important}.luna-data-grid-resizing .luna-data-grid *{cursor:col-resize!important}.luna-data-grid-theme-light{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-data-grid-theme-light td,.luna-data-grid-theme-light th{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-data-grid-theme-light th{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-data-grid-theme-light th.luna-data-grid-sortable:hover{background-color:rgba(0,0,0,.15);background-color:var(--luna-color-fill,rgba(0,0,0,.15))}.luna-data-grid-theme-light .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selectable:hover,.luna-data-grid-theme-light .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background-color:#ddd}.luna-data-grid-theme-light .luna-data-grid-data-container tr:nth-child(even){background-color:#f2f7fd}.luna-data-grid-theme-light:focus .luna-data-grid-node.luna-data-grid-selectable.luna-data-grid-selected{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-data-grid-theme-dark{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-data-grid-theme-dark td,.luna-data-grid-theme-dark th{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-data-grid-theme-dark th{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-data-grid-theme-dark th.luna-data-grid-sortable:hover{background-color:hsla(0,0%,100%,.18);background-color:var(--luna-color-fill,rgba(255,255,255,.18))}.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selectable:hover,.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background-color:#393939}.luna-data-grid-theme-dark .luna-data-grid-data-container tr:nth-child(even){background-color:#0b2544}.luna-data-grid-theme-dark:focus .luna-data-grid-node.luna-data-grid-selectable.luna-data-grid-selected{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}`,""]),n.exports=t},3290:function(n,t,e){var r=e(975);t=function(o){var i,a=window.location,s=a.hostname,l=a.pathname,c=s.split("."),d=l.split("/"),f="",p=d.length;if(!h())for(var g=c.length-1;g>=0;g--){var y=c[g];if(y!==""){if(h({domain:f=f===""?y:y+"."+f,path:i="/"})||h({domain:f}))return;for(var m=0;m<p;m++){var w=d[m];if(w!==""&&(h({domain:f,path:i+=w})||h({path:i})||h({domain:f,path:i+="/"})||h({path:i})))return}}}function h(v){return v=v||{},r.remove(o,v),!r.get(o)}},n.exports=t},3411:function(n,t,e){var r,o=this&&this.__extends||(r=function(Y,z){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,N){D.__proto__=N}||function(D,N){for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(D[j]=N[j])},r(Y,z)},function(Y,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function D(){this.constructor=Y}r(Y,z),Y.prototype=z===null?Object.create(z):(D.prototype=z.prototype,new D)}),i=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchRequest=t.XhrRequest=void 0,t.fullUrl=G;var a=i(e(2263)),s=i(e(1738)),l=i(e(3497)),c=i(e(6032)),d=i(e(9464)),f=i(e(9405)),p=i(e(3981)),g=i(e(9100)),y=i(e(1009)),m=i(e(6030)),w=e(916),h=function(Y){function z(D,N,j){var P=Y.call(this)||this;return P.xhr=D,P.reqHeaders={},P.method=N,P.url=G(j),P.id=(0,w.createId)(),D.addEventListener("readystatechange",function(){D.readyState===2?P.handleHeadersReceived():D.readyState===4&&(D.status===0?P.handleError():P.handleDone())}),P}return o(z,Y),z.prototype.toJSON=function(){return{method:this.method,url:this.url,id:this.id}},z.prototype.handleSend=function(D){(0,s.default)(D)||(D=""),D={name:te(this.url),url:this.url,data:D,time:(0,p.default)(),reqHeaders:this.reqHeaders,method:this.method},(0,d.default)(this.reqHeaders)||(D.reqHeaders=this.reqHeaders),this.emit("send",this.id,D)},z.prototype.handleReqHeadersSet=function(D,N){D&&N&&(this.reqHeaders[D]=N)},z.prototype.handleHeadersReceived=function(){var D=this.xhr,N=ee(D.getResponseHeader("Content-Type")||"");this.emit("headersReceived",this.id,{type:N.type,subType:N.subType,size:$(D,!0,this.url),time:(0,p.default)(),resHeaders:B(D)})},z.prototype.handleDone=function(){var D,N,j,P=this,E=this.xhr,K=E.responseType,q="",Ae=function(){P.emit("done",P.id,{status:E.status,size:$(E,!1,P.url),time:(0,p.default)(),resTxt:q})},_e=ee(E.getResponseHeader("Content-Type")||"");K!=="blob"||_e.type!=="text"&&_e.subType!=="javascript"&&_e.subType!=="json"?(K!==""&&K!=="text"||(q=E.responseText),K==="json"&&(q=JSON.stringify(E.response)),Ae()):(D=E.response,N=function(Ce,Z){Z&&(q=Z),Ae()},(j=new FileReader).onload=function(){N(null,j.result)},j.onerror=function(Ce){N(Ce)},j.readAsText(D))},z.prototype.handleError=function(){this.emit("error",this.id,{errorText:"Network error",time:(0,p.default)()})},z}(a.default);t.XhrRequest=h;var v=function(Y){function z(D,N){N===void 0&&(N={});var j=Y.call(this)||this,P=D instanceof window.Request,E=P?D.url:D;return j.url=G(E),j.id=(0,w.createId)(),j.options=N,j.reqHeaders=N.headers||(P?D.headers:{}),j.method=N.method||(P?D.method:"GET"),j}return o(z,Y),z.prototype.send=function(D){var N=this,j=this.options,P=(0,s.default)(j.body)?j.body:"";this.emit("send",this.id,{name:te(this.url),url:this.url,data:P,reqHeaders:this.reqHeaders,time:(0,p.default)(),method:this.method}),D.then(function(E){var K=ee((E=E.clone()).headers.get("Content-Type"));return E.text().then(function(q){var Ae={type:K.type,subType:K.subType,time:(0,p.default)(),size:_(E,q),resTxt:q,resHeaders:S(E),status:E.status};(0,d.default)(N.reqHeaders)||(Ae.reqHeaders=N.reqHeaders),N.emit("done",N.id,Ae)}),E}).catch(function(E){N.emit("error",N.id,{errorText:E.message,time:(0,p.default)()})})},z}(a.default);function _(Y,z){var D=Y.headers.get("Content-length");return D?(0,m.default)(D):ve(z)}function S(Y){var z={};return Y.headers.forEach(function(D,N){return z[N]=D}),z}function B(Y){var z=Y.getAllResponseHeaders().split(`
`),D={};return(0,g.default)(z,function(N){if((N=(0,f.default)(N))!==""){var j=N.split(":",2),P=j[0],E=j[1];D[P]=(0,f.default)(E)}}),D}function $(Y,z,D){var N=0;function j(){if(!z){var P=Y.responseType,E="";P!==""&&P!=="text"||(E=Y.responseText),E&&(N=ve(E))}}if(function(P){return!(0,y.default)(P,de)}(D))j();else try{N=(0,m.default)(Y.getResponseHeader("Content-Length"))}catch{j()}return N===0&&j(),N}t.FetchRequest=v;var x=document.createElement("a");function G(Y){return x.href=Y,x.protocol+"//"+x.host+x.pathname+x.search+x.hash}function te(Y){var z=(0,l.default)(Y.split("/"));return z.indexOf("?")>-1&&(z=(0,f.default)(z.split("?")[0])),z===""&&(z=new c.default(Y).hostname),z}function ee(Y){if(!Y)return{type:"unknown",subType:"unknown"};var z=Y.split(";")[0].split("/");return{type:z[0],subType:(0,l.default)(z)}}var de=window.location.origin;function ve(Y){var z=encodeURIComponent(Y).match(/%[89ABab]/g);return Y.length+(z?z.length:0)}},3422:function(n,t){t=function(e){return e==null},n.exports=t},3497:function(n,t){t=function(e){var r=e?e.length:0;if(r)return e[r-1]},n.exports=t},3539:function(n,t){t=function(){for(var e=arguments,r=e[0],o=1,i=e.length;o<i;o++)e[o]>r&&(r=e[o]);return r},n.exports=t},3578:function(n,t,e){e.d(t,{A:function(){return Gn}});var r=e(7528),o=e(7800);function i(We,ct){return function(C){if(Array.isArray(C))return C}(We)||function(C,T){var L=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(L!=null){var ue,De,xe,$e,et=[],Fe=!0,ut=!1;try{if(xe=(L=L.call(C)).next,T===0){if(Object(L)!==L)return;Fe=!1}else for(;!(Fe=(ue=xe.call(L)).done)&&(et.push(ue.value),et.length!==T);Fe=!0);}catch(wt){ut=!0,De=wt}finally{try{if(!Fe&&L.return!=null&&($e=L.return(),Object($e)!==$e))return}finally{if(ut)throw De}}return et}}(We,ct)||(0,o.A)(We,ct)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var a=e(3029),s=e(2901),l=e(388),c=e(3954),d=e(991),f=e(5361),p=e(5902),g=e.n(p),y=e(2561),m=e.n(y),w=e(3249),h=e.n(w),v=e(1009),_=e.n(v),S=e(4950),B=e.n(S),$=e(9100),x=e.n($),G=e(1580),te=e.n(G),ee=e(9464),de=e.n(ee),ve=e(15),Y=e.n(ve),z=e(9931),D=e.n(z);function N(We){return We.constructor&&We.constructor.name?We.constructor.name:D()({}.toString.call(We).replace(/(\[object )|]/g,""))}var j=e(3915),P=e.n(j),E=e(9405),K=e.n(E),q=e(5169),Ae=e.n(q),_e=e(9548),Ce=e.n(_e),Z=e(6097),fe=e.n(Z),Me=e(6030),Pe=e.n(Me),He=e(5004),Ye=e.n(He),Xe=(e(9410),e(8609)),qe=e.n(Xe);function tt(We){var ct="luna-".concat(We,"-");function C(T){return P()(K()(T).split(/\s+/),function(L){return h()(L,ct)?L:L.replace(/[\w-]+/,function(ue){return"".concat(ct).concat(ue)})}).join(" ")}return function(T){if(/<[^>]*>/g.test(T))try{var L=Ce().parse(T);return ot(L,function(ue){ue.attrs&&ue.attrs.class&&(ue.attrs.class=C(ue.attrs.class))}),Ce().stringify(L)}catch{return C(T)}return C(T)}}function ot(We,ct){for(var C=0,T=We.length;C<T;C++){var L=We[C];ct(L),L.content&&ot(L.content,ct)}}Ae();function be(We){var ct=window.getSelection();if(!ct||ct.type!=="Range"||ct.toString()==="")return!1;var C=ct.anchorNode,T=ct.focusNode;return ct.containsNode(We,!0)||C&&We.contains(C)||T&&We.contains(T)}var ye=tt("console");function ne(We){var ct,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=C.topObj,L=C.level,ue=L===void 0?0:L,De=C.getterVal,xe=De!==void 0&&De,$e=C.unenumerable,et=$e===void 0||$e,Fe="",ut="",wt=[],$t=[],Bt="";T=T||We;var Et={getterVal:xe,unenumerable:et,level:ue+1},Ft=ue===0,an='<span class="'.concat(ye("key"),'">'),Wt='<span class="'.concat(ye("number"),'">'),on='<span class="'.concat(ye("null"),'">'),tn='<span class="'.concat(ye("string"),'">'),sn='<span class="'.concat(ye("boolean"),'">'),fn='<span class="'.concat(ye("special"),'">'),pn=function(Ut){return g()(Ut).replace(/\\n/g,"↵").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,"")},nn="</span>";function cn(Ut){return Ut=m()(Ut),h()(J,Ut)||_()(Ut,"Array[")?fn+pn(Ut)+nn:(Ut.length>100&&(Ut=Y()(Ut,100,{separator:" ",ellipsis:"…"})),tn+pn('"'.concat(Ut,'"'))+nn)}function gn(Ut){if(ct>5)Bt=", …";else{var Vn=function(Jn){return an+pn(Jn)+nn}(ae(Ut));if(!xe){var Kn=Object.getOwnPropertyDescriptor(We,Ut);if(Kn&&Kn.get)return wt.push("".concat(Vn,": ").concat(cn("(...)"))),void ct++}wt.push("".concat(Vn,": ").concat(ne(T[Ut],Et))),ct++}}try{ut={}.toString.call(We)}catch{ut="[object Object]"}var _n,Sn=ut=="[object Array]",wn=ut=="[object Object]",An=ut=="[object Number]",Rn=ut=="[object RegExp]",mn=ut=="[object Symbol]",jn=ut=="[object Function]",Wn=ut=="[object Boolean]";if(ut=="[object String]")Fe=cn(ae(We));else if(Rn)_n=ae(We.toString()),Fe=tn+_n+nn;else if(jn)Fe=cn("ƒ");else if(Sn)if(Ft){Fe="[";var Pn=We.length,Yn="";Pn>100&&(Pn=100,Yn=", …");for(var Dn=0;Dn<Pn;Dn++)wt.push("".concat(ne(We[Dn],Et)));Fe+=wt.join(", ")+Yn+"]"}else Fe="Array(".concat(We.length,")");else if(wn)M(We)&&(We=Object.getPrototypeOf(We)),$t=et?Object.getOwnPropertyNames(We):Object.keys(We),Ft?(ct=1,Fe="{",x()($t,gn),Fe+=wt.join(", ")+Bt+"}"):(Fe=N(We))==="Object"&&(Fe="{…}");else if(An)Fe=We+"",Fe=te()(Fe,"Infinity")||Fe==="NaN"?'"'.concat(Fe,'"'):Wt+Fe+nn;else if(Wn)Fe=sn+(We?"true":"false")+nn;else if(We===null)Fe=function(Ut){return on+Ut+nn}("null");else if(mn)Fe=cn("Symbol");else if(We===void 0)Fe=cn("undefined");else try{M(We)&&(We=Object.getPrototypeOf(We)),Ft?(ct=1,Fe="{",$t=et?Object.getOwnPropertyNames(We):Object.keys(We),x()($t,gn),Fe+=wt.join(", ")+Bt+"}"):(Fe=N(We))==="Object"&&(Fe="{…}")}catch{Fe=cn(We)}return Fe}var J=["(...)","undefined","Symbol","Object","ƒ"];function M(We){var ct=de()(Object.getOwnPropertyNames(We)),C=Object.getPrototypeOf(We);return ct&&C&&C!==Object.prototype}function ae(We){return B()(We).replace(/\\'/g,"'").replace(/\t/g,"\\t")}var H,he=e(6911),Te=e(2388),oe=e(5784),re=e(4095),le=e.n(re),Ie=e(9760),Be=e.n(Ie),Ke=e(1738),Je=e.n(Ke),Ze=e(2650),st=e.n(Ze),pt=e(7696),kt=e.n(pt),Kt=e(5651),Gt=e.n(Kt),Pt=e(2708),Yt=e.n(Pt),zt=e(6631),At=e.n(zt),Jt=e(4069),It=e.n(Jt),Qe=e(4236),Re=e.n(Qe),W=e(8971),R=e.n(W),Q=e(3957),ie=e.n(Q),Se=e(769),Ue=e.n(Se),Ne=e(6214),I=e.n(Ne),nt=e(438),it=e.n(nt),yt=e(8420),Rt=e.n(yt),Lt=e(96),Dt=e.n(Lt),dt=e(3145),lt=e.n(dt),ge=e(3693),Oe=e.n(ge),U=e(5241),ke=e.n(U),se=e(2263),we=e.n(se),pe=e(4534),me=e.n(pe),je=e(8032),at=e.n(je),Le=e(4844),Ve=e.n(Le),rt=e(4801),Ge=e.n(rt),mt=e(9041),ht=e.n(mt),ft=e(8091),bt=e.n(ft),St=e(4249),_t=e.n(St),xt=e(2797),Nt=e.n(xt),jt=e(5773),Ht=e.n(jt),Zt=e(4433),rn=e.n(Zt),qt=e(5630),Qt=e.n(qt),Vt=e(6493),ln=e.n(Vt),bn=e(9350),dn=e.n(bn),ir=e(1976),kn=e.n(ir);function Mn(){try{var We=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mn=function(){return!!We})()}var Ln=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,ar={comment:"",string:"",number:"",keyword:"",operator:""},en=function(We){function ct(C,T){var L,ue,De,xe,$e=T.type,et=$e===void 0?"log":$e,Fe=T.args,ut=Fe===void 0?[]:Fe,wt=T.id,$t=T.group,Bt=T.targetGroup,Et=T.header,Ft=T.ignoreFilter,an=Ft!==void 0&&Ft,Wt=T.accessGetter,on=T.unenumerable,tn=T.lazyEvaluation;(0,a.A)(this,ct),ue=this,De=ct,De=(0,c.A)(De),(L=(0,l.A)(ue,Mn()?Reflect.construct(De,[],(0,c.A)(ue).constructor):De.apply(ue,xe))).container=ke()("div"),L.count=1,L.width=0,L.height=0,L.isHidden=!1,L.columns=[],L.elements={},L.objects={},L.console=C,L.type=et,L.group=$t,L.targetGroup=Bt,L.args=ut,L.id=wt,L.header=Et,L.ignoreFilter=an,L.collapsed=!1,L.container.log=L,L.height=0,L.width=0,L.$container=Oe()(L.container),L.accessGetter=Wt,L.unenumerable=on,L.lazyEvaluation=tn;var sn="info";switch(et){case"debug":sn="verbose";break;case"error":sn="error";break;case"warn":sn="warning"}return L.level=sn,L.resizeSensor=new(le())(L.container),L.onResize=me()(function(){qe()(L.container)?L.isHidden=!0:(L.isHidden||L.updateSize(!1),L.isHidden=!1)},16),L.formatMsg(),L.group&&L.checkGroup(),L.bindEvent(),L}return(0,f.A)(ct,We),(0,s.A)(ct,[{key:"checkGroup",value:function(){for(var C=this.group,T=!1;C;){if(C.collapsed){T=!0;break}C=C.parent}return T!==this.collapsed&&(this.collapsed=T,!0)}},{key:"updateIcon",value:function(C){var T=this.console.c;return this.$container.find(T(".icon-container")).find(T(".icon")).rmAttr("class").addClass([T("icon"),T("icon-".concat(C))]),this}},{key:"addCount",value:function(){this.count++;var C=this.$container,T=this.count,L=this.console.c,ue=C.find(L(".count-container")),De=C.find(L(".icon-container")),xe=ue.find(L(".count"));return T===2&&ue.rmClass(L("hidden")),xe.text(m()(T)),De.addClass(L("hidden")),this}},{key:"groupEnd",value:function(){var C=this.$container,T=this.console.c;return C.find(".".concat(T("nesting-level"),":not(.").concat(T("group-closed"),")")).last().addClass(T("group-closed")),this}},{key:"updateTime",value:function(C){var T=this.$container.find(this.console.c(".time-container"));return this.header&&(T.find("span").eq(0).text(C),this.header.time=C),this}},{key:"isAttached",value:function(){return!!this.container.parentNode}},{key:"isSimple",value:function(){return!Nt()(this.args,function(C){return Be()(C)})}},{key:"updateSize",value:function(){var C=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],T=this.container.getBoundingClientRect(),L=T.width,ue=T.height-1;this.height!==ue&&(this.height=ue,C||this.emit("updateHeight")),this.width!==L&&(this.width=L)}},{key:"html",value:function(){return this.container.outerHTML}},{key:"text",value:function(){return this.content.textContent||""}},{key:"select",value:function(){this.$container.addClass(this.console.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.console.c("selected"))}},{key:"copy",value:function(){var C=this.args,T="";x()(C,function(L,ue){ue!==0&&(T+=" "),Be()(L)?T+=at()(L):T+=m()(L)}),Ve()(T)}},{key:"bindEvent",value:function(){var C=this,T=this.console.c,L=this;this.resizeSensor.addListener(this.onResize),this.$container.on("click",T(".dom-viewer"),function(ue){return ue.stopPropagation()}).on("click",T(".preview"),function(ue){if(ue.stopPropagation(),!be(this)){var De=Oe()(this).find(T(".preview-icon-container")).find(T(".icon")),xe="caret-down";De.hasClass(T("icon-caret-down"))&&(xe="caret-right"),De.rmAttr("class").addClass([T("icon"),T("icon-".concat(xe))]),L.renderObjectViewer(this)}}).on("click",function(){return C.click()})}},{key:"renderEl",value:function(){var C=this.elements,T=this.console.c,L=this;this.$container.find(T(".dom-viewer")).each(function(){var ue=Oe()(this).data("id");new oe.A(this,{node:C[ue],theme:L.console.getOption("theme")})})}},{key:"renderObjectViewer",value:function(C){var T=this.console,L=this.unenumerable,ue=this.accessGetter,De=this.lazyEvaluation,xe=T.c,$e=Oe()(C),et=$e.data("id");if(et){var Fe=this.objects[et],ut=$e.find(xe(".json"));if(ut.hasClass(xe("hidden"))){if(ut.data("init")!=="true"){if(De){var wt=new he.A(ut.get(0),{unenumerable:L,accessGetter:ue});wt.setOption("theme",T.getOption("theme")),wt.set(Fe)}else{var $t=new he.j(ut.get(0));$t.setOption("theme",T.getOption("theme")),$t.set(Fe)}ut.data("init","true")}ut.rmClass(xe("hidden"))}else ut.addClass(xe("hidden"))}}},{key:"renderTable",value:function(C){var T=this,L="__LunaConsoleValue",ue=this.columns,De=this.$container,xe=this.console,$e=xe.c,et=De.find($e(".data-grid")),Fe=C[0],ut=new Te.A(et.get(0),{columns:It()([{id:"(index)",title:"(index)",sortable:!0}],P()(ue,function(wt){return{id:wt,title:wt===L?"Value":wt,sortable:!0}})),theme:xe.getOption("theme")});x()(Fe,function(wt,$t){var Bt={"(index)":m()($t)};ue.forEach(function(Et){Be()(wt)?Bt[Et]=Et===L?"":T.formatTableVal(wt[Et]):kt()(wt)&&(Bt[Et]=Et===L?T.formatTableVal(wt):"")}),ut.append(Bt)})}},{key:"extractObj",value:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=arguments.length>2?arguments[2]:void 0,ue=this.accessGetter,De=this.unenumerable;Gt()(T,{accessGetter:ue,unenumerable:De,symbol:De,timeout:1e3}),function(xe,$e,et){var Fe=Ge()(xe,$e);ht()(function(){return et(Fe)})}(C,T,function(xe){return L(JSON.parse(xe))})}},{key:"click",value:function(){var C=this.type,T=this.$container,L=this.console,ue=L.c;switch(C){case"log":case"warn":case"info":case"debug":case"output":case"table":case"dir":break;case"group":case"groupCollapsed":be(this.container)||L.toggleGroup(this);break;case"error":be(this.container)||T.find(ue(".stack")).toggleClass(ue("hidden"))}}},{key:"formatMsg",value:function(){var C=this.args,T=this.type,L=this.id,ue=this.header,De=this.group,xe=this.console.c;C=Rt()(C);var $e,et,Fe="";switch(T!=="group"&&T!=="groupCollapsed"||C.length===0&&(C=["console.group"]),T){case"log":case"info":case"debug":Fe=this.formatCommon(C);break;case"dir":Fe=this.formatDir(C);break;case"warn":$e="warn",Fe=this.formatCommon(C);break;case"error":Je()(C[0])&&C.length!==1&&(C=this.substituteStr(C)),et=C[0],$e="error",et=st()(et)?et:new Error(this.formatCommon(C)),Fe=this.formatErr(et);break;case"table":Fe=this.formatTable(C);break;case"html":Fe=C[0];break;case"input":Fe=this.formatJs(C[0]),$e="input";break;case"output":Fe=this.formatCommon(C),$e="output";break;case"groupCollapsed":Fe=this.formatCommon(C),$e="caret-right";break;case"group":Fe=this.formatCommon(C),$e="caret-down"}h()(["log","debug","warn"],T)&&this.isSimple()&&(Fe=bt()(Fe,function(ut){return'<a href="'.concat(ut,'" target="_blank">').concat(ut,"</a>")})),Fe=this.render({msg:Fe,type:T,icon:$e,id:L,header:ue,group:De}),this.$container.addClass("".concat(xe("log-container"))).html(Fe),T==="table"&&(de()(this.columns)||this.renderTable(C)),de()(this.elements)||this.renderEl(),this.$content=this.$container.find(xe(".log-content")),this.content=this.$content.get(0)}},{key:"render",value:function(C){var T=this.console.c,L="",ue="";if(C.group)for(var De=C.group.indentLevel,xe=0;xe<De;xe++)ue+='<div class="'.concat(T("nesting-level"),'"></div>');C.header&&(L+=Ht()(H||(H=(0,r.A)([`
      <div class="`,`">
        `,`
        <div class="`,`">
          <span>`,"</span> <span>",`</span>
        </div>
      </div>`])),T("header"),ue,T("time-from-container"),C.header.time,C.header.from));var $e="";return C.icon&&($e='<div class="'.concat(T("icon-container"),'"><span class="').concat(T("icon icon-"+C.icon),'"></span></div>')),L+=`
    <div class="`.concat(T(C.type+" log-item"),`">
      `).concat(ue,`
      `).concat($e,`
      <div class="`).concat(T("count-container hidden"),`">
        <div class="`).concat(T("count"),`"></div>
      </div>    
      <div class="`).concat(T("log-content-wrapper"),`">
        <div class="`).concat(T("log-content"),'">').concat(C.msg,`</div>
      </div>
    </div>`)}},{key:"formatTable",value:function(C){var T=C[0],L=C[1],ue=[];return Je()(L)&&(L=Ue()(L)),I()(L)||(L=null),Be()(T)?(x()(T,function(De){kt()(De)?ue.push("__LunaConsoleValue"):Be()(De)&&(ue=ue.concat(lt()(De)))}),(ue=it()(ue)).sort(),L&&(ue=ue.filter(function(De){return h()(L,De)})),ue.length>20&&(ue=ue.slice(0,20)),de()(ue)?this.formatCommon(C):(this.columns=ue,this.console.c('<div class="data-grid"></div>')+this.formatPreview(T))):this.formatCommon(C)}},{key:"formatErr",value:function(C){var T=C.stack?C.stack.split(`
`):[],L=C.name?"".concat(C.name,": "):"";return L+="".concat(C.message||T[0],"<br/>"),T=T.map(function(ue){return g()(ue)}),L+'<div class="'.concat(this.console.c("stack hidden"),'">').concat(T.slice(1).join("<br/>"),"</div>").replace(Ln,function(ue){return'<a href="'.concat(ue,'" target="_blank">').concat(ue,"</a>")})}},{key:"formatCommon",value:function(C){var T=this.console.c,L=Je()(C[0])&&C.length!==1;L&&(C=this.substituteStr(C));for(var ue=0,De=C.length;ue<De;ue++){var xe=C[ue];Yt()(xe)?C[ue]=this.formatEl(xe):ie()(xe)?C[ue]=this.formatFn(xe):kn()(xe)?C[ue]='<span class="'.concat(T("regexp"),'">').concat(g()(m()(xe)),"</span>"):Be()(xe)?C[ue]=this.formatPreview(xe):R()(xe)?C[ue]='<span class="'.concat(T("undefined"),'">undefined</span>'):Re()(xe)?C[ue]='<span class="'.concat(T("null"),'">null</span>'):fe()(xe)?C[ue]='<span class="'.concat(T("number"),'">').concat(m()(xe),"</span>"):typeof xe=="bigint"?C[ue]='<span class="'.concat(T("number"),'">').concat(m()(xe),"n</span>"):ln()(xe)?C[ue]='<span class="'.concat(T("boolean"),'">').concat(m()(xe),"</span>"):dn()(xe)?C[ue]='<span class="'.concat(T("symbol"),'">').concat(g()(m()(xe)),"</span>"):(xe=m()(xe),ue===0&&L||(xe=g()(xe)),xe.length>5e3&&(xe=Y()(xe,5e3,{separator:" ",ellipsis:"…"})),C[ue]=xe)}return C.join(" ")}},{key:"formatDir",value:function(C){return Be()(C[0])?this.formatPreview(C[0]):this.formatCommon(C)}},{key:"formatTableVal",value:function(C){var T=this.console.c;return Be()(C)?"{…}":kt()(C)?rn()('<div class="'.concat(T("preview"),'">').concat(ne(C),"</div>")):m()(C)}},{key:"formatPreview",value:function(C){var T=this,L=this.console.c,ue=Qt()();this.lazyEvaluation?this.objects[ue]=C:this.extractObj(C,{},function($e){T.objects[ue]=$e});var De=h()(["dir","table"],this.type),xe=N(C);return xe==="Array"&&C.length>1?(xe="(".concat(C.length,")"),De&&(xe="Array".concat(xe))):xe==="RegExp"?xe=m()(C):Yt()(C)&&(xe=this.formatElName(C)),'<div class="'.concat(L("preview"),'" data-id="').concat(ue,'">')+'<div class="'.concat(L("preview-container"),'">')+'<div class="'.concat(L("preview-icon-container"),'"><span class="').concat(L("icon icon-caret-right"),'"></span></div>')+'<span class="'.concat(L("preview-content-container"),'">')+'<span class="'.concat(L("descriptor"),'">').concat(g()(xe),"</span> ")+'<span class="'.concat(L("object-preview"),'">').concat(De?"":ne(C,{getterVal:this.accessGetter,unenumerable:!1}),"</span>")+"</span></div>"+'<div class="'.concat(L("json hidden"),'"></div></div>')}},{key:"substituteStr",value:function(C){var T=g()(C[0]),L=!1,ue="";C.shift();for(var De=0,xe=T.length;De<xe;De++){var $e=T[De];if($e==="%"&&C.length!==0){De++;var et=C.shift();switch(T[De]){case"i":case"d":ue+=At()(et);break;case"f":ue+=Pe()(et);break;case"s":ue+=m()(et);break;case"O":Be()(et)?ue+=this.formatPreview(et):ue+=m()(et);break;case"o":Yt()(et)?ue+=this.formatEl(et):Be()(et)?ue+=this.formatPreview(et):ue+=m()(et);break;case"c":if(T.length<=De+1)break;L&&(ue+="</span>"),L=!0,ue+='<span style="'.concat(sr(et),'">');break;default:De--,C.unshift(et),ue+=$e}}else ue+=$e}return L&&(ue+="</span>"),C.unshift(ue),C}},{key:"formatJs",value:function(C){var T=_t()(C,"js",ar);return T!==C&&(T=this.console.c(T)),'<pre class="'.concat(this.console.c("code"),'">').concat(T,"</pre>")}},{key:"formatFn",value:function(C){return'<pre style="display:inline">'.concat(this.formatJs(C.toString()),"</pre>")}},{key:"formatElName",value:function(C){var T=C.id,L=C.className,ue=C.tagName.toLowerCase();if(T!==""&&(ue+="#".concat(T)),Je()(L)){var De="";x()(L.split(/\s+/g),function(xe){xe.trim()!==""&&(De+=".".concat(xe))}),ue+=De}return ue}},{key:"formatEl",value:function(C){var T=Qt()();return this.elements[T]=C,this.console.c('<div class="dom-viewer" data-id="'.concat(T,'"></div>'))}}])}(we());function sr(We){var ct=(We=Dt()(We)).split(";"),C={};x()(ct,function(L){if(h()(L,":")){var ue=i(L.split(":"),2),De=ue[0],xe=ue[1];C[K()(De)]=K()(xe)}}),C.display="inline-block",C["max-width"]="100%",delete C.width,delete C.height;var T="";return x()(C,function(L,ue){T+="".concat(ue,":").concat(L,";")}),T}var Ct=e(5820),$n=e.n(Ct),hn=e(3981),cr=e.n(hn),lr=e(8105),Bn=e.n(lr),xn=e(7005),Tn=e.n(xn),ur=e(3497),Fn=e.n(ur),dr=e(5865),hr=e.n(dr),fr=e(8862),pr=e.n(fr),gr=e(7030),mr=e.n(gr),On=e(961),vr=e.n(On),Un=e(7e3),En=e.n(Un);function yn(){try{var We=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yn=function(){return!!We})()}var Mt,In=function(We){function ct(C,T){var L,ue,De=T.compName,xe=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,$e=xe===void 0?"light":xe;return(0,a.A)(this,ct),L=function(et,Fe,ut){return Fe=(0,c.A)(Fe),(0,l.A)(et,yn()?Reflect.construct(Fe,[],(0,c.A)(et).constructor):Fe.apply(et,ut))}(this,ct),L.subComponents=[],L.theme="",L.onThemeChange=function(et){L.options.theme==="auto"&&L.setTheme(et)},L.compName=De,L.c=tt(De),L.options={},L.container=C,L.$container=Oe()(C),L.$container.addClass(["luna-".concat(De),L.c("platform-".concat((ue=Ye()(),ue==="os x"?"mac":ue)))]),L.on("changeOption",function(et,Fe){if(et==="theme"&&Fe){var ut=Fe;Fe==="auto"&&(ut=En().get()),L.setTheme(ut),x()(L.subComponents,function(wt){return wt.setOption("theme",Fe)})}}),En().on("change",L.onThemeChange),L.setOption("theme",$e),L}return(0,f.A)(ct,We),(0,s.A)(ct,[{key:"destroy",value:function(){var C=this;this.destroySubComponents();var T=this.$container,L=T.attr("class");x()(L.split(/\s+/),function(ue){_()(ue,"luna-".concat(C.compName))&&T.rmClass(ue)}),T.html(""),this.emit("destroy"),this.removeAllListeners(),En().off("change",this.onThemeChange)}},{key:"setOption",value:function(C,T){var L=this,ue=this.options,De={};typeof C=="string"?De[C]=T:De=C,x()(De,function(xe,$e){var et=ue[$e];ue[$e]=xe,xe!==et&&L.emit("changeOption",$e,xe,et)})}},{key:"getOption",value:function(C){return this.options[C]}},{key:"addSubComponent",value:function(C){C.setOption("theme",this.options.theme),this.subComponents.push(C)}},{key:"removeSubComponent",value:function(C){vr()(this.subComponents,function(T){return T===C})}},{key:"destroySubComponents",value:function(){x()(this.subComponents,function(C){return C.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gt()(C,T),Bn()(this.options,C)}},{key:"find",value:function(C){return this.$container.find(this.c(C))}},{key:"setTheme",value:function(C){var T=this.c,L=this.$container;this.theme&&L.rmClass(T("theme-".concat(this.theme))),L.addClass(T("theme-".concat(C))),this.theme=C}}])}(we()),br=e(2228),yr=e.n(br);function zn(){try{var We=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zn=function(){return!!We})()}n=e.hmd(n);var Nn=navigator.userAgent,_r=Nn.indexOf("Android")>-1||Nn.indexOf("Adr")>-1,Hn=0,Gn=function(We){function ct(C){var T,L,ue,De,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.A)(this,ct),L=this,ue=ct,De=[C,{compName:"console"},xe],ue=(0,c.A)(ue),(T=(0,l.A)(L,zn()?Reflect.construct(ue,De||[],(0,c.A)(L).constructor):ue.apply(L,De))).spaceHeight=0,T.topSpaceHeight=0,T.bottomSpaceHeight=0,T.lastScrollTop=0,T.lastTimestamp=0,T.speedToleranceFactor=100,T.maxSpeedTolerance=2e3,T.minSpeedTolerance=100,T.logs=[],T.displayLogs=[],T.timer={},T.counter={},T.asyncList=[],T.asyncTimer=null,T.isAtBottom=!0,T.groupStack=new(Tn()),T.selectedLog=null,T.onScroll=function(){var $e=T.container,et=$e.scrollHeight,Fe=$e.offsetHeight,ut=$e.scrollTop;if(!(ut<=0||Fe+ut>et)){var wt=!1;(et===Fe||Math.abs(et-Fe-ut)<1)&&(wt=!0),T.isAtBottom=wt;var $t=T.lastScrollTop,Bt=T.lastTimestamp,Et=cr()(),Ft=Et-Bt,an=ut-$t,Wt=Math.abs(an/Ft)*T.speedToleranceFactor;Ft>1e3&&(Wt=1e3),Wt>T.maxSpeedTolerance&&(Wt=T.maxSpeedTolerance),Wt<T.minSpeedTolerance&&(Wt=T.minSpeedTolerance),T.lastScrollTop=ut,T.lastTimestamp=Et;var on=0,tn=0;$t<ut?(on=T.minSpeedTolerance,tn=Wt):(on=Wt,tn=T.minSpeedTolerance),T.topSpaceHeight<ut-on&&T.topSpaceHeight+T.el.offsetHeight>ut+Fe+tn||T.renderViewport({topTolerance:2*on,bottomTolerance:2*tn})}},T.initTpl(),T.initOptions(xe,{maxNum:0,asyncRender:!0,showHeader:!1,filter:"",level:["verbose","info","warning","error"],accessGetter:!1,unenumerable:!0,lazyEvaluation:!0}),T.$el=T.find(".logs"),T.el=T.$el.get(0),T.$fakeEl=T.find(".fake-logs"),T.fakeEl=T.$fakeEl.get(0),T.$space=T.find(".logs-space"),T.space=T.$space.get(0),_r&&(T.speedToleranceFactor=800,T.maxSpeedTolerance=3e3,T.minSpeedTolerance=800),T.resizeSensor=new(le())(C),T.renderViewport=hr()(function($e){T._renderViewport($e)},16),T.global={copy:function($e){Je()($e)||($e=JSON.stringify($e,null,2)),Ve()($e)},$:function($e){return document.querySelector($e)},$$:function($e){return Ue()(document.querySelectorAll($e))},$x:function($e){return pr()($e)},clear:function(){T.clear()},dir:function($e){T.dir($e)},table:function($e,et){T.table($e,et)},keys:lt()},T.bindEvent(),T}return(0,f.A)(ct,We),(0,s.A)(ct,[{key:"setGlobal",value:function(C,T){this.global[C]=T}},{key:"destroy",value:function(){var C,T,L,ue,De;this.$container.off("scroll",this.onScroll),this.resizeSensor.destroy(),(C=ct,T="destroy",L=this,ue=3,De=(0,d.A)((0,c.A)(1&ue?C.prototype:C),T,L),2&ue&&typeof De=="function"?function(xe){return De.apply(L,xe)}:De)([])}},{key:"count",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",T=this.counter;R()(T[C])?T[C]=1:T[C]++,this.info("".concat(C,": ").concat(T[C]))}},{key:"countReset",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.counter[C]=0}},{key:"assert",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||T.shift()||(T.length===0&&T.unshift("console.assert"),T.unshift("Assertion failed: "),this.insert("error",T))}},{key:"log",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||this.insert("log",T)}},{key:"debug",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||this.insert("debug",T)}},{key:"dir",value:function(C){R()(C)||this.insert("dir",[C])}},{key:"table",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||this.insert("table",T)}},{key:"time",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";if(this.timer[C])return this.insert("warn",["Timer '".concat(C,"' already exists")]);this.timer[C]=$n()()}},{key:"timeLog",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",T=this.timer[C];if(!T)return this.insert("warn",["Timer '".concat(C,"' does not exist")]);this.info("".concat(C,": ").concat($n()()-T,"ms"))}},{key:"timeEnd",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.timeLog(C),delete this.timer[C]}},{key:"clear",value:function(){var C=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logs=[],this.displayLogs=[],this.selectLog(null),this.lastLog=void 0,this.counter={},this.timer={},this.groupStack=new(Tn()),this.asyncList=[],this.asyncTimer&&(clearTimeout(this.asyncTimer),this.asyncTimer=null),C?this.render():this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}},{key:"info",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||this.insert("info",T)}},{key:"error",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||this.insert("error",T)}},{key:"warn",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];de()(T)||this.insert("warn",T)}},{key:"group",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];this.insert({type:"group",args:T,ignoreFilter:!0})}},{key:"groupCollapsed",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];this.insert({type:"groupCollapsed",args:T,ignoreFilter:!0})}},{key:"groupEnd",value:function(){this.insert("groupEnd")}},{key:"evaluate",value:function(C){this.insert({type:"input",args:[C],ignoreFilter:!0});try{this.output(this.evalJs(C))}catch(T){this.insert({type:"error",ignoreFilter:!0,args:[T]})}}},{key:"html",value:function(){for(var C=arguments.length,T=new Array(C),L=0;L<C;L++)T[L]=arguments[L];this.insert("html",T)}},{key:"toggleGroup",value:function(C){C.targetGroup.collapsed?this.openGroup(C):this.collapseGroup(C)}},{key:"output",value:function(C){this.insert({type:"output",args:[C],ignoreFilter:!0})}},{key:"render",value:function(){var C=this.logs,T=this.selectedLog;this.$el.html(""),this.isAtBottom=!0,this.updateBottomSpace(0),this.updateTopSpace(0),this.displayLogs=[];for(var L=0,ue=C.length;L<ue;L++)this.attachLog(C[L]);T&&(h()(this.displayLogs,T)||this.selectLog(null))}},{key:"insert",value:function(C,T){var L,ue=this.options,De=ue.showHeader,xe=ue.asyncRender;if(De&&(L={time:wr(),from:qn()}),xe)return this.insertAsync(C,T,L);this.insertSync(C,T,L)}},{key:"insertAsync",value:function(C,T,L){this.asyncList.push([C,T,L]),this.handleAsyncList()}},{key:"insertSync",value:function(C,T,L){var ue,De=this,xe=this.logs,$e=this.groupStack,et=this.options,Fe=et.maxNum,ut=et.accessGetter,wt=et.unenumerable,$t=et.lazyEvaluation;if((ue=Je()(C)?{type:C,args:T,header:L}:C).type==="groupEnd")return this.lastLog.groupEnd(),void this.groupStack.pop();if($e.size>0&&(ue.group=$e.peek()),Bn()(ue,{id:++Hn,accessGetter:ut,unenumerable:wt,lazyEvaluation:$t}),ue.type==="group"||ue.type==="groupCollapsed"){var Bt={id:Qt()("group"),collapsed:!1,parent:$e.peek(),indentLevel:$e.size+1};ue.type==="groupCollapsed"&&(Bt.collapsed=!0),ue.targetGroup=Bt,$e.push(Bt)}var Et=new en(this,ue);Et.on("updateHeight",function(){De.isAtBottom=!1,De.renderViewport()});var Ft=this.lastLog;if(Ft&&!h()(["html","group","groupCollapsed"],Et.type)&&Ft.type===Et.type&&Et.isSimple()&&Ft.text()===Et.text()?(Ft.addCount(),Et.header&&Ft.updateTime(Et.header.time),Et=Ft,this.detachLog(Ft)):(xe.push(Et),this.lastLog=Et),Fe!==0&&xe.length>Fe){var an=xe[0];this.detachLog(an),xe.shift()}this.attachLog(Et),this.emit("insert",Et)}},{key:"updateTopSpace",value:function(C){this.topSpaceHeight=C,this.el.style.top=C+"px"}},{key:"updateBottomSpace",value:function(C){this.bottomSpaceHeight=C}},{key:"updateSpace",value:function(C){this.spaceHeight!==C&&(this.spaceHeight=C,this.space.style.height=C+"px")}},{key:"detachLog",value:function(C){var T=this.displayLogs,L=T.indexOf(C);L>-1&&(T.splice(L,1),this.renderViewport())}},{key:"attachLog",value:function(C){if(this.filterLog(C)&&!C.collapsed){var T=this.displayLogs;if(T.length===0)return T.push(C),void this.renderViewport();var L=Fn()(T);if(C.id>L.id)return T.push(C),void this.renderViewport();for(var ue,De=0,xe=T.length-1,$e=0;De<=xe;){if((ue=T[$e=De+Math.floor((xe-De)/2)]).id===C.id)return;ue.id<C.id?De=$e+1:xe=$e-1}ue.id<C.id?T.splice($e+1,0,C):T.splice($e,0,C),this.renderViewport()}}},{key:"handleAsyncList",value:function(){var C=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,L=this.asyncList;this.asyncTimer||(this.asyncTimer=setTimeout(function(){C.asyncTimer=null;var ue,De,xe=!1,$e=L.length;$e<1e3?(De=200,ue=400):$e<5e3?(De=500,ue=800):$e<1e4?(De=800,ue=1e3):$e<25e3?(De=1e3,ue=1200):$e<5e4?(De=1500,ue=1500):(De=2e3,ue=2500),De>$e&&(De=$e,xe=!0);for(var et=0;et<De;et++){var Fe=i(L.shift(),3),ut=Fe[0],wt=Fe[1],$t=Fe[2];C.insertSync(ut,wt,$t)}xe||yr()(function(){return C.handleAsyncList(ue)})},T))}},{key:"injectGlobal",value:function(){x()(this.global,function(C,T){window[T]||(window[T]=C)})}},{key:"clearGlobal",value:function(){x()(this.global,function(C,T){window[T]&&window[T]===C&&delete window[T]})}},{key:"evalJs",value:function(C){var T;this.injectGlobal();try{T=eval.call(window,"(".concat(C,")"))}catch{T=eval.call(window,C)}return this.setGlobal("$_",T),this.clearGlobal(),T}},{key:"filterLog",value:function(C){var T=this.options.level,L=this.options.filter;if(C.ignoreFilter)return!0;if(!h()(T,C.level))return!1;if(L){if(ie()(L))return L(C);if(kn()(L))return L.test(Dt()(C.text()));if(Je()(L)&&(L=K()(L)))return h()(Dt()(C.text()),Dt()(L))}return!0}},{key:"collapseGroup",value:function(C){C.targetGroup.collapsed=!0,C.updateIcon("caret-right"),this.updateGroup(C)}},{key:"openGroup",value:function(C){C.targetGroup.collapsed=!1,C.updateIcon("caret-down"),this.updateGroup(C)}},{key:"updateGroup",value:function(C){for(var T=C.targetGroup,L=this.logs,ue=L.length,De=L.indexOf(C)+1;De<ue;){var xe=L[De];if(!xe.checkGroup()&&xe.group===T)break;xe.collapsed?this.detachLog(xe):this.attachLog(xe),De++}}},{key:"selectLog",value:function(C){var T;this.selectedLog&&(this.selectedLog.deselect(),this.selectedLog=null),Re()(C)?this.emit("deselect"):(this.selectedLog=C,(T=this.selectedLog)===null||T===void 0||T.select(),this.emit("select",C))}},{key:"bindEvent",value:function(){var C=this,T=this.$el,L=this.c;this.resizeSensor.addListener(this.renderViewport);var ue=this;T.on("click",L(".log-container"),function(){ue.selectLog(this.log)}),this.on("changeOption",function(De,xe){var $e=C.logs;switch(De){case"maxNum":xe>0&&$e.length>xe&&(C.logs=$e.slice($e.length-xe),C.render());break;case"filter":C.render();break;case"level":C.options.level=Ue()(xe),C.render()}}),this.$container.on("scroll",this.onScroll)}},{key:"_renderViewport",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=C.topTolerance,L=T===void 0?500:T,ue=C.bottomTolerance,De=ue===void 0?500:ue,xe=this.el,$e=this.container,et=this.space;if(!qe()($e)){for(var Fe=$e.scrollTop,ut=$e.offsetHeight,wt=et.getBoundingClientRect().width,$t=Fe-L,Bt=Fe+ut+De,Et=this.displayLogs,Ft=0,an=0,Wt=0,on=Et.length,tn=this.fakeEl,sn=document.createDocumentFragment(),fn=[],pn=0;pn<on;pn++){var nn=Et[pn],cn=nn.width;nn.height!==0&&cn===wt||(sn.appendChild(nn.container),fn.push(nn))}if(fn.length>0){tn.appendChild(sn);for(var gn=0,_n=fn.length;gn<_n;gn++)fn[gn].updateSize();tn.textContent=""}for(var Sn=document.createDocumentFragment(),wn=0;wn<on;wn++){var An=Et[wn],Rn=An.container,mn=An.height;Wt>Bt?an+=mn:Wt+mn>$t?Sn.appendChild(Rn):Wt<$t&&(Ft+=mn),Wt+=mn}for(this.updateSpace(Wt),this.updateTopSpace(Ft),this.updateBottomSpace(an);xe.firstChild;)xe.lastChild&&xe.removeChild(xe.lastChild);xe.appendChild(Sn);var jn=$e.scrollHeight;this.isAtBottom&&Fe<=jn-ut&&($e.scrollTop=1e7)}}},{key:"initTpl",value:function(){this.$container.html(this.c(Ht()(Mt||(Mt=(0,r.A)([`
      <div class="logs-space">
        <div class="fake-logs"></div>
        <div class="logs"></div>
      </div>
    `])))))}}])}(In),wr=function(){return mr()("HH:MM:ss ")};function qn(){for(var We=new Error,ct="",C=We.stack?We.stack.split(`
`):"",T=0,L=C.length;T<L;T++)if((ct=C[T]).indexOf("winConsole")>-1&&T<L-1){ct=C[T+1];break}return ct}(function(We,ct){try{We.exports=ct,We.exports.default=ct}catch{}})(n,Gn)},3612:function(n,t,e){var r=e(1738),o=e(769),i=e(21);t=function(a){return o(r(a)?new i(a):a)},n.exports=t},3693:function(n,t,e){var r=e(21),o=e(2230),i=e(8604),a=e(6866),s=e(9186),l=e(7236),c=e(3497),d=e(2113),f=e(2125),p=e(3793),g=e(7661),y=e(5360),m=e(8971),w=e(1738);t=function(v){return new r(v)},r.methods({offset:function(){return o(this)},hide:function(){return this.css("display","none")},show:function(){return i(this),this},first:function(){return t(this[0])},last:function(){return t(c(this))},get:function(v){return this[v]},eq:function(v){return t(this[v])},on:function(v,_,S){return p.on(this,v,_,S),this},off:function(v,_,S){return p.off(this,v,_,S),this},html:function(v){var _=l.html(this,v);return m(v)?_:this},text:function(v){var _=l.text(this,v);return m(v)?_:this},val:function(v){var _=l.val(this,v);return m(v)?_:this},css:function(v,_){var S=a(this,v,_);return h(v,_)?S:this},attr:function(v,_){var S=s(this,v,_);return h(v,_)?S:this},data:function(v,_){var S=f(this,v,_);return h(v,_)?S:this},rmAttr:function(v){return s.remove(this,v),this},remove:function(){return d(this),this},addClass:function(v){return g.add(this,v),this},rmClass:function(v){return g.remove(this,v),this},toggleClass:function(v){return g.toggle(this,v),this},hasClass:function(v){return g.has(this,v)},parent:function(){return t(this[0].parentNode)},append:function(v){return y.append(this,v),this},prepend:function(v){return y.prepend(this,v),this},before:function(v){return y.before(this,v),this},after:function(v){return y.after(this,v),this}});var h=function(v,_){return m(_)&&w(v)};n.exports=t},3703:function(n,t){var e=this&&this.__read||function(m,w){var h=typeof Symbol=="function"&&m[Symbol.iterator];if(!h)return m;var v,_,S=h.call(m),B=[];try{for(;(w===void 0||w-- >0)&&!(v=S.next()).done;)B.push(v.value)}catch($){_={error:$}}finally{try{v&&!v.done&&(h=S.return)&&h.call(S)}finally{if(_)throw _.error}}return B},r=this&&this.__values||function(m){var w=typeof Symbol=="function"&&Symbol.iterator,h=w&&m[w],v=0;if(h)return h.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(m,w){var h=m[3];return[(1-h)*w[0]+h*m[0],(1-h)*w[1]+h*m[1],(1-h)*w[2]+h*m[2],h+w[3]*(1-h)]}function i(m){var w=e(m,3),h=w[0],v=w[1],_=w[2];return .2126*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))+.7152*(v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4))+.0722*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))}Object.defineProperty(t,"__esModule",{value:!0}),t.getContrastThreshold=t.isLargeFont=t.getAPCAThreshold=t.desiredLuminanceAPCA=t.contrastRatioByLuminanceAPCA=t.contrastRatioAPCA=t.luminanceAPCA=t.contrastRatio=t.luminance=t.rgbaToHsla=t.blendColors=void 0,t.blendColors=o,t.rgbaToHsla=function(m){var w=e(m,4),h=w[0],v=w[1],_=w[2],S=w[3],B=Math.max(h,v,_),$=Math.min(h,v,_),x=B-$,G=B+$,te=.5*G;return[$===B?0:h===B?(.16666666666666666*(v-_)/x+1)%1:v===B?.16666666666666666*(_-h)/x+.3333333333333333:.16666666666666666*(h-v)/x+.6666666666666666,te===0||te===1?0:te<=.5?x/G:x/(2-G),te,S]},t.luminance=i,t.contrastRatio=function(m,w){var h=i(o(m,w)),v=i(w);return(Math.max(h,v)+.05)/(Math.min(h,v)+.05)};var a=12.82051282051282,s=.06;function l(m){var w=e(m,3),h=w[0],v=w[1],_=w[2];return .2126729*Math.pow(h,2.4)+.7151522*Math.pow(v,2.4)+.072175*Math.pow(_,2.4)}function c(m){return m>.03?m:m+Math.pow(.03-m,1.45)}function d(m,w){if(m=c(m),w=c(w),Math.abs(m-w)<5e-4)return 0;var h=0;return 100*(h=w>=m?(h=1.25*(Math.pow(w,.55)-Math.pow(m,.58)))<.001?0:h<.078?h-h*a*s:h-s:(h=1.25*(Math.pow(w,.62)-Math.pow(m,.57)))>-.001?0:h>-.078?h-h*a*s:h+s)}t.luminanceAPCA=l,t.contrastRatioAPCA=function(m,w){return d(l(m),l(w))},t.contrastRatioByLuminanceAPCA=d,t.desiredLuminanceAPCA=function(m,w,h){function v(){return h?Math.pow(Math.abs(Math.pow(m,.62)-(-w-s)/1.25),1.7543859649122808):Math.pow(Math.abs(Math.pow(m,.55)-(w+s)/1.25),1.7241379310344829)}m=c(m),w/=100;var _=v();return(_<0||_>1)&&(h=!h,_=v()),_};var f=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function p(m,w){var h=72*parseFloat(m.replace("px",""))/96;return["bold","bolder","600","700","800","900"].indexOf(w)!==-1?h>=14:h>=18}f.reverse(),t.getAPCAThreshold=function(m,w){var h,v,_,S,B=parseFloat(m.replace("px","")),$=parseFloat(w);try{for(var x=r(f),G=x.next();!G.done;G=x.next()){var te=e(G.value),ee=te[0],de=te.slice(1);if(B>=ee)try{for(var ve=(_=void 0,r([900,800,700,600,500,400,300,200,100].entries())),Y=ve.next();!Y.done;Y=ve.next()){var z=e(Y.value,2),D=z[0];if($>=z[1]){var N=de[de.length-1-D];return N===-1?null:N}}}catch(j){_={error:j}}finally{try{Y&&!Y.done&&(S=ve.return)&&S.call(ve)}finally{if(_)throw _.error}}}}catch(j){h={error:j}}finally{try{G&&!G.done&&(v=x.return)&&v.call(x)}finally{if(h)throw h.error}}return null},t.isLargeFont=p;var g={aa:3,aaa:4.5},y={aa:4.5,aaa:7};t.getContrastThreshold=function(m,w){return p(m,w)?g:y}},3722:function(n,t,e){var r=e(3145);t=function(o){return Object.freeze?Object.freeze(o):(r(o).forEach(function(i){Object.getOwnPropertyDescriptor(o,i).configurable&&Object.defineProperty(o,i,{writable:!1,configurable:!1})}),o)},n.exports=t},3737:function(n,t,e){var r=e(2263);t=r.extend({className:"MediaQuery",initialize:function(o){var i=this;this.callSuper(r,"initialize"),this._listener=function(){i.emit(i.isMatch()?"match":"unmatch")},this.setQuery(o)},setQuery:function(o){this._mql&&this._mql.removeListener(this._listener),this._mql=window.matchMedia(o),this._mql.addListener(this._listener)},isMatch:function(){return this._mql.matches}}),n.exports=t},3750:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object Blob]"},n.exports=t},3752:function(n,t,e){var r=e(2510),o=e(769);t=r(function(i,a){return function(){var s=[];return s=(s=s.concat(a)).concat(o(arguments)),i.apply(this,s)}}),n.exports=t},3793:function(n,t,e){var r=e(8966),o=e(8971),i=e(3612),a=e(9100);function s(l){return function(c,d,f,p){c=i(c),o(p)&&(p=f,f=void 0),a(c,function(g){r[l](g,d,f,p)})}}t={on:s("add"),off:s("remove")},n.exports=t},3805:function(n,t,e){var r=e(2561);t=function(o){return r(o).toLocaleUpperCase()},n.exports=t},3915:function(n,t,e){var r=e(5693),o=e(3145),i=e(5793);t=function(a,s,l){s=r(s,l);for(var c=!i(a)&&o(a),d=(c||a).length,f=Array(d),p=0;p<d;p++){var g=c?c[p]:p;f[p]=s(a[g],g,a)}return f},n.exports=t},3954:function(n,t,e){function r(o){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},r(o)}e.d(t,{A:function(){return r}})},3957:function(n,t,e){var r=e(3974);t=function(o){var i=r(o);return i==="[object Function]"||i==="[object GeneratorFunction]"||i==="[object AsyncFunction]"},n.exports=t},3974:function(n,t){var e=Object.prototype.toString;t=function(r){return e.call(r)},n.exports=t},3979:function(n,t,e){var r=this&&this.__values||function(h){var v=typeof Symbol=="function"&&Symbol.iterator,_=v&&h[v],S=0;if(_)return _.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&S>=h.length&&(h=void 0),{value:h&&h[S++],done:!h}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(h,v){var _=typeof Symbol=="function"&&h[Symbol.iterator];if(!_)return h;var S,B,$=_.call(h),x=[];try{for(;(v===void 0||v-- >0)&&!(S=$.next()).done;)x.push(S.value)}catch(G){B={error:G}}finally{try{S&&!S.done&&(_=$.return)&&_.call($)}finally{if(B)throw B.error}}return x},i=this&&this.__spreadArray||function(h,v,_){if(_||arguments.length===2)for(var S,B=0,$=v.length;B<$;B++)!S&&B in v||(S||(S=Array.prototype.slice.call(v,0,B)),S[B]=v[B]);return h.concat(S||Array.prototype.slice.call(v))},a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.drawPath=t.formatColor=t.formatRgba=t.parseHexa=t.createPathForQuad=t.hatchFillPath=t.applyMatrixToPoint=t.emptyBounds=t.buildPath=t.fillPathWithBoxStyle=t.drawPathWithLineStyle=void 0;var s=a(e(1580)),l=e(3703);function c(h,v,_){var S=0;function B(G){for(var te=[],ee=0;ee<G;++ee){var de=Math.round(h[S++]*_);v.maxX=Math.max(v.maxX,de),v.minX=Math.min(v.minX,de);var ve=Math.round(h[S++]*_);v.maxY=Math.max(v.maxY,ve),v.minY=Math.min(v.minY,ve),v.leftmostXForY[ve]=Math.min(v.leftmostXForY[ve]||Number.MAX_VALUE,de),v.rightmostXForY[ve]=Math.max(v.rightmostXForY[ve]||Number.MIN_VALUE,de),v.topmostYForX[de]=Math.min(v.topmostYForX[de]||Number.MAX_VALUE,ve),v.bottommostYForX[de]=Math.max(v.bottommostYForX[de]||Number.MIN_VALUE,ve),v.allPoints.push({x:de,y:ve}),te.push(de,ve)}return te}for(var $=h.length,x=new Path2D;S<$;)switch(h[S++]){case"M":x.moveTo.apply(x,B(1));break;case"L":x.lineTo.apply(x,B(1));break;case"C":x.bezierCurveTo.apply(x,B(3));break;case"Q":x.quadraticCurveTo.apply(x,B(2));break;case"Z":x.closePath()}return x}t.drawPathWithLineStyle=function(h,v,_,S){S===void 0&&(S=1),_&&_.color&&(h.save(),h.translate(.5,.5),h.lineWidth=S,_.pattern==="dashed"&&h.setLineDash([3,3]),_.pattern==="dotted"&&h.setLineDash([2,2]),h.strokeStyle=_.color,h.stroke(v),h.restore())},t.fillPathWithBoxStyle=function(h,v,_,S,B){B&&(h.save(),B.fillColor&&(h.fillStyle=B.fillColor,h.fill(v)),B.hatchColor&&y(h,v,_,10,B.hatchColor,S,!1),h.restore())},t.buildPath=c,t.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},t.applyMatrixToPoint=function(h,v){var _=new DOMPoint(h.x,h.y);return{x:(_=_.matrixTransform(v)).x,y:_.y}};var d,f=5,p=3,g="";function y(h,v,_,S,B,$,x){if((h.canvas.width<_.maxX-_.minX||h.canvas.height<_.maxY-_.minY)&&(_={minX:0,maxX:h.canvas.width,minY:0,maxY:h.canvas.height,allPoints:[]}),!d||B!==g){g=B;var G=document.createElement("canvas");G.width=S,G.height=f+p;var te=G.getContext("2d");te.clearRect(0,0,G.width,G.height),te.rect(0,0,1,f),te.fillStyle=B,te.fill(),d=h.createPattern(G,"repeat")}h.save();var ee=new DOMMatrix;d.setTransform(ee.scale(x?-1:1,1).rotate(0,0,-45+$)),h.fillStyle=d,h.fill(v),h.restore()}function m(h){return(h.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map(function(v){return parseInt(v,16)/255})}function w(h,v){if(v==="rgb"){var _=o(h,4),S=_[0],B=_[1],$=_[2],x=_[3];return"rgb(".concat((255*S).toFixed()," ").concat((255*B).toFixed()," ").concat((255*$).toFixed()).concat(x===1?"":" / "+Math.round(100*x)/100,")")}if(v==="hsl"){var G=o((0,l.rgbaToHsla)(h),4),te=G[0],ee=G[1],de=G[2];return x=G[3],"hsl(".concat(Math.round(360*te),"deg ").concat(Math.round(100*ee)," ").concat(Math.round(100*de)).concat(x===1?"":" / "+Math.round(100*x)/100,")")}throw new Error("NOT_REACHED")}t.hatchFillPath=y,t.createPathForQuad=function(h,v,_,S){var B,$,x=["M",h.p1.x,h.p1.y,"L",h.p2.x,h.p2.y,"L",h.p3.x,h.p3.y,"L",h.p4.x,h.p4.y];try{for(var G=r(v),te=G.next();!te.done;te=G.next()){var ee=te.value;x=i(i([],o(x),!1),["L",ee.p4.x,ee.p4.y,"L",ee.p3.x,ee.p3.y,"L",ee.p2.x,ee.p2.y,"L",ee.p1.x,ee.p1.y,"L",ee.p4.x,ee.p4.y,"L",h.p4.x,h.p4.y],!1)}}catch(de){B={error:de}}finally{try{te&&!te.done&&($=G.return)&&$.call(G)}finally{if(B)throw B.error}}return x.push("Z"),c(x,_,S)},t.parseHexa=m,t.formatRgba=w,t.formatColor=function(h,v){return v==="rgb"||v==="hsl"?w(m(h),v):(0,s.default)(h,"FF")?h.substr(0,7):h},t.drawPath=function(h,v,_,S,B,$,x){h.save();var G=c(v,$,x);return _&&(h.fillStyle=_,h.fill(G)),S&&(B==="dashed"&&h.setLineDash([3,3]),B==="dotted"&&h.setLineDash([2,2]),h.lineWidth=2,h.strokeStyle=S,h.stroke(G)),h.restore(),G}},3981:function(n,t){t=Date.now?Date.now:function(){return new Date().getTime()},n.exports=t},4069:function(n,t,e){var r=e(769);t=function(){for(var o=r(arguments),i=[],a=0,s=o.length;a<s;a++)i=i.concat(r(o[a]));return i},n.exports=t},4095:function(n,t,e){var r=e(1023),o=e(5241),i=e(3793),a=e(6866),s=e(3249),l=e(8105),c=e(5169);t=c.ResizeObserver?r.extend({initialize:function(d){var f=this;if(d._resizeSensor)return d._resizeSensor;this.callSuper(r,"initialize");var p=new c.ResizeObserver(function(){return f.emit()});p.observe(d),d._resizeSensor=this,this._resizeObserver=p,this._el=d},destroy:function(){var d=this._el;d._resizeSensor&&(this.rmAllListeners(),delete d._resizeSensor,this._resizeObserver.unobserve(d))}}):r.extend({initialize:function(d){if(d._resizeSensor)return d._resizeSensor;this.callSuper(r,"initialize"),this._el=d,d._resizeSensor=this,s(["absolute","relative","fixed","sticky"],a(d,"position"))||a(d,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var d=this._el;d._resizeSensor&&(this.rmAllListeners(),delete d._resizeSensor,d.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var d=this._el,f={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},p={position:"absolute",left:"0px",top:"0px",transition:"0s"},g=o("div",{style:p}),y=o("div.resize-sensor-expand",{style:f},g),m=o("div.resize-sensor-shrink",{style:f},o("div",{style:l({width:"200%",height:"200%"},p)})),w=o("div.resize-sensor",{dir:"ltr",style:f},y,m);this._expandEl=y,this._expandChildEl=g,this._shrinkEl=m,this._resizeSensorEl=w,d.appendChild(w),this._resetExpandShrink()},_bindEvent:function(){var d=this;i.on(this._expandEl,"scroll",function(){return d._onScroll()}),i.on(this._shrinkEl,"scroll",function(){return d._onScroll()})},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var d=this._el,f=d.offsetWidth,p=d.offsetHeight;a(this._expandChildEl,{width:f+10,height:p+10}),l(this._expandEl,{scrollLeft:f+10,scrollTop:p+10}),l(this._shrinkEl,{scrollLeft:f+10,scrollTop:p+10})}}),n.exports=t},4151:function(n,t,e){var r=e(6949),o=e(1738),i=e(9760),a=e(9100);function s(l,c,d){for(var f=r(c,l),p=f.pop();c=f.shift();)l[c]||(l[c]={}),l=l[c];Object.defineProperty(l,p,d)}t=function(l,c,d){return o(c)?s(l,c,d):i(c)&&a(c,function(f,p){s(l,p,f)}),l},n.exports=t},4209:function(n,t,e){e.d(t,{A:function(){return Io}});var r=e(3029),o=e(2901),i=e(388),a=e(3954),s=e(5361),l=e(4467),c=e(2263),d=e.n(c),f=new(d());f.ADD="ADD",f.SHOW="SHOW",f.SCALE="SCALE";var p=f,g=e(991),y=e(2717),m=e.n(y)()({init:function(A){this._$el=A},show:function(){return this._$el.show(),this},hide:function(){return this._$el.hide(),this},destroy:function(){this._$el.remove()}}),w=e(3693),h=e.n(w),v=e(5021),_=e.n(v),S=e(5630),B=e.n(S),$=e(9100),x=e.n($),G=e(2571),te=e.n(G),ee=e(1738),de=e.n(ee),ve=e(3249),Y=e.n(ve),z=e(8420),D=e.n(z),N=e(2561),j=e.n(N),P=e(3145),E=e.n(P),K=e(7604),q=e.n(K),Ae=e(5651),_e=e.n(Ae),Ce=e(8105),Z=e.n(Ce),fe=e(6214),Me=e.n(fe),Pe=["background","foreground","selectForeground","accent","highlight","border","primary","contrast","varColor","stringColor","keywordColor","numberColor","operatorColor","linkColor","textColor","tagNameColor","functionColor","attributeNameColor","commentColor"],He=Pe.length;function Ye(A){for(var O={},u=0;u<He;u++)O[Pe[u]]=A[u];return O}function Xe(A){return Me()(A)&&(A=Ye(A)),A.darkerBackground||(A.darkerBackground=A.contrast),Z()({consoleWarnBackground:"#332a00",consoleWarnForeground:"#ffcb6b",consoleWarnBorder:"#650",consoleErrorBackground:"#290000",consoleErrorForeground:"#ff8080",consoleErrorBorder:"#5c0000",light:"#ccc",dark:"#aaa"},A)}function qe(A){return Me()(A)&&(A=Ye(A)),A.darkerBackground||(A.darkerBackground=A.contrast),Z()({consoleWarnBackground:"#fffbe5",consoleWarnForeground:"#5c5c00",consoleWarnBorder:"#fff5c2",consoleErrorBackground:"#fff0f0",consoleErrorForeground:"#f00",consoleErrorBorder:"#ffd6d6",light:"#fff",dark:"#eee"},A)}var tt=["Dark","Material Oceanic","Material Darker","Material Palenight","Material Deep Ocean","Monokai Pro","Dracula","Arc Dark","Atom One Dark","Solarized Dark","Night Owl","AMOLED"];function ot(A){return Y()(tt,A)}var be={Light:qe({darkerBackground:"#f3f3f3",background:"#fff",foreground:"#333",selectForeground:"#333",accent:"#1a73e8",highlight:"#eaeaea",border:"#ccc",primary:"#333",contrast:"#f2f7fd",varColor:"#c80000",stringColor:"#1a1aa6",keywordColor:"#881280",numberColor:"#1c00cf",operatorColor:"#808080",linkColor:"#1155cc",textColor:"#8097bd",tagNameColor:"#881280",functionColor:"#222",attributeNameColor:"#994500",commentColor:"#236e25",cssProperty:"#c80000"}),Dark:Xe({darkerBackground:"#333",background:"#242424",foreground:"#a5a5a5",selectForeground:"#eaeaea",accent:"#7cacf8",highlight:"#000",border:"#3d3d3d",primary:"#ccc",contrast:"#0b2544",varColor:"#e36eec",stringColor:"#f29766",keywordColor:"#9980ff",numberColor:"#9980ff",operatorColor:"#7f7f7f",linkColor:"#ababab",textColor:"#42597f",tagNameColor:"#5db0d7",functionColor:"#d5d5d5",attributeNameColor:"#9bbbdc",commentColor:"#747474"}),"Material Oceanic":Xe(["#263238","#B0BEC5","#FFFFFF","#009688","#425B67","#2A373E","#607D8B","#1E272C","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#546e7a"]),"Material Darker":Xe(["#212121","#B0BEC5","#FFFFFF","#FF9800","#3F3F3F","#292929","#727272","#1A1A1A","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#616161"]),"Material Lighter":qe(["#FAFAFA","#546E7A","#546e7a","#00BCD4","#E7E7E8","#d3e1e8","#94A7B0","#F4F4F4","#272727","#91B859","#7C4DFF","#F76D47","#39ADB5","#39ADB5","#546E7A","#E53935","#6182B8","#F6A434","#AABFC9"]),"Material Palenight":Xe(["#292D3E","#A6ACCD","#FFFFFF","#ab47bc","#444267","#2b2a3e","#676E95","#202331","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#A6ACCD","#f07178","#82aaff","#ffcb6b","#676E95"]),"Material Deep Ocean":Xe(["#0F111A","#8F93A2","#FFFFFF","#84ffff","#1F2233","#41465b","#4B526D","#090B10","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#8F93A2","#f07178","#82aaff","#ffcb6b","#717CB4"]),"Monokai Pro":Xe(["#2D2A2E","#fcfcfa","#FFFFFF","#ffd866","#5b595c","#423f43","#939293","#221F22","#FCFCFA","#FFD866","#FF6188","#AB9DF2","#FF6188","#78DCE8","#fcfcfa","#FF6188","#A9DC76","#78DCE8","#727072"]),Dracula:Xe(["#282A36","#F8F8F2","#8BE9FD","#FF79C5","#6272A4","#21222C","#6272A4","#191A21","#F8F8F2","#F1FA8C","#FF79C6","#BD93F9","#FF79C6","#F1FA8C","#F8F8F2","#FF79C6","#50FA78","#50FA7B","#6272A4"]),"Arc Dark":Xe(["#2f343f","#D3DAE3","#FFFFFF","#42A5F5","#3F3F46","#404552","#8b9eb5","#262b33","#CF6A4C","#8F9D6A","#9B859D","#CDA869","#A7A7A7","#7587A6","#D3DAE3","#CF6A4C","#7587A6","#F9EE98","#747C84"]),"Atom One Dark":Xe(["#282C34","#979FAD","#FFFFFF","#2979ff","#383D48","#2e3239","#979FAD","#21252B","#D19A66","#98C379","#C679DD","#D19A66","#61AFEF","#56B6C2","#979FAD","#F07178","#61AEEF","#E5C17C","#59626F"]),"Atom One Light":qe(["#FAFAFA","#232324","#232324","#2979ff","#EAEAEB","#DBDBDC","#9D9D9F","#FFFFFF","#986801","#50A14E","#A626A4","#986801","#4078F2","#0184BC","#232324","#E4564A","#4078F2","#C18401","#A0A1A7"]),"Solarized Dark":Xe(["#002B36","#839496","#FFFFFF","#d33682","#11353F","#0D3640","#586e75","#00252E","#268BD2","#2AA198","#859900","#D33682","#93A1A1","#268BD2","#839496","#268BD2","#B58900","#B58900","#657B83"]),"Solarized Light":qe(["#fdf6e3","#586e75","#002b36","#d33682","#F6F0DE","#f7f2e2","#93a1a1","#eee8d5","#268BD2","#2AA198","#859900","#D33682","#657B83","#268BD2","#586e75","#268BD2","#B58900","#657B83","#93A1A1"]),Github:qe(["#F7F8FA","#5B6168","#FFFFFF","#79CB60","#CCE5FF","#DFE1E4","#292D31","#FFFFFF","#24292E","#032F62","#D73A49","#005CC5","#D73A49","#005CC5","#5B6168","#22863A","#6F42C1","#6F42C1","#6A737D"]),"Night Owl":Xe(["#011627","#b0bec5","#ffffff","#7e57c2","#152C3B","#2a373e","#607d8b","#001424","#addb67","#ecc48d","#c792ea","#f78c6c","#c792ea","#80CBC4","#b0bec5","#7fdbca","#82AAFF","#FAD430","#637777"]),"Light Owl":qe(["#FAFAFA","#546e7a","#403f53","#269386","#E0E7EA","#efefef","#403F53","#FAFAFA","#0C969B","#c96765","#994cc3","#aa0982","#7d818b","#994cc3","#546e7a","#994cc3","#4876d6","#4876d6","#637777"]),AMOLED:Xe(["#000000","#8F93A2","#FFFFFF","#68FFAE","#000000","#41465b","#4B526D","#000000","#DEFDF7","#38ff9f","#ab2eff","#A76DF7","#38ff9f","#86F3C7","#8F93A2","#ab2eff","#8293FF","#38ff9f","#6575c7"])},ye=[],ne=1,J=be.Light,M=function(A,O){A=j()(A);for(var u=0,b=ye.length;u<b;u++)if(ye[u].css===A)return;O=O||M.container||document.head;var k=document.createElement("style");k.type="text/css",O.appendChild(k);var F={css:A,el:k,container:O};return H(F),ye.push(F),F};function ae(){x()(ye,function(A){return H(A)})}function H(A){var O=A.css,u=A.el;O=(O=O.replace(/(\d+)px/g,function(k,F){return+F*ne+"px"})).replace(/_/g,"eruda-");var b=E()(be.Light);x()(b,function(k){O=O.replace(new RegExp("var\\(--".concat(q()(k),"\\)"),"g"),J[k])}),u.innerText=O}M.setScale=function(A){ne=A,ae()},M.setTheme=function(A){J=de()(A)?be[A]||be.Light:_e()(A,be.Light),ae()},M.getCurTheme=function(){return J},M.getThemes=function(){return be},M.clear=function(){x()(ye,function(A){var O=A.container,u=A.el;return O.removeChild(u)}),ye=[]},M.remove=function(A){ye=te()(ye,function(O){return O!==A}),A.container.removeChild(A.el)};var he=M,Te=e(1162);function oe(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oe=function(){return!!A})()}function re(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}var le=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),(u=(0,i.A)(b,oe()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)))._style=he(e(4279)),u.name="settings",u._settings=[],u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u){re(O,"init",this)([u]),this._setting=new Te.Ay(u.get(0)),this._bindEvent()}},{key:"remove",value:function(u,b){var k=this;if(de()(u)){var F=this;this._$el.find(".luna-setting-item-title").each(function(){h()(this).text()===u&&F._setting.remove(this.settingItem)})}else this._settings=te()(this._settings,function(V){return V.config!==u||V.key!==b||(k._setting.remove(V.item),!1)});return this._cleanSeparator(),this}},{key:"destroy",value:function(){this._setting.destroy(),re(O,"destroy",this)([]),he.remove(this._style)}},{key:"clear",value:function(){this._settings=[],this._setting.clear()}},{key:"switch",value:function(u,b,k){var F=this._genId(),V=this._setting.appendCheckbox(F,!!u.get(b),k);return this._settings.push({config:u,key:b,id:F,item:V}),this}},{key:"select",value:function(u,b,k,F){var V=this._genId(),X={};x()(F,function(Ee){return X[Ee]=Ee});var ce=this._setting.appendSelect(V,u.get(b),"",k,X);return this._settings.push({config:u,key:b,id:V,item:ce}),this}},{key:"range",value:function(u,b,k,F){var V=F.min,X=V===void 0?0:V,ce=F.max,Ee=ce===void 0?1:ce,ze=F.step,gt=ze===void 0?.1:ze,vt=this._genId(),Tt=this._setting.appendNumber(vt,u.get(b),k,{max:Ee,min:X,step:gt,range:!0});return this._settings.push({config:u,key:b,min:X,max:Ee,step:gt,id:vt,item:Tt}),this}},{key:"button",value:function(u,b){return this._setting.appendButton(u,b),this}},{key:"separator",value:function(){return this._setting.appendSeparator(),this}},{key:"text",value:function(u){return this._setting.appendTitle(u),this}},{key:"_cleanSeparator",value:function(){var u=D()(this._$el.get(0).children);function b(V){return Y()(V.getAttribute("class"),"luna-setting-item-separator")}for(var k=0,F=u.length;k<F-1;k++)b(u[k])&&b(u[k+1])&&h()(u[k]).remove()}},{key:"_genId",value:function(){return B()("eruda-settings")}},{key:"_getSetting",value:function(u){var b;return x()(this._settings,function(k){k.id===u&&(b=k)}),b}},{key:"_bindEvent",value:function(){var u=this;this._setting.on("change",function(b,k){var F=u._getSetting(b);F.config.set(F.key,k)})}}],[{key:"createCfg",value:function(u,b){return new(_())("eruda-"+u,b)}}])}(m),Ie=e(9041),Be=e.n(Ie),Ke=e(7571),Je=e.n(Ke),Ze=e(5546),st=e.n(Ze),pt=e(6032),kt=e.n(pt),Kt=(e(4950),e(8971)),Gt=e.n(Kt),Pt=e(3497),Yt=e.n(Pt),zt=e(3915),At=e.n(zt),Jt=e(1947),It=e.n(Jt),Qe=e(6030),Re=e.n(Qe),W=e(9405),R=e.n(W),Q=e(9548),ie=e.n(Q);function Se(A,O){var u;switch(Gt()(O)&&(O=!0),A){case"local":u=window.localStorage;break;case"session":u=window.sessionStorage}try{var b="test-localStorage-"+Date.now();u.setItem(b,b);var k=u.getItem(b);if(u.removeItem(b),k!==b)throw new Error}catch{return O?It():void 0}return u}function Ue(A){return Re()(A.replace("px",""))}function Ne(A){for(;A;){if(A.id==="eruda")return!0;A=A.parentNode}return!1}function I(A){if(/<[^>]*>/g.test(A))try{var O=ie().parse(A);return nt(O,function(u){u.attrs&&u.attrs.class&&(u.attrs.class=it(u.attrs.class))}),ie().stringify(O)}catch{return it(A)}return it(A)}function nt(A,O){for(var u=0,b=A.length;u<b;u++){var k=A[u];O(k),k.content&&nt(k.content,O)}}function it(A){var O="eruda-";return At()(R()(A).split(/\s+/),function(u){return Y()(u,O)?u:u.replace(/[\w-]+/,function(b){return"".concat(O).concat(b)})}).join(" ")}function yt(A,O){var u=A==="x"?"clientX":"clientY";return O[u]?O[u]:O.changedTouches?O.changedTouches[0][u]:0}function Rt(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rt=function(){return!!A})()}var Lt,Dt=h()(document),dt=function(A){function O(u){var b,k,F,V;return(0,r.A)(this,O),k=this,F=O,F=(0,a.A)(F),b=(0,i.A)(k,Rt()?Reflect.construct(F,[],(0,a.A)(k).constructor):F.apply(k,V)),(0,l.A)(b,"_onDragStart",function(X){var ce=b._$el;ce.addClass(I("active")),b._isClick=!0,X=X.origEvent,b._startX=yt("x",X),b._oldX=Ue(ce.css("left")),b._oldY=Ue(ce.css("top")),b._startY=yt("y",X),Dt.on(st()("move"),b._onDragMove),Dt.on(st()("up"),b._onDragEnd)}),(0,l.A)(b,"_onDragMove",function(X){var ce=b._$el.get(0).offsetWidth,Ee=b._$container.get(0).offsetWidth,ze=b._$container.get(0).offsetHeight,gt=yt("x",X=X.origEvent)-b._startX,vt=yt("y",X)-b._startY;(Math.abs(gt)>3||Math.abs(vt)>3)&&(b._isClick=!1);var Tt=b._oldX+gt,Ot=b._oldY+vt;Tt<0?Tt=0:Tt>Ee-ce&&(Tt=Ee-ce),Ot<0?Ot=0:Ot>ze-ce&&(Ot=ze-ce),b._$el.css({left:Tt,top:Ot})}),(0,l.A)(b,"_onDragEnd",function(X){var ce=b._$el;b._isClick&&b.emit("click"),b._onDragMove(X),Dt.off(st()("move"),b._onDragMove),Dt.off(st()("up"),b._onDragEnd);var Ee=b.config;Ee.get("rememberPos")&&Ee.set("pos",{x:Ue(ce.css("left")),y:Ue(ce.css("top"))}),ce.rmClass("eruda-active")}),b._style=he(e(6717)),b._$container=u,b._initTpl(),b._bindEvent(),b._registerListener(),b}return(0,s.A)(O,A),(0,o.A)(O,[{key:"hide",value:function(){this._$el.hide()}},{key:"show",value:function(){this._$el.show()}},{key:"setPos",value:function(u){this._isOutOfRange(u)&&(u=this._getDefPos()),this._$el.css({left:u.x,top:u.y}),this.config.set("pos",u)}},{key:"getPos",value:function(){return this.config.get("pos")}},{key:"destroy",value:function(){he.remove(this._style),this._unregisterListener(),this._$el.remove()}},{key:"_isOutOfRange",value:function(u){u=u||this.config.get("pos");var b=this._getDefPos();return u.x>b.x+10||u.x<0||u.y<0||u.y>b.y+10}},{key:"_registerListener",value:function(){var u=this;this._scaleListener=function(){return Be()(function(){u._isOutOfRange()&&u._resetPos()})},p.on(p.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){p.off(p.SCALE,this._scaleListener)}},{key:"_initTpl",value:function(){var u=this._$container;u.append(I('<div class="entry-btn"><span class="icon-tool"></span></div>')),this._$el=u.find(".eruda-entry-btn")}},{key:"_resetPos",value:function(u){var b=this.config,k=b.get("pos"),F=this._getDefPos();b.get("rememberPos")&&!u||(k=F),this.setPos(k)}},{key:"_bindEvent",value:function(){var u=this;this._$el.on(st()("down"),this._onDragStart),Je().on("change",function(){return u._resetPos(!0)}),window.addEventListener("resize",function(){return u._resetPos()})}},{key:"initCfg",value:function(u){var b=this.config=le.createCfg("entry-button",{rememberPos:!0,pos:this._getDefPos()});u.switch(b,"rememberPos","Remember Entry Button Position"),this._resetPos()}},{key:"_getDefPos",value:function(){var u=this._$el.get(0).offsetWidth+10;return{x:window.innerWidth-u,y:window.innerHeight-u}}}])}(d()),lt=e(5458),ge=e(7622),Oe=Lt=new(e.n(ge)())("[Eruda]","warn");Lt.formatter=function(A,O){return O.unshift(this.name),O};var U=e(6097),ke=e.n(U),se=e(7e3),we=e.n(se),pe=e(9931),me=e.n(pe),je=e(1009),at=e.n(je),Le=e(5570),Ve=e.n(Le),rt=e(2556),Ge=e(1944),mt=e(8052);function ht(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ht=function(){return!!A})()}var ft=function(A){function O(u){var b,k,F,V,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=X.defaults,Ee=ce===void 0?{}:ce,ze=X.inline,gt=ze!==void 0&&ze;return(0,r.A)(this,O),k=this,F=O,F=(0,a.A)(F),b=(0,i.A)(k,ht()?Reflect.construct(F,[],(0,a.A)(k).constructor):F.apply(k,V)),(0,l.A)(b,"_checkSafeArea",function(){var vt=b.$container;(function(){var Tt=!1,Ot=document.createElement("div");if(CSS.supports("padding-bottom: env(safe-area-inset-bottom)")?(Ot.style.paddingBottom="env(safe-area-inset-bottom)",Tt=!0):CSS.supports("padding-bottom: constant(safe-area-inset-bottom)")&&(Ot.style.paddingBottom="constant(safe-area-inset-bottom)",Tt=!0),Tt){document.body.appendChild(Ot);var Xt=parseInt(window.getComputedStyle(Ot).paddingBottom);if(document.body.removeChild(Ot),Xt>0)return!0}return!1})()?vt.addClass(I("safe-area")):vt.rmClass(I("safe-area"))}),(0,l.A)(b,"_updateTabHeight",function(vt){b._tab.setOption("height",40*vt),Be()(function(){b._tab.updateSlider()})}),b._defCfg=Z()({transparency:1,displaySize:80,theme:"System preference"},Ee),b._style=he(e(541)),b.$container=u,b._isShow=!1,b._opacity=1,b._tools={},b._isResizing=!1,b._resizeTimer=null,b._resizeStartY=0,b._resizeStartSize=0,b._inline=gt,b._initTpl(),b._initTab(),b._initNotification(),b._initModal(),Ve()(function(){return b._checkSafeArea()}),b._bindEvent(),b}return(0,s.A)(O,A),(0,o.A)(O,[{key:"show",value:function(){var u=this;return this._isShow=!0,this._$el.show(),this._tab.updateSlider(),setTimeout(function(){u._$el.css("opacity",u._opacity)},50),this.emit("show"),this}},{key:"hide",value:function(){var u=this;if(!this._inline)return this._isShow=!1,this.emit("hide"),this._$el.css({opacity:0}),setTimeout(function(){return u._$el.hide()},300),this}},{key:"toggle",value:function(){return this._isShow?this.hide():this.show()}},{key:"add",value:function(u){var b=this._tab;if(!(u instanceof m)){var k=new m,F=k.init,V=k.show,X=k.hide,ce=k.destroy;_e()(u,{init:F,show:V,hide:X,destroy:ce})}var Ee=u.name;if(!Ee)return Oe.error("You must specify a name for a tool");if(this._tools[Ee])return Oe.warn("Tool ".concat(Ee," already exists"));var ze=Ee.replace(/\s+/g,"-");return this._$tools.prepend('<div id="'.concat(I(ze),'" class="').concat(I(ze+" tool"),'"></div>')),u.init(this._$tools.find(".".concat(I(ze),".").concat(I("tool"))),this),u.active=!1,this._tools[Ee]=u,Ee==="settings"?b.append({id:Ee,title:Ee}):b.insert(b.length-1,{id:Ee,title:Ee}),this}},{key:"remove",value:function(u){var b=this._tools;if(!b[u])return Oe.warn("Tool ".concat(u," doesn't exist"));this._tab.remove(u);var k=b[u];if(delete b[u],k.active){var F=E()(b);F.length>0&&this.showTool(b[Yt()(F)].name)}return k.destroy(),this}},{key:"removeAll",value:function(){var u=this;return x()(this._tools,function(b){return u.remove(b.name)}),this}},{key:"get",value:function(u){var b=this._tools[u];if(b)return b}},{key:"showTool",value:function(u){if(this._curTool===u)return this;this._curTool=u;var b=this._tools,k=b[u];if(k){var F={};return x()(b,function(V){V.active&&(F=V,V.active=!1,V.hide())}),k.active=!0,k.show(),this._tab.select(u),this.emit("showTool",u,F),this}}},{key:"initCfg",value:function(u){var b=this,k=this.config=le.createCfg("dev-tools",this._defCfg);this._setTransparency(k.get("transparency")),this._setDisplaySize(k.get("displaySize")),this._setTheme(k.get("theme")),k.on("change",function(F,V){switch(F){case"transparency":return b._setTransparency(V);case"displaySize":return b._setDisplaySize(V);case"theme":return b._setTheme(V)}}),u.separator().select(k,"theme","Theme",["System preference"].concat((0,lt.A)(E()(he.getThemes())))),this._inline||u.range(k,"transparency","Transparency",{min:.2,max:1,step:.01}).range(k,"displaySize","Display Size",{min:40,max:100,step:1}),u.button("Restore defaults and reload",function(){var F=Se("local"),V=JSON.parse(JSON.stringify(F));x()(V,function(X,ce){de()(X)&&at()(ce,"eruda")&&F.removeItem(ce)}),window.location.reload()}).separator()}},{key:"notify",value:function(u,b){this._notification.notify(u,b)}},{key:"destroy",value:function(){he.remove(this._style),this.removeAll(),this._tab.destroy(),this._$el.remove(),window.removeEventListener("resize",this._checkSafeArea),p.off(p.SCALE,this._updateTabHeight)}},{key:"_setTheme",value:function(u){var b=this.$container;u==="System preference"&&(u=me()(we().get())),ot(u)?b.addClass(I("dark")):b.rmClass(I("dark")),he.setTheme(u)}},{key:"_setTransparency",value:function(u){ke()(u)&&(this._opacity=u,this._isShow&&this._$el.css({opacity:u}))}},{key:"_setDisplaySize",value:function(u){this._inline&&(u=100),ke()(u)&&this._$el.css({height:u+"%"})}},{key:"_initTpl",value:function(){var u=this.$container;u.append(I(`
      <div class="dev-tools">
        <div class="resizer"></div>
        <div class="tab"></div>
        <div class="tools"></div>
        <div class="notification"></div>
        <div class="modal"></div>
      </div>
      `)),this._$el=u.find(I(".dev-tools")),this._$tools=this._$el.find(I(".tools"))}},{key:"_initTab",value:function(){var u=this;this._tab=new mt.A(this._$el.find(I(".tab")).get(0),{height:40}),this._tab.on("select",function(b){return u.showTool(b)})}},{key:"_initNotification",value:function(){this._notification=new rt.A(this._$el.find(I(".notification")).get(0),{position:{x:"center",y:"top"}})}},{key:"_initModal",value:function(){Ge.A.setContainer(this._$el.find(I(".modal")).get(0))}},{key:"_bindEvent",value:function(){var u=this,b=this._$el.find(I(".resizer")),k=this._$el.find(I(".nav-bar")),F=h()(document);this._inline&&b.hide();var V=function(ce){if(u._isResizing){ce.preventDefault(),ce.stopPropagation(),ce=ce.origEvent;var Ee=(u._resizeStartY-yt("y",ce))/window.innerHeight*100,ze=u._resizeStartSize+Ee;ze<40?ze=40:ze>100&&(ze=100),u.config.set("displaySize",Re()(ze.toFixed(2)))}},X=function(){clearTimeout(u._resizeTimer),u._isResizing=!1,b.css("height",10),F.off(st()("move"),V),F.off(st()("up"),X)};b.css("height",10),b.on(st()("down"),function(ce){ce.preventDefault(),ce.stopPropagation(),ce=ce.origEvent,u._isResizing=!0,u._resizeStartSize=u.config.get("displaySize"),u._resizeStartY=yt("y",ce),b.css("height","100%"),F.on(st()("move"),V),F.on(st()("up"),X)}),k.on("contextmenu",function(ce){return ce.preventDefault()}),this.$container.on("click",function(ce){return ce.stopPropagation()}),window.addEventListener("resize",this._checkSafeArea),p.on(p.SCALE,this._updateTabHeight),we().on("change",function(){var ce=u.config.get("theme");ce==="System preference"&&u._setTheme(ce)})}}])}(d()),bt=e(9993),St=e.n(bt),_t=e(3957),xt=e.n(_t),Nt=e(1976),jt=e.n(Nt),Ht=e(6962),Zt=e.n(Ht),rn=e(8609),qt=e.n(rn),Qt=e(4236),Vt=e.n(Qt),ln=e(3578);function bn(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bn=function(){return!!A})()}function dn(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}Zt().start();var ir=function(A){function O(){var u,b,k,F,V=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).name,X=V===void 0?"console":V;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),u=(0,i.A)(b,bn()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)),(0,l.A)(u,"_handleShow",function(){qt()(u._$el.get(0))||u._logger.renderViewport()}),(0,l.A)(u,"_handleErr",function(ce){u._logger.error(ce)}),d().mixin(u),u.name=X,u._selectedLog=null,u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u,b){dn(O,"init",this)([u]),this._container=b,this._appendTpl(),this._initCfg(),this._initLogger(),this._exposeLogger(),this._bindEvent()}},{key:"show",value:function(){dn(O,"show",this)([]),this._handleShow()}},{key:"overrideConsole",value:function(){var u=this,b=this._origConsole={},k=window.console;return kn.forEach(function(F){var V=b[F]=St();k[F]&&(V=b[F]=k[F].bind(k)),k[F]=function(){u[F].apply(u,arguments),V.apply(void 0,arguments)}}),this}},{key:"setGlobal",value:function(u,b){this._logger.setGlobal(u,b)}},{key:"restoreConsole",value:function(){var u=this;return this._origConsole?(kn.forEach(function(b){return window.console[b]=u._origConsole[b]}),delete this._origConsole,this):this}},{key:"catchGlobalErr",value:function(){return Zt().addListener(this._handleErr),this}},{key:"ignoreGlobalErr",value:function(){return Zt().rmListener(this._handleErr),this}},{key:"filter",value:function(u){var b=this._$filterText,k=this._logger;de()(u)?(b.text(u),k.setOption("filter",R()(u))):jt()(u)?(b.text(j()(u)),k.setOption("filter",u)):xt()(u)&&(b.text("ƒ"),k.setOption("filter",u))}},{key:"destroy",value:function(){this._logger.destroy(),dn(O,"destroy",this)([]),this._container.off("show",this._handleShow),this._style&&he.remove(this._style),this.ignoreGlobalErr(),this.restoreConsole(),this._rmCfg()}},{key:"_enableJsExecution",value:function(u){var b=this._$el,k=b.find(I(".js-input"));u?(k.show(),b.rmClass(I("js-input-hidden"))):(k.hide(),b.addClass(I("js-input-hidden")))}},{key:"_appendTpl",value:function(){var u=this._$el;this._style=he(e(6567)),u.append(I(`
      <div class="control">
        <span class="icon-clear clear-console"></span>
        <span class="level active" data-level="all">All</span>
        <span class="level" data-level="info">Info</span>
        <span class="level" data-level="warning">Warning</span>
        <span class="level" data-level="error">Error</span>
        <span class="filter-text"></span>
        <span class="icon-filter filter"></span>
        <span class="icon-copy icon-disabled copy"></span>
      </div>
      <div class="logs-container"></div>
      <div class="js-input">
        <div class="buttons">
          <div class="button cancel">Cancel</div>
          <div class="button execute">Execute</div>
        </div>
        <span class="icon-arrow-right"></span>
        <textarea></textarea>
      </div>
    `));var b=u.find(I(".js-input")),k=b.find("textarea"),F=b.find(I(".buttons"));Z()(this,{_$control:u.find(I(".control")),_$logs:u.find(I(".logs-container")),_$inputContainer:b,_$input:k,_$inputBtns:F,_$filterText:u.find(I(".filter-text"))})}},{key:"_initLogger",value:function(){var u=this.config,b=u.get("maxLogNum");b=b==="infinite"?0:+b;var k=this._$control.find(I(".level")),F=new ln.A(this._$logs.get(0),{asyncRender:u.get("asyncRender"),maxNum:b,showHeader:u.get("displayExtraInfo"),unenumerable:u.get("displayUnenumerable"),accessGetter:u.get("displayGetterVal"),lazyEvaluation:u.get("lazyEvaluation")});F.on("optionChange",function(V,X){V==="level"&&k.each(function(){var ce=h()(this),Ee=ce.data("level");ce[Ee===X||Ee==="all"&&Me()(X)?"addClass":"rmClass"](I("active"))})}),u.get("overrideConsole")&&this.overrideConsole(),this._logger=F}},{key:"_exposeLogger",value:function(){var u=this,b=this._logger;["html"].concat(kn).forEach(function(k){return u[k]=function(){for(var F=arguments.length,V=new Array(F),X=0;X<F;X++)V[X]=arguments[X];return b[k].apply(b,V),u.emit.apply(u,[k].concat(V)),u}})}},{key:"_bindEvent",value:function(){var u=this,b=this._container,k=this._$input,F=this._$inputBtns,V=this._$control,X=this._logger,ce=this.config;V.on("click",I(".clear-console"),function(){return X.clear(!0)}).on("click",I(".level"),function(){var Ee=h()(this).data("level");Ee==="all"&&(Ee=["verbose","info","warning","error"]),X.setOption("level",Ee)}).on("click",I(".filter"),function(){Ge.A.prompt("Filter").then(function(Ee){Vt()(Ee)||u.filter(Ee)})}).on("click",I(".copy"),function(){u._selectedLog.copy(),b.notify("Copied",{icon:"success"})}),F.on("click",I(".cancel"),function(){return u._hideInput()}).on("click",I(".execute"),function(){var Ee=k.val().trim();Ee!==""&&(X.evaluate(Ee),k.val("").get(0).blur(),u._hideInput())}),k.on("focusin",function(){return u._showInput()}),X.on("insert",function(Ee){Ee.type==="error"&&ce.get("displayIfErr")&&b.showTool("console").show()}),X.on("select",function(Ee){u._selectedLog=Ee,V.find(I(".icon-copy")).rmClass(I("icon-disabled"))}),X.on("deselect",function(){u._selectedLog=null,V.find(I(".icon-copy")).addClass(I("icon-disabled"))}),b.on("show",this._handleShow)}},{key:"_hideInput",value:function(){this._$inputContainer.rmClass(I("active")),this._$inputBtns.css("display","none")}},{key:"_showInput",value:function(){this._$inputContainer.addClass(I("active")),this._$inputBtns.css("display","flex")}},{key:"_rmCfg",value:function(){var u=this.config,b=this._container.get("settings");b&&b.remove(u,"asyncRender").remove(u,"jsExecution").remove(u,"catchGlobalErr").remove(u,"overrideConsole").remove(u,"displayExtraInfo").remove(u,"displayUnenumerable").remove(u,"displayGetterVal").remove(u,"lazyEvaluation").remove(u,"displayIfErr").remove(u,"maxLogNum").remove(me()(this.name))}},{key:"_initCfg",value:function(){var u=this,b=this._container,k=this.config=le.createCfg(this.name,{asyncRender:!0,catchGlobalErr:!0,jsExecution:!0,overrideConsole:!0,displayExtraInfo:!1,displayUnenumerable:!0,displayGetterVal:!0,lazyEvaluation:!0,displayIfErr:!1,maxLogNum:"infinite"});this._enableJsExecution(k.get("jsExecution")),k.get("catchGlobalErr")&&this.catchGlobalErr(),k.on("change",function(V,X){var ce=u._logger;switch(V){case"asyncRender":return ce.setOption("asyncRender",X);case"jsExecution":return u._enableJsExecution(X);case"catchGlobalErr":return X?u.catchGlobalErr():u.ignoreGlobalErr();case"overrideConsole":return X?u.overrideConsole():u.restoreConsole();case"maxLogNum":return ce.setOption("maxNum",X==="infinite"?0:+X);case"displayExtraInfo":return ce.setOption("showHeader",X);case"displayUnenumerable":return ce.setOption("unenumerable",X);case"displayGetterVal":return ce.setOption("accessGetter",X);case"lazyEvaluation":return ce.setOption("lazyEvaluation",X)}});var F=b.get("settings");F&&F.text(me()(this.name)).switch(k,"asyncRender","Asynchronous Rendering").switch(k,"jsExecution","Enable JavaScript Execution").switch(k,"catchGlobalErr","Catch Global Errors").switch(k,"overrideConsole","Override Console").switch(k,"displayIfErr","Auto Display If Error Occurs").switch(k,"displayExtraInfo","Display Extra Information").switch(k,"displayUnenumerable","Display Unenumerable Properties").switch(k,"displayGetterVal","Access Getter Value").switch(k,"lazyEvaluation","Lazy Evaluation").select(k,"maxLogNum","Max Log Number",["infinite","250","125","100","50","10"]).separator()}}])}(m),kn=["log","error","info","warn","dir","time","timeLog","timeEnd","clear","table","assert","count","countReset","debug","group","groupCollapsed","groupEnd"],Mn=e(9117),Ln=e.n(Mn),ar=e(9464),en=e.n(ar),sr=e(5902),Ct=e.n(sr),$n=e(4844),hn=e.n($n),cr=e(4983),lr=e.n(cr),Bn=e(15),xn=e.n(Bn);function Tn(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tn=function(){return!!A})()}var ur=function(A){function O(u,b){var k,F,V,X;return(0,r.A)(this,O),F=this,V=O,V=(0,a.A)(V),k=(0,i.A)(F,Tn()?Reflect.construct(V,[],(0,a.A)(F).constructor):V.apply(F,X)),(0,l.A)(k,"_copyRes",function(){var ce=k._detailData,Ee="".concat(ce.method," ").concat(ce.url," ").concat(ce.status,`
`);en()(ce.data)||(Ee+=`
Request Data

`,Ee+="".concat(ce.data,`
`)),en()(ce.reqHeaders)||(Ee+=`
Request Headers

`,x()(ce.reqHeaders,function(ze,gt){return Ee+="".concat(gt,": ").concat(ze,`
`)})),en()(ce.resHeaders)||(Ee+=`
Response Headers

`,x()(ce.resHeaders,function(ze,gt){return Ee+="".concat(gt,": ").concat(ze,`
`)})),ce.resTxt&&(Ee+=`
`.concat(ce.resTxt,`
`)),hn()(Ee),k._devtools.notify("Copied",{icon:"success"})}),k._$container=u,k._devtools=b,k._detailData={},k._bindEvent(),k}return(0,s.A)(O,A),(0,o.A)(O,[{key:"show",value:function(u){u.resTxt&&R()(u.resTxt)===""&&delete u.resTxt,en()(u.resHeaders)&&delete u.resHeaders,en()(u.reqHeaders)&&delete u.reqHeaders;var b="";u.data&&(b='<pre class="'.concat(I("data"),'">').concat(Ct()(u.data),"</pre>"));var k="<tr><td>Empty</td></tr>";u.reqHeaders&&(k=At()(u.reqHeaders,function(Ee,ze){return`<tr>
          <td class="`.concat(I("key"),'">').concat(Ct()(ze),`</td>
          <td>`).concat(Ct()(Ee),`</td>
        </tr>`)}).join(""));var F="<tr><td>Empty</td></tr>";u.resHeaders&&(F=At()(u.resHeaders,function(Ee,ze){return`<tr>
          <td class="`.concat(I("key"),'">').concat(Ct()(ze),`</td>
          <td>`).concat(Ct()(Ee),`</td>
        </tr>`)}).join(""));var V="";if(u.resTxt){var X=u.resTxt;X.length>Fn&&(X=xn()(X,Fn)),V='<pre class="'.concat(I("response"),'">').concat(Ct()(X),"</pre>")}var ce='<div class="'.concat(I("control"),`">
      <span class="`).concat(I("icon-arrow-left back"),`"></span>
      <span class="`).concat(I("icon-delete back"),`"></span>
      <span class="`).concat(I("url"),'">').concat(Ct()(u.url),`</span>
      <span class="`).concat(I("icon-copy copy-res"),`"></span>
    </div>
    <div class="`).concat(I("http"),`">
      `).concat(b,`
      <div class="`).concat(I("section"),`">
        <h2>Response Headers</h2>
        <table class="`).concat(I("headers"),`">
          <tbody>
            `).concat(F,`
          </tbody>
        </table>
      </div>
      <div class="`).concat(I("section"),`">
        <h2>Request Headers</h2>
        <table class="`).concat(I("headers"),`">
          <tbody>
            `).concat(k,`
          </tbody>
        </table>
      </div>
      `).concat(V,`
    </div>`);this._$container.html(ce).show(),this._detailData=u}},{key:"hide",value:function(){this._$container.hide(),this.emit("hide")}},{key:"_bindEvent",value:function(){var u=this,b=this._devtools;this._$container.on("click",I(".back"),function(){return u.hide()}).on("click",I(".copy-res"),this._copyRes).on("click",I(".http .response"),function(){var F=u._detailData,V=F.resTxt;if(lr()(V))return k("object",V);switch(F.subType){case"css":return k("css",V);case"html":return k("html",V);case"javascript":return k("js",V);case"json":return k("object",V)}return F.type==="image"?k("img",F.url):void 0});var k=function(F,V){var X=b.get("sources");X&&(X.set(F,V),b.showTool("sources"))}}}])}(d()),Fn=1e5,dr=e(5865),hr=e.n(dr),fr=e(6476),pr=e.n(fr),gr=e(5334),mr=e(2480),On=e(6192),vr=e(5689);function Un(A,O){var u=Object.keys(A);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);O&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(A,k).enumerable})),u.push.apply(u,b)}return u}function En(A){for(var O=1;O<arguments.length;O++){var u=arguments[O]!=null?arguments[O]:{};O%2?Un(Object(u),!0).forEach(function(b){(0,l.A)(A,b,u[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(u)):Un(Object(u)).forEach(function(b){Object.defineProperty(A,b,Object.getOwnPropertyDescriptor(u,b))})}return A}var yn=new(pr());yn.register("Network",gr),yn.register("Overlay",mr),yn.register("DOM",En(En({},On),{},{getNodeId:On.getDOMNodeId,getNode:On.getDOMNode})),yn.register("Storage",vr);var Mt=yn,In=e(2388),br=e(4095),yr=e.n(br),zn=e(3737),Nn=e.n(zn),_r=e(5004),Hn=e.n(_r),Gn=e(1849),wr=e.n(Gn);function qn(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qn=function(){return!!A})()}function We(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}var ct=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),u=(0,i.A)(b,qn()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)),(0,l.A)(u,"_reqWillBeSent",function(V){if(u._isRecording){var X,ce,Ee,ze={name:(X=V.request.url,ce=Yt()(X.split("/")),ce===""&&(ce=(X=new(kt())(X)).hostname),ce),url:V.request.url,status:"pending",type:"unknown",subType:"unknown",size:0,data:V.request.postData,method:V.request.method,startTime:1e3*V.timestamp,time:0,resTxt:"",done:!1,reqHeaders:V.request.headers||{},resHeaders:{}};ze.render=function(){var gt={name:ze.name,method:ze.method,status:ze.status,type:ze.subType,size:ze.size,time:ze.displayTime};Ee?(Ee.data=gt,Ee.render()):(Ee=u._requestDataGrid.append(gt,{selectable:!0}),h()(Ee.container).data("id",V.requestId)),ze.hasErr&&h()(Ee.container).addClass(I("request-error"))},ze.render(),u._requests[V.requestId]=ze}}),(0,l.A)(u,"_resReceivedExtraInfo",function(V){var X=u._requests[V.requestId];u._isRecording&&X&&(X.resHeaders=V.headers,u._updateType(X),X.render())}),(0,l.A)(u,"_resReceived",function(V){var X=u._requests[V.requestId];if(u._isRecording&&X){var ce=V.response,Ee=ce.status,ze=ce.headers;X.status=Ee,(Ee<200||Ee>=300)&&(X.hasErr=!0),ze&&(X.resHeaders=ze,u._updateType(X)),X.render()}}),(0,l.A)(u,"_loadingFinished",function(V){var X=u._requests[V.requestId];if(u._isRecording&&X){var ce=1e3*V.timestamp;X.time=ce-X.startTime,X.displayTime=Ln()(X.time),X.size=V.encodedDataLength,X.done=!0,X.resTxt=Mt.domain("Network").getResponseBody({requestId:V.requestId}).body,X.render()}}),(0,l.A)(u,"_loadingFailed",function(V){var X=u._requests[V.requestId];if(u._isRecording&&X){var ce=1e3*V.timestamp;X.time=ce-X.startTime,X.displayTime=Ln()(X.time),X.hasErr=!0,X.status=0,X.done=!0,X.render()}}),(0,l.A)(u,"_copyCurl",function(){var V=u._selectedRequest;hn()(function(X){var ce=Hn()();ce==="windows"&&(ce="win");var Ee=[],ze=wr()(["accept-encoding","host","method","path","scheme","version"]),gt=ce==="win"?function(Cn){var rr=/[\r\n]/.test(Cn)?'^"':'"';return rr+Cn.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[^a-zA-Z0-9\s_\-:=+~'/.',?;()*`&]/g,"^$&").replace(/%(?=[a-zA-Z0-9_])/g,"%^").replace(/\r?\n/g,`^

`)+rr}:function(Cn){return/[\0-\x1F\x7F-\x9F!]|'/.test(Cn)?"$'"+Cn.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\0-\x1F\x7F-\x9F!]/g,function(rr){for(var or=rr.charCodeAt(0).toString(16);or.length<4;)or="0"+or;return"\\u"+or})+"'":"'"+Cn+"'"};Ee.push(gt(X.url()).replace(/[[{}\]]/g,"\\$&"));var vt="GET",Tt=[],Ot=X.requestFormData();Ot&&(Tt.push("--data-raw "+gt(Ot)),ze["content-length"]=!0,vt="POST"),X.requestMethod!==vt&&Ee.push("-X "+gt(X.requestMethod));for(var Xt=X.requestHeaders(),un=0;un<Xt.length;un++){var Ur=Xt[un],zr=Ur.name.replace(/^:/,"");ze[zr.toLowerCase()]||Ee.push("-H "+gt(zr+": "+Ur.value))}return(Ee=Ee.concat(Tt)).push("--compressed"),"curl "+Ee.join(Ee.length>=3?ce==="win"?` ^
  `:` \\
  `:" ")}({requestMethod:V.method,url:function(){return V.url},requestFormData:function(){return V.data},requestHeaders:function(){var X=V.reqHeaders||{};return Z()(X,{"User-Agent":navigator.userAgent,Referer:location.href}),At()(X,function(ce,Ee){return{name:Ee,value:ce}})}})),u._container.notify("Copied",{icon:"success"})}),(0,l.A)(u,"_toggleRecording",function(){u._$control.find(I(".record")).toggleClass(I("recording")),u._isRecording=!u._isRecording}),(0,l.A)(u,"_showDetail",function(){u._selectedRequest&&(u._splitMode&&u._$network.css("width","50%"),u._detail.show(u._selectedRequest))}),(0,l.A)(u,"_updateScale",function(V){u._splitMediaQuery.setQuery("screen and (min-width: ".concat(680*V,"px)"))}),u._style=he(e(8239)),u.name="network",u._requests={},u._selectedRequest=null,u._isRecording=!0,u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u,b){We(O,"init",this)([u]),this._container=b,this._initTpl(),this._detail=new ur(this._$detail,b),this._splitMediaQuery=new(Nn())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._requestDataGrid=new In.A(this._$requests.get(0),{columns:[{id:"name",title:"Name",sortable:!0,weight:30},{id:"method",title:"Method",sortable:!0,weight:14},{id:"status",title:"Status",sortable:!0,weight:14},{id:"type",title:"Type",sortable:!0,weight:14},{id:"size",title:"Size",sortable:!0,weight:14},{id:"time",title:"Time",sortable:!0,weight:14}]}),this._resizeSensor=new(yr())(u.get(0)),this._bindEvent()}},{key:"show",value:function(){We(O,"show",this)([]),this._updateDataGridHeight()}},{key:"clear",value:function(){this._requests={},this._requestDataGrid.clear()}},{key:"requests",value:function(){var u=[];return x()(this._requests,function(b){u.push(b)}),u}},{key:"_updateDataGridHeight",value:function(){this._requestDataGrid.fit()}},{key:"_updateType",value:function(u){var b=function(V){if(!V)return"unknown";var X=V.split(";")[0].split("/");return{type:X[0],subType:Yt()(X)}}(u.resHeaders["content-type"]||""),k=b.type,F=b.subType;u.type=k,u.subType=F}},{key:"_updateButtons",value:function(){var u=this._$control,b=u.find(I(".show-detail")),k=u.find(I(".copy-curl")),F=I("icon-disabled");b.addClass(F),k.addClass(F),this._selectedRequest&&(b.rmClass(F),k.rmClass(F))}},{key:"_bindEvent",value:function(){var u=this,b=this._$control,k=this._$filterText,F=this._requestDataGrid,V=this;b.on("click",I(".clear-request"),function(){return u.clear()}).on("click",I(".show-detail"),this._showDetail).on("click",I(".copy-curl"),this._copyCurl).on("click",I(".record"),this._toggleRecording).on("click",I(".filter"),function(){Ge.A.prompt("Filter").then(function(ce){Vt()(ce)||(k.text(ce),F.setOption("filter",R()(ce)))})}),F.on("select",function(ce){var Ee=h()(ce.container).data("id"),ze=V._requests[Ee];u._selectedRequest=ze,u._updateButtons(),u._splitMode&&u._showDetail()}),F.on("deselect",function(){u._selectedRequest=null,u._updateButtons(),u._detail.hide()}),this._resizeSensor.addListener(hr()(function(){return u._updateDataGridHeight()},15)),this._splitMediaQuery.on("match",function(){u._detail.hide(),u._splitMode=!0}),this._splitMediaQuery.on("unmatch",function(){u._detail.hide(),u._splitMode=!1}),this._detail.on("hide",function(){u._splitMode&&u._$network.css("width","100%")}),Mt.domain("Network").enable();var X=Mt.domain("Network");X.on("requestWillBeSent",this._reqWillBeSent),X.on("responseReceivedExtraInfo",this._resReceivedExtraInfo),X.on("responseReceived",this._resReceived),X.on("loadingFinished",this._loadingFinished),X.on("loadingFailed",this._loadingFailed),p.on(p.SCALE,this._updateScale)}},{key:"destroy",value:function(){We(O,"destroy",this)([]),this._resizeSensor.destroy(),he.remove(this._style),this._splitMediaQuery.removeAllListeners();var u=Mt.domain("Network");u.off("requestWillBeSent",this._reqWillBeSent),u.off("responseReceivedExtraInfo",this._resReceivedExtraInfo),u.off("responseReceived",this._resReceived),u.off("loadingFinished",this._loadingFinished),p.off(p.SCALE,this._updateScale)}},{key:"_initTpl",value:function(){var u=this._$el;u.html(I(`<div class="network">
        <div class="control">
          <span class="icon-record record recording"></span>
          <span class="icon-clear clear-request"></span>
          <span class="icon-eye icon-disabled show-detail"></span>
          <span class="icon-copy icon-disabled copy-curl"></span>
          <span class="filter-text"></span>
          <span class="icon-filter filter"></span>
        </div>
        <div class="requests"></div>
      </div>
      <div class="detail"></div>`)),this._$network=u.find(I(".network")),this._$detail=u.find(I(".detail")),this._$requests=u.find(I(".requests")),this._$control=u.find(I(".control")),this._$filterText=u.find(I(".filter-text"))}}])}(m),C=e(2708),T=e.n(C),L=e(1167),ue=e.n(L),De=e(7181),xe=e.n(De),$e=e(5784),et=e(96),Fe=e.n(et),ut=e(896),wt=e.n(ut),$t=e(438),Bt=e.n($t),Et=e(6493),Ft=e.n(Et),an=e(6186),Wt=e.n(an),on=e(5241),tn=e.n(on),sn=e(2208),fn=e.n(sn),pn=e(5145),nn=e.n(pn);function cn(A){for(var O={},u=0,b=A.length;u<b;u++){var k=A[u];A[k]!=="initial"&&(O[k]=A[k])}return function(F){return nn()(F,{comparator:function(V,X){for(var ce=V.length,Ee=X.length,ze=ce>Ee?Ee:ce,gt=0;gt<ze;gt++){var vt=wn(V.charCodeAt(gt),X.charCodeAt(gt));if(vt!==0)return vt}return ce>Ee?1:ce<Ee?-1:0}})}(O)}var gn=Element.prototype,_n=function(){return!1};gn.webkitMatchesSelector?_n=function(A,O){return A.webkitMatchesSelector(O)}:gn.mozMatchesSelector&&(_n=function(A,O){return A.mozMatchesSelector(O)});var Sn=function(){return(0,o.A)(function A(O){(0,r.A)(this,A),this._el=O},[{key:"getComputedStyle",value:function(){return cn(window.getComputedStyle(this._el))}},{key:"getMatchedCSSRules",value:function(){var A=this,O=[];return x()(document.styleSheets,function(u){try{if(!u.cssRules)return}catch{return}x()(u.cssRules,function(b){var k=!1;try{k=A._elMatchesSel(b.selectorText)}catch{}k&&O.push({selectorText:b.selectorText,style:cn(b.style)})})}),O}},{key:"_elMatchesSel",value:function(A){return _n(this._el,A)}}])}();function wn(A,O){return(A=An(A))>(O=An(O))?1:A<O?-1:0}function An(A){return A===45?123:A}var Rn=e(128);function mn(A){var O=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).noAttr,u=O!==void 0&&O;if(A.nodeType===Node.TEXT_NODE)return'<span class="'.concat(I("tag-name-color"),'">(text)</span>');if(A.nodeType===Node.COMMENT_NODE)return'<span class="'.concat(I("tag-name-color"),'"><!--></span>');if(xe()(A))return'<span class="'.concat(I("tag-name-color"),'">#shadow-root</span>');var b=A.id,k=A.className,F=A.attributes,V='<span class="eruda-tag-name-color">'.concat(A.tagName.toLowerCase(),"</span>");if(b!==""&&(V+='<span class="eruda-function-color">#'.concat(b,"</span>")),de()(k)){var X="";x()(k.split(/\s+/g),function(ce){ce.trim()!==""&&(X+=".".concat(ce))}),V+='<span class="eruda-attribute-name-color">'.concat(X,"</span>")}return u||x()(F,function(ce){var Ee=ce.name;Ee!=="id"&&Ee!=="class"&&Ee!=="style"&&(V+=' <span class="eruda-attribute-name-color">'.concat(Ee,'</span><span class="eruda-operator-color">="</span><span class="eruda-string-color">').concat(ce.value,'</span><span class="eruda-operator-color">"</span>'))}),V}var jn=function(){return(0,o.A)(function A(O,u){var b=this;(0,r.A)(this,A),(0,l.A)(this,"hide",function(){b._$container.hide(),b._disableObserver(),Mt.domain("Overlay").hideHighlight()}),(0,l.A)(this,"_highlight",function(k){var F=b._curEl,V={showInfo:!1};k&&k!=="all"?k==="margin"?V.marginColor="rgba(246, 178, 107, .66)":k==="border"?V.borderColor="rgba(255, 229, 153, .66)":k==="padding"?V.paddingColor="rgba(147, 196, 125, .55)":k==="content"&&(V.contentColor="rgba(111, 168, 220, .66)"):Z()(V,{showInfo:!0,contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"});var X=Mt.domain("DOM").getNodeId({node:F}).nodeId;Mt.domain("Overlay").highlightNode({nodeId:X,highlightConfig:V})}),this._$container=O,this._devtools=u,this._curEl=document.documentElement,this._initObserver(),this._initCfg(),this._initTpl(),this._bindEvent()},[{key:"show",value:function(A){this._curEl=A,this._rmDefComputedStyle=!0,this._computedStyleSearchKeyword="",this._enableObserver(),this._render(),this._highlight()}},{key:"destroy",value:function(){this._disableObserver(),this.restoreEventTarget(),this._rmCfg()}},{key:"overrideEventTarget",value:function(){var A=Er(),O=this._origAddEvent=A.addEventListener,u=this._origRmEvent=A.removeEventListener;A.addEventListener=function(b,k,F){(function(V,X,ce){var Ee=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(!T()(V)||!xt()(ce)||!Ft()(Ee))){var ze=V.erudaEvents=V.erudaEvents||{};ze[X]=ze[X]||[],ze[X].push({listener:ce,listenerStr:ce.toString(),useCapture:Ee})}})(this,b,k,F),O.apply(this,arguments)},A.removeEventListener=function(b,k,F){(function(V,X,ce){var Ee=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(!T()(V)||!xt()(ce)||!Ft()(Ee))){var ze=V.erudaEvents;if(!(!ze||!ze[X])){for(var gt=ze[X],vt=0,Tt=gt.length;vt<Tt;vt++)if(gt[vt].listener===ce){gt.splice(vt,1);break}gt.length===0&&delete ze[X],E()(ze).length===0&&delete V.erudaEvents}}})(this,b,k,F),u.apply(this,arguments)}}},{key:"restoreEventTarget",value:function(){var A=Er();this._origAddEvent&&(A.addEventListener=this._origAddEvent),this._origRmEvent&&(A.removeEventListener=this._origRmEvent)}},{key:"_initTpl",value:function(){var A=this._$container,O='<div class="'.concat(I("control"),`">
      <span class="`).concat(I("icon-arrow-left back"),`"></span>
      <span class="`).concat(I("element-name"),`"></span>
      <span class="`).concat(I("icon-refresh refresh"),`"></span>
    </div>
    <div class="`).concat(I("element"),`">
      <div class="`).concat(I("attributes section"),`"></div>
      <div class="`).concat(I("styles section"),`"></div>
      <div class="`).concat(I("computed-style section"),`"></div>
      <div class="`).concat(I("listeners section"),`"></div>
    </div>`);A.html(O),this._$elementName=A.find(I(".element-name")),this._$attributes=A.find(I(".attributes")),this._$styles=A.find(I(".styles")),this._$listeners=A.find(I(".listeners")),this._$computedStyle=A.find(I(".computed-style"));var u=tn()("div");this._$boxModel=h()(u),this._boxModel=new Rn.A(u)}},{key:"_toggleAllComputedStyle",value:function(){this._rmDefComputedStyle=!this._rmDefComputedStyle,this._render()}},{key:"_render",value:function(){var A=this._getData(this._curEl),O=this._$attributes,u=this._$elementName,b=this._$styles,k=this._$computedStyle,F=this._$listeners;u.html(A.name);var V="<tr><td>Empty</td></tr>";en()(A.attributes)||(V=At()(A.attributes,function(vt){var Tt=vt.name,Ot=vt.value;return`<tr>
          <td class="`.concat(I("attribute-name-color"),'">').concat(Ct()(Tt),`</td>
          <td class="`).concat(I("string-color"),'">').concat(Ot,`</td>
        </tr>`)}).join("")),V=`<h2>Attributes</h2>
    <div class="`.concat(I("table-wrapper"),`">
      <table>
        <tbody>
          `).concat(V,` 
        </tbody>
      </table>
    </div>`),O.html(V);var X="";if(en()(A.styles))b.hide();else{var ce=At()(A.styles,function(vt){var Tt=vt.selectorText,Ot=vt.style;return Ot=At()(Ot,function(Xt,un){return'<div class="'.concat(I("rule"),'"><span>').concat(Ct()(un),"</span>: ").concat(Xt,";</div>")}).join(""),'<div class="'.concat(I("style-rules"),`">
          <div>`).concat(Ct()(Tt),` {</div>
            `).concat(Ot,`
          <div>}</div>
        </div>`)}).join("");X=`<h2>Styles</h2>
      <div class="`.concat(I("style-wrapper"),`">
        `).concat(ce,`
      </div>`),b.html(X).show()}var Ee="";if(A.computedStyle){var ze=I(`<div class="btn toggle-all-computed-style">
        <span class="icon-expand"></span>
      </div>`);A.rmDefComputedStyle&&(ze=I(`<div class="btn toggle-all-computed-style">
          <span class="icon-compress"></span>
        </div>`)),Ee=`<h2>
        Computed Style
        `.concat(ze,`
        <div class="`).concat(I("btn computed-style-search"),`">
          <span class="`).concat(I("icon-filter"),`"></span>
        </div>
        `).concat(A.computedStyleSearchKeyword?'<div class="'.concat(I("btn filter-text"),'">').concat(Ct()(A.computedStyleSearchKeyword),"</div>"):"",`
      </h2>
      <div class="`).concat(I("box-model"),`"></div>
      <div class="`).concat(I("table-wrapper"),`">
        <table>
          <tbody>
          `).concat(At()(A.computedStyle,function(vt,Tt){return`<tr>
              <td class="`.concat(I("key"),'">').concat(Ct()(Tt),`</td>
              <td>`).concat(vt,`</td>
            </tr>`)}).join(""),`
          </tbody>
        </table>
      </div>`),k.html(Ee).show(),this._boxModel.setOption("element",this._curEl),k.find(I(".box-model")).append(this._$boxModel.get(0))}else k.text("").hide();var gt="";A.listeners?(gt=At()(A.listeners,function(vt,Tt){return vt=At()(vt,function(Ot){var Xt=Ot.useCapture,un=Ot.listenerStr;return"<li ".concat(Xt?'class="'.concat(I("capture"),'"'):"",">").concat(Ct()(un),"</li>")}).join(""),'<div class="'.concat(I("listener"),`">
          <div class="`).concat(I("listener-type"),'">').concat(Ct()(Tt),`</div>
          <ul class="`).concat(I("listener-content"),`">
            `).concat(vt,`
          </ul>
        </div>`)}).join(""),gt=`<h2>Event Listeners</h2>
      <div class="`.concat(I("listener-wrapper"),`">
        `).concat(gt,` 
      </div>`),F.html(gt).show()):F.hide(),this._$container.show()}},{key:"_getData",value:function(A){var O={},u=new Sn(A),b=A.className,k=A.id,F=A.attributes,V=A.tagName;O.computedStyleSearchKeyword=this._computedStyleSearchKeyword,O.attributes=Pn(F),O.name=mn({tagName:V,id:k,className:b,attributes:F});var X=A.erudaEvents;if(X&&E()(X).length!==0&&(O.listeners=X),Kn(V))return O;var ce=u.getComputedStyle(),Ee=u.getMatchedCSSRules();Ee.unshift(function(gt){for(var vt={selectorText:"element.style",style:{}},Tt=0,Ot=gt.length;Tt<Ot;Tt++){var Xt=gt[Tt];vt.style[Xt]=gt[Xt]}return vt}(A.style)),Ee.forEach(function(gt){return Wn(gt.style)}),O.styles=Ee,this._rmDefComputedStyle&&(ce=function(gt,vt){var Tt={},Ot=["display","width","height"];return x()(vt,function(Xt){Ot=Ot.concat(E()(Xt.style))}),Ot=Bt()(Ot),x()(gt,function(Xt,un){Y()(Ot,un)&&(Tt[un]=Xt)}),Tt}(ce,Ee)),O.rmDefComputedStyle=this._rmDefComputedStyle;var ze=Fe()(O.computedStyleSearchKeyword);return ze&&(ce=wt()(ce,function(gt,vt){return Y()(vt,ze)||Y()(gt,ze)})),Wn(ce),O.computedStyle=ce,O}},{key:"_bindEvent",value:function(){var A=this,O=this._devtools;this._$container.on("click",I(".toggle-all-computed-style"),function(){return A._toggleAllComputedStyle()}).on("click",I(".computed-style-search"),function(){Ge.A.prompt("Filter").then(function(u){Vt()(u)||(u=R()(u),A._computedStyleSearchKeyword=u,A._render())})}).on("click",".eruda-listener-content",function(){var u=h()(this).text(),b=O.get("sources");b&&(b.set("js",u),O.showTool("sources"))}).on("click",I(".element-name"),function(){var u=O.get("sources");u&&(u.set("object",A._curEl),O.showTool("sources"))}).on("click",I(".back"),this.hide).on("click",I(".refresh"),function(){A._render(),O.notify("Refreshed",{icon:"success"})}),this._boxModel.on("highlight",this._highlight)}},{key:"_initObserver",value:function(){var A=this;this._observer=new(fn())(function(O){x()(O,function(u){return A._handleMutation(u)})})}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}},{key:"_handleMutation",value:function(A){if(!Ne(A.target)&&A.type==="attributes"){if(A.target!==this._curEl)return;this._render()}}},{key:"_rmCfg",value:function(){var A=this.config,O=this._devtools.get("settings");O&&O.remove(A,"overrideEventTarget").remove(A,"observeElement").remove("Elements")}},{key:"_initCfg",value:function(){var A=this,O=this.config=le.createCfg("elements",{overrideEventTarget:!0});O.get("overrideEventTarget")&&this.overrideEventTarget(),O.on("change",function(b,k){if(b==="overrideEventTarget")return k?A.overrideEventTarget():A.restoreEventTarget()});var u=this._devtools.get("settings");u&&(u.text("Elements").switch(O,"overrideEventTarget","Catch Event Listeners"),u.separator())}}])}();function Wn(A){x()(A,function(O,u){return A[u]=Ut(O)})}var Pn=function(A){return At()(A,function(O){var u=O.value,b=O.name;return u=Ct()(u),(b==="src"||b==="href")&&!at()(u,"data")&&(u=Jn(u)),b==="style"&&(u=Ut(u)),{name:b,value:u}})},Yn=/rgba?\((.*?)\)/g,Dn=/url\("?(.*?)"?\)/g;function Ut(A){return(A=j()(A)).replace(Yn,'<span class="eruda-style-color" style="background-color: $&"></span>$&').replace(Dn,function(O,u){return'url("'.concat(Jn(u),'")')})}var Vn=["script","style","meta","title","link","head"],Kn=function(A){Vn.indexOf(A.toLowerCase())},Jn=function(A){return'<a href="'.concat(A,'" target="_blank">').concat(A,"</a>")},Er=function(){return Wt()(window,"EventTarget.prototype")||window.Node.prototype};function Sr(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sr=function(){return!!A})()}function Qn(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}var Gr=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),u=(0,i.A)(b,Sr()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)),(0,l.A)(u,"_showDetail",function(){u._isShow&&u._curNode&&(u._curNode.nodeType===Node.ELEMENT_NODE?u._detail.show(u._curNode):u._detail.show(u._curNode.parentNode||u._curNode.host))}),(0,l.A)(u,"_back",function(){if(u._curNode!==u._htmlEl){for(var V=u._curParentQueue,X=V.shift();!Cr(X);)X=V.shift();u.set(X)}}),(0,l.A)(u,"_updateScale",function(V){u._splitMediaQuery.setQuery("screen and (min-width: ".concat(680*V,"px)"))}),(0,l.A)(u,"_deleteNode",function(){var V=u._curNode;V.parentNode&&V.parentNode.removeChild(V)}),(0,l.A)(u,"_copyNode",function(){var V=u._curNode;V.nodeType===Node.ELEMENT_NODE?hn()(V.outerHTML):hn()(V.nodeValue),u._container.notify("Copied",{icon:"success"})}),(0,l.A)(u,"_toggleSelect",function(){u._$el.find(I(".select")).toggleClass(I("active")),u._selectElement=!u._selectElement,u._selectElement?(Mt.domain("Overlay").setInspectMode({mode:"searchForNode",highlightConfig:{showInfo:!ue()(),showRulers:!1,showAccessibilityInfo:!ue()(),showExtensionLines:!1,contrastAlgorithm:"aa",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}}),u._container.hide()):(Mt.domain("Overlay").setInspectMode({mode:"none"}),Mt.domain("Overlay").hideHighlight())}),(0,l.A)(u,"_inspectNodeRequested",function(V){var X=V.backendNodeId;u._container.show(),u._toggleSelect();try{var ce=Mt.domain("DOM").getNode({nodeId:X}).node;u.select(ce)}catch{}}),(0,l.A)(u,"_setNode",function(V){if(V!==u._curNode){u._curNode=V,u._renderCrumbs();for(var X=[],ce=V.parentNode;ce;)X.push(ce),ce=ce.parentNode;u._curParentQueue=X,u._splitMode&&u._showDetail(),u._updateButtons(),u._updateHistory()}}),u._style=he(e(9111)),u.name="elements",u._selectElement=!1,u._observeElement=!0,u._history=[],d().mixin(u),u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u,b){var k=this;Qn(O,"init",this)([u]),this._container=b,this._initTpl(),this._htmlEl=document.documentElement,this._detail=new jn(this._$detail,b),this.config=this._detail.config,this._splitMediaQuery=new(Nn())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._domViewer=new $e.A(this._$domViewer.get(0),{node:this._htmlEl,ignore:function(F){return Ne(F)||function(V){for(;V;){var X="";if(V.getAttribute&&(X=V.getAttribute("class")||""),Y()(X,"__chobitsu-hide__"))return!0;V=V.parentNode}return!1}(F)}}),this._domViewer.expand(),this._bindEvent(),Mt.domain("Overlay").enable(),Be()(function(){return k._updateHistory()})}},{key:"show",value:function(){Qn(O,"show",this)([]),this._isShow=!0,this._curNode?this._splitMode&&this._showDetail():this.select(document.body)}},{key:"hide",value:function(){Qn(O,"hide",this)([]),this._isShow=!1,Mt.domain("Overlay").hideHighlight()}},{key:"select",value:function(u){return this._domViewer.select(u),this._setNode(u),this.emit("change",u),this}},{key:"destroy",value:function(){Qn(O,"destroy",this)([]),p.off(p.SCALE,this._updateScale),he.remove(this._style),this._detail.destroy(),Mt.domain("Overlay").off("inspectNodeRequested",this._inspectNodeRequested),Mt.domain("Overlay").disable(),this._splitMediaQuery.removeAllListeners()}},{key:"_updateButtons",value:function(){var u=this._$control,b=u.find(I(".show-detail")),k=u.find(I(".copy-node")),F=u.find(I(".delete-node")),V=I("icon-disabled");b.addClass(V),k.addClass(V),F.addClass(V);var X=this._curNode;X&&!xe()(X)&&(X!==document.documentElement&&X!==document.body&&F.rmClass(V),k.rmClass(V),X.nodeType===Node.ELEMENT_NODE&&b.rmClass(V))}},{key:"_initTpl",value:function(){var u=this._$el;u.html(I(`<div class="elements">
        <div class="control">
          <span class="icon icon-select select"></span>
          <span class="icon icon-eye show-detail"></span>
          <span class="icon icon-copy copy-node"></span>
          <span class="icon icon-delete delete-node"></span>
        </div>
        <div class="dom-viewer-container">
          <div class="dom-viewer"></div>
        </div>
        <div class="crumbs"></div>
      </div>
      <div class="detail"></div>`)),this._$detail=u.find(I(".detail")),this._$domViewer=u.find(I(".dom-viewer")),this._$control=u.find(I(".control")),this._$crumbs=u.find(I(".crumbs"))}},{key:"_renderCrumbs",value:function(){var u=function(k){for(var F=[],V=0;k;)F.push({text:mn(k,{noAttr:!0}),idx:V++}),xe()(k)&&(k=k.host),k=!k.parentElement&&xe()(k.parentNode)?k.parentNode:k.parentElement;return F.reverse()}(this._curNode),b="";en()(u)||(b=At()(u,function(k){var F=k.text,V=k.idx;return'<li class="'.concat(I("crumb"),'" data-idx="').concat(V,'">').concat(F,"</div></li>")}).join("")),this._$crumbs.html(b)}},{key:"_bindEvent",value:function(){var u=this,b=this;this._$el.on("click",I(".crumb"),function(){for(var k=Re()(h()(this).data("idx")),F=b._curNode;k--&&F.parentElement;)F=F.parentElement;Cr(F)&&b.select(F)}),this._$control.on("click",I(".select"),this._toggleSelect).on("click",I(".show-detail"),this._showDetail).on("click",I(".copy-node"),this._copyNode).on("click",I(".delete-node"),this._deleteNode),this._domViewer.on("select",this._setNode).on("deselect",this._back),Mt.domain("Overlay").on("inspectNodeRequested",this._inspectNodeRequested),this._splitMediaQuery.on("match",function(){u._splitMode=!0,u._showDetail()}),this._splitMediaQuery.on("unmatch",function(){u._splitMode=!1,u._detail.hide()}),p.on(p.SCALE,this._updateScale)}},{key:"_updateHistory",value:function(){var u=this._container.get("console");if(u){var b=this._history;b.unshift(this._curNode),b.length>5&&b.pop();for(var k=0;k<5;k++)u.setGlobal("$".concat(k),b[k])}}}])}(m),Cr=function(A){return T()(A)&&A.parentNode},qr=e(3981),Wr=e.n(qr),Yr=e(4866),Vr=e.n(Yr),Xn=null,Kr=[{name:"Border All",fn:function(){if(Xn)return he.remove(Xn),void(Xn=null);Xn=he("* { outline: 2px dashed #707d8b; outline-offset: -3px; }",document.head)},desc:"Add color borders to all elements"},{name:"Refresh Page",fn:function(){var A=new(kt());A.setQuery("timestamp",Wr()()),window.location.replace(A.toString())},desc:"Add timestamp to url and refresh"},{name:"Search Text",fn:function(){Ge.A.prompt("Enter the text").then(function(A){var O,u,b;A&&R()(A)!==""&&(O=A,u=document.body,b=new RegExp(O,"ig"),Ar(u,function(k){var F=h()(k);if(F.hasClass("eruda-search-highlight-block"))return document.createTextNode(F.text())}),Ar(u,function(k){if(k.nodeType===3){var F=k.nodeValue;if((F=F.replace(b,function(X){return'<span class="eruda-keyword">'.concat(X,"</span>")}))!==k.nodeValue){var V=h()(document.createElement("div"));return V.html(F),V.addClass("eruda-search-highlight-block"),V.get(0)}}}))})},desc:"Highlight given text on page"},{name:"Edit Page",fn:function(){var A=document.body;A.contentEditable=A.contentEditable!=="true"},desc:"Toggle body contentEditable"},{name:"Fit Screen",fn:function(){var A=document.body,O=document.documentElement,u=h()(A);if(u.data("scaled"))window.scrollTo(0,+u.data("scaled")),u.rmAttr("data-scaled"),u.css("transform","none");else{var b=Math.max(A.scrollHeight,A.offsetHeight,O.clientHeight,O.scrollHeight,O.offsetHeight),k=Math.max(document.documentElement.clientHeight,window.innerHeight||0),F=k/b;u.css("transform","scale(".concat(F,")")),u.data("scaled",window.scrollY),window.scrollTo(0,b/2-k/2)}},desc:"Scale down the whole page to fit screen"},{name:"Load Vue Plugin",fn:function(){vn("vue")},desc:"Vue devtools"},{name:"Load Monitor Plugin",fn:function(){vn("monitor")},desc:"Display page fps, memory and dom nodes"},{name:"Load Features Plugin",fn:function(){vn("features")},desc:"Browser feature detections"},{name:"Load Timing Plugin",fn:function(){vn("timing")},desc:"Show performance and resource timing"},{name:"Load Code Plugin",fn:function(){vn("code")},desc:"Edit and run JavaScript"},{name:"Load Benchmark Plugin",fn:function(){vn("benchmark")},desc:"Run JavaScript benchmarks"},{name:"Load Geolocation Plugin",fn:function(){vn("geolocation")},desc:"Test geolocation"},{name:"Load Orientation Plugin",fn:function(){vn("orientation")},desc:"Test orientation api"},{name:"Load Touches Plugin",fn:function(){vn("touches")},desc:"Visualize screen touches"}];function Ar(A,O){var u=A.childNodes;if(!Ne(A)){for(var b=0,k=u.length;b<k;b++){var F=Ar(u[b],O);F&&A.replaceChild(F,u[b])}return O(A)}}function vn(A){var O="eruda"+me()(A);if(!window[O]){var u=location.protocol;at()(u,"http")||(u="http:"),Vr()("".concat(u,"//cdn.jsdelivr.net/npm/eruda-").concat(A,"@").concat(Jr[A]),function(b){if(!b||!window[O])return Oe.error("Fail to load plugin "+A);p.emit(p.ADD,window[O]),p.emit(p.SHOW,A)})}}he(e(688),document.head);var Jr={monitor:"1.1.1",features:"2.1.0",timing:"2.0.1",code:"2.2.0",benchmark:"2.0.1",geolocation:"2.1.0",orientation:"2.1.1",touches:"2.1.0",vue:"1.1.1"},Qr=e(961),Xr=e.n(Qr);function Tr(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tr=function(){return!!A})()}function Or(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}var Zr=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),(u=(0,i.A)(b,Tr()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)))._style=he(e(9861)),u.name="snippets",u._snippets=[],u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u){Or(O,"init",this)([u]),this._bindEvent(),this._addDefSnippets()}},{key:"destroy",value:function(){Or(O,"destroy",this)([]),he.remove(this._style)}},{key:"add",value:function(u,b,k){return this._snippets.push({name:u,fn:b,desc:k}),this._render(),this}},{key:"remove",value:function(u){return Xr()(this._snippets,function(b){return b.name===u}),this._render(),this}},{key:"run",value:function(u){for(var b=this._snippets,k=0,F=b.length;k<F;k++)b[k].name===u&&this._run(k);return this}},{key:"clear",value:function(){return this._snippets=[],this._render(),this}},{key:"_bindEvent",value:function(){var u=this;this._$el.on("click",".eruda-run",function(){var b=h()(this).data("idx");u._run(b)})}},{key:"_run",value:function(u){this._snippets[u].fn.call(null)}},{key:"_addDefSnippets",value:function(){var u=this;x()(Kr,function(b){u.add(b.name,b.fn,b.desc)})}},{key:"_render",value:function(){var u=At()(this._snippets,function(b,k){return'<div class="'.concat(I("section run"),'" data-idx="').concat(k,`">
        <h2 class="`).concat(I("name"),'">').concat(Ct()(b.name),`
          <div class="`).concat(I("btn"),`">
            <span class="`).concat(I("icon-play"),`"></span>
          </div>
        </h2>
        <div class="`).concat(I("description"),`">
          `).concat(Ct()(b.desc),`
        </div>
      </div>`)}).join("");this._renderHtml(u)}},{key:"_renderHtml",value:function(u){u!==this._lastHtml&&(this._lastHtml=u,this._$el.html(u))}}])}(m),eo=e(4497),to=e.n(eo),no=e(311),Ir=e.n(no),ro=e(769),kr=e.n(ro),oo=e(4069),io=e.n(oo),Nr=function(){return(0,o.A)(function A(O,u,b,k){var F=this;(0,r.A)(this,A),(0,l.A)(this,"_updateGridHeight",function(V){F._dataGrid.setOption({minHeight:60*V,maxHeight:223*V})}),this._type=k,this._$container=O,this._devtools=u,this._resources=b,this._selectedItem=null,this._storeData=[],this._initTpl(),this._dataGrid=new In.A(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()},[{key:"destroy",value:function(){p.off(p.SCALE,this._updateGridHeight)}},{key:"refresh",value:function(){var A=this._dataGrid;this._refreshStorage(),A.clear(),x()(this._storeData,function(O){var u=O.key,b=O.val;A.append({key:u,value:b},{selectable:!0})})}},{key:"_refreshStorage",value:function(){var A=this._resources,O=Se(this._type,!1);if(O){var u=[];O=JSON.parse(JSON.stringify(O)),x()(O,function(b,k){de()(b)&&(A.config.get("hideErudaSetting")&&(at()(k,"eruda")||k==="active-eruda")||u.push({key:k,val:xn()(b,200)}))}),this._storeData=u}}},{key:"_updateButtons",value:function(){var A=this._$container,O=A.find(I(".show-detail")),u=A.find(I(".delete-storage")),b=A.find(I(".copy-storage")),k=I("btn-disabled");O.addClass(k),u.addClass(k),b.addClass(k),this._selectedItem&&(O.rmClass(k),u.rmClass(k),b.rmClass(k))}},{key:"_initTpl",value:function(){var A=this._$container,O=this._type;A.html(I(`<h2 class="title">
      `.concat(O==="local"?"Local":"Session",` Storage
      <div class="btn refresh-storage">
        <span class="icon icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-storage btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-storage btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-storage">
        <span class="icon icon-clear"></span>
      </div>
      <div class="btn filter">
        <span class="icon icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`))),this._$dataGrid=A.find(I(".data-grid")),this._$filterText=A.find(I(".filter-text"))}},{key:"_getVal",value:function(A){return this._type==="local"?localStorage.getItem(A):sessionStorage.getItem(A)}},{key:"_bindEvent",value:function(){var A=this,O=this._type,u=this._devtools;function b(k,F){var V=u.get("sources");if(V)return V.set(k,F),u.showTool("sources"),!0}this._$container.on("click",I(".refresh-storage"),function(){u.notify("Refreshed",{icon:"success"}),A.refresh()}).on("click",I(".clear-storage"),function(){x()(A._storeData,function(k){O==="local"?localStorage.removeItem(k.key):sessionStorage.removeItem(k.key)}),A.refresh()}).on("click",I(".show-detail"),function(){var k=A._selectedItem,F=A._getVal(k);try{b("object",JSON.parse(F))}catch{b("raw",F)}}).on("click",I(".copy-storage"),function(){var k=A._selectedItem;hn()(A._getVal(k)),u.notify("Copied",{icon:"success"})}).on("click",I(".filter"),function(){Ge.A.prompt("Filter").then(function(k){Vt()(k)||(k=R()(k),A._$filterText.text(k),A._dataGrid.setOption("filter",k))})}).on("click",I(".delete-storage"),function(){var k=A._selectedItem;O==="local"?localStorage.removeItem(k):sessionStorage.removeItem(k),A.refresh()}),this._dataGrid.on("select",function(k){A._selectedItem=k.data.key,A._updateButtons()}).on("deselect",function(){A._selectedItem=null,A._updateButtons()}),p.on(p.SCALE,this._updateGridHeight)}}])}();function Zn(A,O){A.rmClass(I("ok")).rmClass(I("danger")).rmClass(I("warn")).addClass(I(O))}function er(A,O){if(O===0)return"";var u=0,b=0;switch(A){case"cookie":u=30,b=60;break;case"script":u=5,b=10;break;case"stylesheet":u=4,b=8;break;case"image":u=50,b=100}return O>=b?"danger":O>=u?"warn":"ok"}var ao=function(){return(0,o.A)(function A(O,u){(0,r.A)(this,A),this._$container=O,this._devtools=u,this._selectedItem=null,this._initTpl(),this._dataGrid=new In.A(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()},[{key:"refresh",value:function(){var A=this._$container,O=this._dataGrid,u=Mt.domain("Network").getCookies().cookies,b=At()(u,function(k){return{key:k.name,val:k.value}});O.clear(),x()(b,function(k){var F=k.key,V=k.val;O.append({key:F,value:V},{selectable:!0})}),Zn(A,er("cookie",b.length))}},{key:"_initTpl",value:function(){var A=this._$container;A.html(I(`<h2 class="title">
      Cookie
      <div class="btn refresh-cookie">
        <span class="icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-cookie btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-cookie btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-cookie">
        <span class="icon-clear"></span>
      </div>
      <div class="btn filter" data-type="cookie">
        <span class="icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`)),this._$dataGrid=A.find(I(".data-grid")),this._$filterText=A.find(I(".filter-text"))}},{key:"_updateButtons",value:function(){var A=this._$container,O=A.find(I(".show-detail")),u=A.find(I(".delete-cookie")),b=A.find(I(".copy-cookie")),k=I("btn-disabled");O.addClass(k),u.addClass(k),b.addClass(k),this._selectedItem&&(O.rmClass(k),u.rmClass(k),b.rmClass(k))}},{key:"_getVal",value:function(A){for(var O=Mt.domain("Network").getCookies().cookies,u=0,b=O.length;u<b;u++)if(O[u].name===A)return O[u].value;return""}},{key:"_bindEvent",value:function(){var A=this,O=this._devtools;function u(b,k){var F=O.get("sources");if(F)return F.set(b,k),O.showTool("sources"),!0}this._$container.on("click",I(".refresh-cookie"),function(){O.notify("Refreshed",{icon:"success"}),A.refresh()}).on("click",I(".clear-cookie"),function(){Mt.domain("Storage").clearDataForOrigin({storageTypes:"cookies"}),A.refresh()}).on("click",I(".delete-cookie"),function(){var b=A._selectedItem;Mt.domain("Network").deleteCookies({name:b}),A.refresh()}).on("click",I(".show-detail"),function(){var b=A._selectedItem,k=A._getVal(b);try{u("object",JSON.parse(k))}catch{u("raw",k)}}).on("click",I(".copy-cookie"),function(){var b=A._selectedItem;hn()(A._getVal(b)),O.notify("Copied",{icon:"success"})}).on("click",I(".filter"),function(){Ge.A.prompt("Filter").then(function(b){Vt()(b)||(b=R()(b),A._filter=b,A._$filterText.text(b),A._dataGrid.setOption("filter",b))})}),this._dataGrid.on("select",function(b){A._selectedItem=b.data.key,A._updateButtons()}).on("deselect",function(){A._selectedItem=null,A._updateButtons()})}}])}();function so(A,O){var u=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!u){if(Array.isArray(A)||(u=function(ce,Ee){if(ce){if(typeof ce=="string")return Rr(ce,Ee);var ze={}.toString.call(ce).slice(8,-1);return ze==="Object"&&ce.constructor&&(ze=ce.constructor.name),ze==="Map"||ze==="Set"?Array.from(ce):ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze)?Rr(ce,Ee):void 0}}(A))||O){u&&(A=u);var b=0,k=function(){};return{s:k,n:function(){return b>=A.length?{done:!0}:{done:!1,value:A[b++]}},e:function(ce){throw ce},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,V=!0,X=!1;return{s:function(){u=u.call(A)},n:function(){var ce=u.next();return V=ce.done,ce},e:function(ce){X=!0,F=ce},f:function(){try{V||u.return==null||u.return()}finally{if(X)throw F}}}}function Rr(A,O){(O==null||O>A.length)&&(O=A.length);for(var u=0,b=Array(O);u<O;u++)b[u]=A[u];return b}function jr(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jr=function(){return!!A})()}function tr(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return 2&b&&typeof k=="function"?function(F){return k.apply(u,F)}:k}var co=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),(u=(0,i.A)(b,jr()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)))._style=he(e(1443)),u.name="resources",u._hideErudaSetting=!1,u._observeElement=!0,u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u,b){tr(O,"init",this,3)([u]),this._container=b,this._initTpl(),this._localStorage=new Nr(this._$localStorage,b,this,"local"),this._sessionStorage=new Nr(this._$sessionStorage,b,this,"session"),this._cookie=new ao(this._$cookie,b),this._bindEvent(),this._initObserver(),this._initCfg()}},{key:"refresh",value:function(){return this.refreshLocalStorage().refreshSessionStorage().refreshCookie().refreshScript().refreshStylesheet().refreshIframe().refreshImage()}},{key:"destroy",value:function(){tr(O,"destroy",this,3)([]),this._localStorage.destroy(),this._sessionStorage.destroy(),this._disableObserver(),he.remove(this._style),this._rmCfg()}},{key:"refreshScript",value:function(){var u=[];h()("script").each(function(){var X=this.src;X!==""&&u.push(X)});var b=er("script",(u=Bt()(u)).length),k="<li>Empty</li>";en()(u)||(k=At()(u,function(X){return X=Ct()(X),'<li><a href="'.concat(X,'" target="_blank" class="').concat(I("js-link"),'">').concat(X,"</a></li>")}).join(""));var F='<h2 class="'.concat(I("title"),`">
      Script
      <div class="`).concat(I("btn refresh-script"),`">
        <span class="`).concat(I("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(I("link-list"),`">
      `).concat(k,`
    </ul>`),V=this._$script;return Zn(V,b),V.html(F),this}},{key:"refreshStylesheet",value:function(){var u=[];h()("link").each(function(){this.rel==="stylesheet"&&u.push(this.href)});var b=er("stylesheet",(u=Bt()(u)).length),k="<li>Empty</li>";en()(u)||(k=At()(u,function(X){return X=Ct()(X),' <li><a href="'.concat(X,'" target="_blank" class="').concat(I("css-link"),'">').concat(X,"</a></li>")}).join(""));var F='<h2 class="'.concat(I("title"),`">
      Stylesheet
      <div class="`).concat(I("btn refresh-stylesheet"),`">
        <span class="`).concat(I("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(I("link-list"),`">
      `).concat(k,`
    </ul>`),V=this._$stylesheet;return Zn(V,b),V.html(F),this}},{key:"refreshIframe",value:function(){var u=[];h()("iframe").each(function(){var F=h()(this).attr("src");F&&u.push(F)}),u=Bt()(u);var b="<li>Empty</li>";en()(u)||(b=At()(u,function(F){return F=Ct()(F),'<li><a href="'.concat(F,'" target="_blank" class="').concat(I("iframe-link"),'">').concat(F,"</a></li>")}).join(""));var k='<h2 class="'.concat(I("title"),`">
      Iframe
      <div class="`).concat(I("btn refresh-iframe"),`">
        <span class="`).concat(I("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(I("link-list"),`">
      `).concat(b,`
    </ul>`);return this._$iframe.html(k),this}},{key:"refreshLocalStorage",value:function(){return this._localStorage.refresh(),this}},{key:"refreshSessionStorage",value:function(){return this._sessionStorage.refresh(),this}},{key:"refreshCookie",value:function(){return this._cookie.refresh(),this}},{key:"refreshImage",value:function(){var u=[],b=this._performance=window.webkitPerformance||window.performance;b&&b.getEntries?this._performance.getEntries().forEach(function(ce){if(ce.initiatorType==="img"||uo(ce.name)){if(Y()(ce.name,"exclude=true"))return;u.push(ce.name)}}):h()("img").each(function(){var ce=h()(this),Ee=ce.attr("src");ce.data("exclude")!=="true"&&u.push(Ee)}),(u=Bt()(u)).sort();var k=er("image",u.length),F="<li>Empty</li>";en()(u)||(F=At()(u,function(ce){return'<li class="'.concat(I("image"),`">
          <img src="`).concat(Ct()(ce),'" data-exclude="true" class="').concat(I("img-link"),`"/>
        </li>`)}).join(""));var V='<h2 class="'.concat(I("title"),`">
      Image
      <div class="`).concat(I("btn refresh-image"),`">
        <span class="`).concat(I("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(I("image-list"),`">
      `).concat(F,`
    </ul>`),X=this._$image;return Zn(X,k),X.html(V),this}},{key:"show",value:function(){return tr(O,"show",this,3)([]),this._observeElement&&this._enableObserver(),this.refresh()}},{key:"hide",value:function(){return this._disableObserver(),tr(O,"hide",this,3)([])}},{key:"_initTpl",value:function(){var u=this._$el;u.html(I(`<div class="section local-storage"></div>
      <div class="section session-storage"></div>
      <div class="section cookie"></div>
      <div class="section script"></div>
      <div class="section stylesheet"></div>
      <div class="section iframe"></div>
      <div class="section image"></div>`)),this._$localStorage=u.find(I(".local-storage")),this._$sessionStorage=u.find(I(".session-storage")),this._$cookie=u.find(I(".cookie")),this._$script=u.find(I(".script")),this._$stylesheet=u.find(I(".stylesheet")),this._$iframe=u.find(I(".iframe")),this._$image=u.find(I(".image"))}},{key:"_bindEvent",value:function(){var u=this,b=this._$el,k=this._container;function F(X,ce){var Ee=k.get("sources");if(Ee)return Ee.set(X,ce),k.showTool("sources"),!0}function V(X){return function(ce){if(k.get("sources")){ce.preventDefault();var Ee=h()(this).attr("href");X!=="iframe"&&to()(location.href,Ee)?Ir()({url:Ee,success:function(ze){F(X,ze)},dataType:"raw"}):F("iframe",Ee)}}}b.on("click",".eruda-refresh-script",function(){k.notify("Refreshed",{icon:"success"}),u.refreshScript()}).on("click",".eruda-refresh-stylesheet",function(){k.notify("Refreshed",{icon:"success"}),u.refreshStylesheet()}).on("click",".eruda-refresh-iframe",function(){k.notify("Refreshed",{icon:"success"}),u.refreshIframe()}).on("click",".eruda-refresh-image",function(){k.notify("Refreshed",{icon:"success"}),u.refreshImage()}).on("click",".eruda-img-link",function(){F("img",h()(this).attr("src"))}).on("click",".eruda-css-link",V("css")).on("click",".eruda-js-link",V("js")).on("click",".eruda-iframe-link",V("iframe"))}},{key:"_rmCfg",value:function(){var u=this.config,b=this._container.get("settings");b&&b.remove(u,"hideErudaSetting").remove(u,"observeElement").remove("Resources")}},{key:"_initCfg",value:function(){var u=this,b=this.config=le.createCfg("resources",{hideErudaSetting:!0,observeElement:!0});b.get("hideErudaSetting")&&(this._hideErudaSetting=!0),b.get("observeElement")||(this._observeElement=!1),b.on("change",function(k,F){switch(k){case"hideErudaSetting":return void(u._hideErudaSetting=F);case"observeElement":return u._observeElement=F,F?u._enableObserver():u._disableObserver()}}),this._container.get("settings").text("Resources").switch(b,"hideErudaSetting","Hide Eruda Setting").switch(b,"observeElement","Auto Refresh Elements").separator()}},{key:"_initObserver",value:function(){var u=this;this._observer=new(fn())(function(b){x()(b,function(k){u._handleMutation(k)})})}},{key:"_handleMutation",value:function(u){var b=this;if(!Ne(u.target)){var k=function(ce){var Ee=function(ze){return ze.tagName?ze.tagName.toLowerCase():""}(ce);switch(Ee){case"script":b.refreshScript();break;case"img":b.refreshImage();break;case"link":b.refreshStylesheet()}};if(u.type==="attributes")k(u.target);else if(u.type==="childList"){k(u.target);var F,V=kr()(u.addedNodes),X=so(V=io()(V,kr()(u.removedNodes)));try{for(X.s();!(F=X.n()).done;)k(F.value)}catch(ce){X.e(ce)}finally{X.f()}}}}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}}])}(m),lo=/\.(jpeg|jpg|gif|png)$/,uo=function(A){return lo.test(A)},ho=e(6620),Pr=e.n(ho),Dr=Pr()(),fo=[{name:"Location",val:function(){return Ct()(location.href)}},{name:"User Agent",val:navigator.userAgent},{name:"Device",val:["<table><tbody>",'<tr><td class="eruda-device-key">screen</td><td>'.concat(screen.width," * ").concat(screen.height,"</td></tr>"),"<tr><td>viewport</td><td>".concat(window.innerWidth," * ").concat(window.innerHeight,"</td></tr>"),"<tr><td>pixel ratio</td><td>".concat(window.devicePixelRatio,"</td></tr>"),"</tbody></table>"].join("")},{name:"System",val:["<table><tbody>",'<tr><td class="eruda-system-key">os</td><td>'.concat(Hn()(),"</td></tr>"),"<tr><td>browser</td><td>".concat(Dr.name+" "+Dr.version,"</td></tr>"),"</tbody></table>"].join("")},{name:"Sponsor this Project",val:function(){return"<table><tbody>"+At()([{name:"Open Collective",link:"https://opencollective.com/eruda"},{name:"Ko-fi",link:"https://ko-fi.com/surunzi"},{name:"Wechat Pay",link:"https://surunzi.com/wechatpay.html"}],function(A){return"<tr><td>".concat(A.name,'</td><td><a rel="noreferrer noopener" href="').concat(A.link,'" target="_blank">').concat(A.link.replace("https://",""),"</a></td></tr>")}).join(" ")+"</tbody></table>"}},{name:"About",val:'<a href="https://eruda.liriliri.io" target="_blank">Eruda v3.4.3</a>'}],po=e(1034),go=e.n(po);function Mr(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mr=function(){return!!A})()}function Lr(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}var mo=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),(u=(0,i.A)(b,Mr()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)))._style=he(e(4657)),u.name="info",u._infos=[],u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u,b){Lr(O,"init",this)([u]),this._container=b,this._addDefInfo(),this._bindEvent()}},{key:"destroy",value:function(){Lr(O,"destroy",this)([]),he.remove(this._style)}},{key:"add",value:function(u,b){var k=this._infos,F=!1;return x()(k,function(V){u===V.name&&(V.val=b,F=!0)}),F||k.push({name:u,val:b}),this._render(),this}},{key:"get",value:function(u){var b,k=this._infos;return Gt()(u)?go()(k):(x()(k,function(F){u===F.name&&(b=F.val)}),b)}},{key:"remove",value:function(u){for(var b=this._infos,k=b.length-1;k>=0;k--)b[k].name===u&&b.splice(k,1);return this._render(),this}},{key:"clear",value:function(){return this._infos=[],this._render(),this}},{key:"_addDefInfo",value:function(){var u=this;x()(fo,function(b){return u.add(b.name,b.val)})}},{key:"_render",value:function(){var u=[];x()(this._infos,function(k){var F=k.name,V=k.val;xt()(V)&&(V=V()),u.push({name:F,val:V})});var b="<ul>".concat(At()(u,function(k){return'<li><h2 class="'.concat(I("title"),'">').concat(Ct()(k.name),'<span class="').concat(I("icon-copy copy"),'"></span></h2><div class="').concat(I("content"),'">').concat(k.val,"</div></li>")}).join(""),"</ul>");this._renderHtml(b)}},{key:"_bindEvent",value:function(){var u=this._container;this._$el.on("click",I(".copy"),function(){var b=h()(this).parent().parent(),k=b.find(I(".title")).text(),F=b.find(I(".content")).text();hn()("".concat(k,": ").concat(F)),u.notify("Copied",{icon:"success"})})}},{key:"_renderHtml",value:function(u){u!==this._lastHtml&&(this._lastHtml=u,this._$el.html(u))}}])}(m),vo=e(6911),bo=e(894),yo=e.n(bo),_o=e(4249),wo=e.n(_o),$r=e(1714);function Br(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Br=function(){return!!A})()}function xr(A,O,u,b){var k=(0,g.A)((0,a.A)(A.prototype),O,u);return typeof k=="function"?function(F){return k.apply(u,F)}:k}var Ao=function(A){function O(){var u,b,k,F;return(0,r.A)(this,O),b=this,k=O,k=(0,a.A)(k),(u=(0,i.A)(b,Br()?Reflect.construct(k,[],(0,a.A)(b).constructor):k.apply(b,F)))._style=he(e(4831)),u.name="sources",u._showLineNum=!0,u}return(0,s.A)(O,A),(0,o.A)(O,[{key:"init",value:function(u,b){xr(O,"init",this)([u]),this._container=b,this._bindEvent(),this._initCfg()}},{key:"destroy",value:function(){xr(O,"destroy",this)([]),he.remove(this._style),this._rmCfg()}},{key:"set",value:function(u,b){if(u==="img"){this._isFetchingData=!0;var k=new Image,F=this;return k.onload=function(){F._isFetchingData=!1,F._data={type:"img",val:{width:this.width,height:this.height,src:b}},F._render()},k.onerror=function(){F._isFetchingData=!1},void(k.src=b)}return this._data={type:u,val:b},this._render(),this}},{key:"show",value:function(){return xr(O,"show",this)([]),this._data||this._isFetchingData||this._renderDef(),this}},{key:"_renderDef",value:function(){var u=this;if(this._html)return this._data={type:"html",val:this._html},this._render();this._isGettingHtml||(this._isGettingHtml=!0,Ir()({url:location.href,success:function(b){return u._html=b},error:function(){return u._html="Sorry, unable to fetch source code:("},complete:function(){u._isGettingHtml=!1,u._renderDef()},dataType:"raw"}))}},{key:"_bindEvent",value:function(){var u=this;this._container.on("showTool",function(b,k){b!==u.name&&k.name===u.name&&delete u._data})}},{key:"_rmCfg",value:function(){var u=this.config,b=this._container.get("settings");b&&b.remove(u,"showLineNum").remove("Sources")}},{key:"_initCfg",value:function(){var u=this,b=this.config=le.createCfg("sources",{showLineNum:!0});b.get("showLineNum")||(this._showLineNum=!1),b.on("change",function(k,F){k!=="showLineNum"||(u._showLineNum=F)}),this._container.get("settings").text("Sources").switch(b,"showLineNum","Show Line Numbers").separator()}},{key:"_render",value:function(){switch(this._isInit=!0,this._data.type){case"html":case"js":case"css":return this._renderCode();case"img":return this._renderImg();case"object":return this._renderObj();case"raw":return this._renderRaw();case"iframe":return this._renderIframe()}}},{key:"_renderImg",value:function(){var u=this._data.val,b=u.width,k=u.height,F=u.src;this._renderHtml('<div class="'.concat(I("image"),`">
      <div class="`).concat(I("breadcrumb"),'">').concat(Ct()(F),`</div>
      <div class="`).concat(I("img-container"),`" data-exclude="true">
        <img src="`).concat(Ct()(F),`">
      </div>
      <div class="`).concat(I("img-info"),'">').concat(Ct()(b)," × ").concat(Ct()(k),`</div>
    </div>`))}},{key:"_renderCode",value:function(){var u=this._data;this._renderHtml('<div class="'.concat(I("code"),'" data-type="').concat(u.type,'"></div>'),!1);var b=u.val,k=u.val.length;k>nr&&(b=xn()(b,nr)),k<ko?(b=wo()(b,u.type,{comment:"",string:"",number:"",keyword:"",operator:""}),x()(["comment","string","number","keyword","operator"],function(V){b=yo()(b,'class="'.concat(V,'"'),'class="'.concat(I(V),'"'))})):b=Ct()(b);var F=this._$el.find(I(".code")).get(0);new $r.A(F,{text:b,escape:!1,wrapLongLines:!0,showLineNumbers:u.val.length<Fr&&this._showLineNum})}},{key:"_renderObj",value:function(){this._renderHtml('<ul class="'.concat(I("json"),'"></ul>'),!1);var u=this._data.val;try{de()(u)&&(u=JSON.parse(u))}catch{}new vo.A(this._$el.find(".eruda-json").get(0),{unenumerable:!0,accessGetter:!0,prototype:!1}).set(u)}},{key:"_renderRaw",value:function(){var u=this._data;this._renderHtml('<div class="'.concat(I("raw-wrapper"),`">
      <div class="`).concat(I("raw"),`"></div>
    </div>`));var b=u.val,k=this._$el.find(I(".raw")).get(0);b.length>nr&&(b=xn()(b,nr)),new $r.A(k,{text:b,wrapLongLines:!0,showLineNumbers:b.length<Fr&&this._showLineNum})}},{key:"_renderIframe",value:function(){this._renderHtml('<iframe src="'.concat(Ct()(this._data.val),'"></iframe>'))}},{key:"_renderHtml",value:function(u){var b=this;(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&u===this._lastHtml||(this._lastHtml=u,this._$el.html(u),setTimeout(function(){return b._$el.get(0).scrollTop=0},0))}}])}(m),ko=3e4,Fr=8e4,nr=1e5,xo=e(9760),Eo=e.n(xo),So=e(1505),Co=e.n(So),To=e(5701),Oo=e.n(To),Io={init:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=A.container,u=A.tool,b=A.autoScale,k=b===void 0||b,F=A.useShadowDom,V=F===void 0||F,X=A.inline,ce=X!==void 0&&X,Ee=A.defaults,ze=Ee===void 0?{}:Ee;this._isInit||(this._isInit=!0,this._scale=1,this._initContainer(O,V),this._initStyle(),this._initDevTools(ze,ce),this._initEntryBtn(),this._initSettings(),this._initTools(u),this._registerListener(),k&&this._autoScale(),ce&&(this._entryBtn.hide(),this._$el.addClass("eruda-inline"),this.show()))},_isInit:!1,version:"3.4.3",util:{isErudaEl:Ne,evalCss:he,isDarkTheme:function(A){return A||(A=this.getTheme()),ot(A)},getTheme:function(){var A=he.getCurTheme(),O="Light";return x()(be,function(u,b){Oo()(u,A)&&(O=b)}),O}},chobitsu:Mt,Tool:m,Console:ir,Elements:Gr,Network:ct,Sources:Ao,Resources:co,Info:mo,Snippets:Zr,Settings:le,get:function(A){if(this._checkInit()){if(A==="entryBtn")return this._entryBtn;var O=this._devTools;return A?O.get(A):O}},add:function(A){if(this._checkInit())return xt()(A)&&(A=A(this)),this._devTools.add(A),this},remove:function(A){return this._devTools.remove(A),this},show:function(A){if(this._checkInit()){var O=this._devTools;return A?O.showTool(A):O.show(),this}},hide:function(){if(this._checkInit())return this._devTools.hide(),this},destroy:function(){this._devTools.destroy(),delete this._devTools,this._entryBtn.destroy(),delete this._entryBtn,this._unregisterListener(),h()(this._container).remove(),he.clear(),this._isInit=!1,this._container=null,this._shadowRoot=null},scale:function(A){return ke()(A)?(this._scale=A,p.emit(p.SCALE,A),this):this._scale},position:function(A){var O=this._entryBtn;return Eo()(A)?(O.setPos(A),this):O.getPos()},_autoScale:function(){ue()()&&this.scale(1/Co()())},_registerListener:function(){var A=this;this._addListener=function(){return A.add.apply(A,arguments)},this._showListener=function(){return A.show.apply(A,arguments)},p.on(p.ADD,this._addListener),p.on(p.SHOW,this._showListener),p.on(p.SCALE,he.setScale)},_unregisterListener:function(){p.off(p.ADD,this._addListener),p.off(p.SHOW,this._showListener),p.off(p.SCALE,he.setScale)},_checkInit:function(){return this._isInit||Oe.error('Please call "eruda.init()" first'),this._isInit},_initContainer:function(A,O){var u,b;A||(A=document.createElement("div"),document.documentElement.appendChild(A)),A.id="eruda",A.style.all="initial",this._container=A,O&&(A.attachShadow?u=A.attachShadow({mode:"open"}):A.createShadowRoot&&(u=A.createShadowRoot()),u&&(he.container=document.head,he(e(6793)+e(7853)+e(9907)+e(879)+e(1107)+e(5259)),b=document.createElement("div"),u.appendChild(b),this._shadowRoot=u)),this._shadowRoot||(b=document.createElement("div"),A.appendChild(b)),Z()(b,{className:"eruda-container __chobitsu-hide__",contentEditable:!1}),Pr()().name==="ios"&&b.setAttribute("ontouchstart",""),this._$el=h()(b)},_initDevTools:function(A,O){this._devTools=new ft(this._$el,{defaults:A,inline:O})},_initStyle:function(){var A="eruda-style-container",O=this._$el;this._shadowRoot?(he.container=this._shadowRoot,he(":host { all: initial }")):(O.append('<div class="'.concat(A,'"></div>')),he.container=O.find(".".concat(A)).get(0)),he(e(2693)+e(9907)+e(7853)+e(5259)+e(3277)+e(879)+e(4393)+e(7253)+e(1107)+e(187)+e(1277)+e(8687)+e(6793))},_initEntryBtn:function(){var A=this;this._entryBtn=new dt(this._$el),this._entryBtn.on("click",function(){return A._devTools.toggle()})},_initSettings:function(){var A=this._devTools,O=new le;A.add(O),this._entryBtn.initCfg(O),A.initCfg(O)},_initTools:function(){var A=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["console","elements","network","resources","sources","info","snippets"];O=kr()(O);var u=this._devTools;O.forEach(function(b){var k=A[me()(b)];try{k&&u.add(new k)}catch(F){Be()(function(){Oe.error("Something wrong when initializing tool ".concat(b,":"),F.message)})}}),u.showTool(O[0]||"settings")}}},4236:function(n,t){t=function(e){return e===null},n.exports=t},4249:function(n,t,e){var r=e(9100),o=e(5651);t=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"js",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o(c,i),s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=a[l];var d=0,f=[];r(l,function(g){g.language&&(s=s.replace(g.re,function(y,m){return m?(f[d++]=t(m,g.language,c),y.replace(m,"___subtmpl"+(d-1)+"___")):y}))}),r(l,function(g,y){a[g.language]||(s=s.replace(g.re,"___"+y+"___$1___end"+y+"___"))});var p=[];return s=s.replace(/___(?!subtmpl)\w+?___/g,function(g){var y=g.substr(3,3)==="end",m=(y?g.substr(6):g.substr(3)).replace(/_/g,""),w=p.length>0?p[p.length-1]:null;return!y&&(w==null||m==w||w!=null&&l[w]&&l[w].embed!=null&&l[w].embed.indexOf(m)>-1)?(p.push(m),g):y&&m==w?(p.pop(),g):""}),r(l,function(g,y){var m=c[g.style]?' style="'.concat(c[g.style],'"'):"";s=s.replace(new RegExp("___end"+y+"___","g"),"</span>").replace(new RegExp("___"+y+"___","g"),'<span class="'.concat(g.style,'"').concat(m,">"))}),r(l,function(g){g.language&&(s=s.replace(/___subtmpl\d+___/g,function(y){var m=parseInt(y.replace(/___subtmpl(\d+)___/,"$1"),10);return f[m]}))}),s};var i={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},a={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};a.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:a.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},a.css={comment:a.js.comment,string:a.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},n.exports=t},4279:function(n,t,e){(t=e(6314)(!1)).push([n.id,"#_settings{overflow-y:auto;-webkit-overflow-scrolling:touch}._safe-area #_settings{padding-bottom:calc(0px + env(safe-area-inset-bottom))}",""]),n.exports=t},4307:function(n,t,e){var r=e(2263),o=e(2767),i=e(9100),a=e(438),s=e(9405),l=e(3915),c=e(3957);t={on:function(m,w,h){c(w)&&(h=w,w={}),m=m.split(g),i(m,function(v){if(v=p(v),w.element){var _=w.element,S=_._hotkeyListeners||{};_._hotkeyListeners=S,S[v]=S[v]||[];var B=function($){v===f($)&&h($)};S[v].push({listener:B,origin:h}),_.addEventListener("keydown",B)}else d.on(v,h)})},off:function(m,w,h){c(w)&&(h=w,w={}),m=m.split(g),i(m,function(v){if(v=p(v),w.element){var _=w.element,S=_._hotkeyListeners;if(S&&S[v]){for(var B,$=S[v],x=0,G=$.length;x<G;x++)$[x].origin===h&&(B=$[x].listener,$.splice(x,1));B&&_.removeEventListener("keydown",B)}}else d.off(v,h)})}};var d=new r;function f(m){var w=[];return m.ctrlKey&&w.push("ctrl"),m.shiftKey&&w.push("shift"),w.push(o(m.keyCode)),p(w.join("+"))}function p(m){var w=m.split(y);return w=l(w,function(h){return s(h)}),(w=a(w)).sort(),w.join("+")}document.addEventListener("keydown",function(m){d.emit(f(m),m)});var g=/,/g,y=/\+/g;n.exports=t},4393:function(n,t,e){(t=e(6314)(!1)).push([n.id,`@font-face{font-family:luna-modal-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-modal-icon-'],[class^=luna-modal-icon-]{display:inline-block;font-family:luna-modal-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-modal-icon-close:before{content:'\\f101'}.luna-modal{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-modal .luna-modal-hidden,.luna-modal.luna-modal-hidden{display:none}.luna-modal .luna-modal-invisible,.luna-modal.luna-modal-invisible{visibility:hidden}.luna-modal *{box-sizing:border-box}.luna-modal.luna-modal-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-modal{background:rgba(0,0,0,.5)}.luna-modal-icon-close{position:absolute;right:16px;top:18px;cursor:pointer;font-size:20px}.luna-modal-body{position:relative;max-height:100%;display:flex;flex-direction:column;border-radius:4px;border:1px solid}.luna-modal-body.luna-modal-no-title{position:static}.luna-modal-body.luna-modal-no-title .luna-modal-title{display:none}.luna-modal-body.luna-modal-no-title .luna-modal-icon-close{color:#fff}.luna-modal-body.luna-modal-no-footer .luna-modal-footer{display:none}.luna-modal-hidden{display:none}.luna-modal-title{padding:16px;padding-right:36px;padding-bottom:0;font-size:18px;height:46px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:0}.luna-modal-content{padding:16px;overflow-y:auto}.luna-modal-footer{flex-shrink:0;padding:12px}.luna-modal-button-group{display:flex;justify-content:flex-end}.luna-modal-button{padding:0 12px;cursor:default;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 4px;font-size:12px;border-radius:4px;overflow:hidden;height:28px;line-height:28px}.luna-modal-button:active::before{content:"";opacity:.4;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.luna-modal-button.luna-modal-secondary{border:1px solid}.luna-modal-button.luna-modal-primary{color:#fff}.luna-modal-input{box-sizing:border-box;outline:0;width:100%;font-size:16px;padding:6px 12px;border:1px solid;-webkit-appearance:none;-moz-appearance:none}.luna-modal-theme-light .luna-modal-body{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-modal-theme-light .luna-modal-button{background-color:#fff;background-color:var(--luna-color-bg-container,#fff)}.luna-modal-theme-light .luna-modal-button:active::before{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-modal-theme-light .luna-modal-button.luna-modal-secondary{color:#1a73e8;color:var(--luna-color-primary,#1a73e8);border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);background-color:#fff;background-color:var(--luna-color-bg-container,#fff)}.luna-modal-theme-light .luna-modal-button.luna-modal-primary{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-modal-theme-light .luna-modal-input{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-modal-theme-dark .luna-modal-body{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-modal-theme-dark .luna-modal-button{background-color:#141414;background-color:var(--luna-color-bg-container,#141414)}.luna-modal-theme-dark .luna-modal-button:active::before{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}.luna-modal-theme-dark .luna-modal-button.luna-modal-secondary{color:#1965c8;color:var(--luna-color-primary,#1965c8);border-color:#424242;border-color:var(--luna-color-border,#424242);background-color:#141414;background-color:var(--luna-color-bg-container,#141414)}.luna-modal-theme-dark .luna-modal-button.luna-modal-primary{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}.luna-modal-theme-dark .luna-modal-input{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}`,""]),n.exports=t},4433:function(n,t){var e=document;if(t=function(o){var i=e.createElement("body");return i.innerHTML=o,i.childNodes[0]},e.createRange&&e.body){var r=e.createRange();r.selectNode(e.body),r.createContextualFragment&&(t=function(o){return r.createContextualFragment(o).childNodes[0]})}n.exports=t},4460:function(n,t,e){var r=e(3957);t=typeof wx<"u"&&r(wx.openLocation),n.exports=t},4467:function(n,t,e){e.d(t,{A:function(){return o}});var r=e(816);function o(i,a,s){return(a=(0,r.A)(a))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,i}},4497:function(n,t,e){var r=e(6032);t=function(o,i){return o=new r(o),i=new r(i),o.port=0|o.port||(o.protocol==="https"?443:80),i.port=0|i.port||(i.protocol==="https"?443:80),o.protocol===i.protocol&&o.hostname===i.hostname&&o.port===i.port},n.exports=t},4534:function(n,t){t=function(e,r,o){var i;return function(){var a=this,s=arguments;o||clearTimeout(i),o&&i||(i=setTimeout(function(){i=null,e.apply(a,s)},r))}},n.exports=t},4657:function(n,t,e){(t=e(6314)(!1)).push([n.id,"#_info{overflow-y:auto;-webkit-overflow-scrolling:touch}#_info li{margin:10px;border:1px solid var(--border)}#_info li ._content,#_info li ._title{padding:10px}#_info li ._title{position:relative;padding-bottom:0;color:var(--accent)}#_info li ._title ._icon-copy{position:absolute;right:10px;top:14px;color:var(--primary);cursor:pointer;transition:color .3s}#_info li ._title ._icon-copy:active{color:var(--accent)}#_info li ._content{margin:0;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;color:var(--foreground);font-size:12px;word-break:break-all}#_info li ._content table{width:100%;border-collapse:collapse}#_info li ._content table td,#_info li ._content table th{border:1px solid var(--border);padding:10px}#_info li ._content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_info li ._content a{color:var(--link-color)}#_info li ._device-key,#_info li ._system-key{width:100px}._safe-area #_info{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=t},4725:function(n,t,e){var r=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.resetCanvasSize=t.getPlatform=t.pxToNum=t.executeAfterTransition=t.hasVerticalScrollbar=t.measuredScrollbarWidth=t.eventPage=t.eventClient=t.drag=t.classPrefix=void 0;var o=r(e(3915)),i=r(e(9405)),a=r(e(5169)),s=r(e(9548)),l=r(e(6097)),c=r(e(3249)),d=r(e(6030)),f=r(e(5004)),p=r(e(8609));function g(v,_){for(var S=0,B=v.length;S<B;S++){var $=v[S];_($),$.content&&g($.content,_)}}t.classPrefix=function(v){var _="luna-".concat(v,"-");function S(B){return(0,o.default)((0,i.default)(B).split(/\s+/),function($){return(0,c.default)($,_)?$:$.replace(/[\w-]+/,function(x){return"".concat(_).concat(x)})}).join(" ")}return function(B){if(/<[^>]*>/g.test(B))try{var $=s.default.parse(B);return g($,function(x){x.attrs&&x.attrs.class&&(x.attrs.class=S(x.attrs.class))}),s.default.stringify($)}catch{return S(B)}return S(B)}};var y,m="ontouchstart"in a.default,w={start:"touchstart",move:"touchmove",end:"touchend"},h={start:"mousedown",move:"mousemove",end:"mouseup"};t.drag=function(v){return m?w[v]:h[v]},t.eventClient=function(v,_){var S=v==="x"?"clientX":"clientY";return _[S]?_[S]:_.changedTouches?_.changedTouches[0][S]:0},t.eventPage=function(v,_){var S=v==="x"?"pageX":"pageY";return _[S]?_[S]:_.changedTouches?_.changedTouches[0][S]:0},t.measuredScrollbarWidth=function(){if((0,l.default)(y))return y;if(!document)return 16;var v=document.createElement("div"),_=document.createElement("div");return v.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),_.setAttribute("style","height: 200px"),v.appendChild(_),document.body.appendChild(v),y=v.offsetWidth-v.clientWidth,document.body.removeChild(v),y},t.hasVerticalScrollbar=function(v){return v.scrollHeight>v.offsetHeight},t.executeAfterTransition=function(v,_){if((0,p.default)(v))return _();var S=function(B){B.target===v&&(v.removeEventListener("transitionend",S),_())};v.addEventListener("transitionend",S)},t.pxToNum=function(v){return(0,d.default)(v.replace("px",""))},t.getPlatform=function(){var v=(0,f.default)();return v==="os x"?"mac":v},t.resetCanvasSize=function(v){v.width=Math.round(v.offsetWidth*window.devicePixelRatio),v.height=Math.round(v.offsetHeight*window.devicePixelRatio)}},4801:function(n,t,e){var r=e(4950),o=e(2989),i=e(2561),a=e(1580),s=e(1168),l=e(3145),c=e(9100),d=e(2717),f=e(5427),p=e(466),g=e(8105),y=e(8796),m=e(2571),w=e(3981),h=e(7514),v=e(3249),_=e(9760),S=e(4460),B=e(6513),$=e(1009),x=e(2806),G=e(4151),te=e(896),ee=e(5793);function de(P,E,K,q){var Ae=[];return c(E,function(_e){var Ce,Z=Object.getOwnPropertyDescriptor(K,_e),fe=Z&&Z.get,Me=Z&&Z.set;if(!q.accessGetter&&fe)Ce="(...)";else try{if(Ce=K[_e],v(q.ignore,Ce))return;y(Ce)&&Ce.catch(function(){})}catch(Pe){Ce=Pe.message}Ae.push("".concat(ve(_e),":").concat(t(Ce,q))),fe&&Ae.push("".concat(ve("get "+i(_e)),":").concat(t(Z.get,q))),Me&&Ae.push("".concat(ve("set "+i(_e)),":").concat(t(Z.set,q)))}),'"'.concat(P,'":{')+Ae.join(",")+"}"}function ve(P){return'"'.concat(z(P),'"')}function Y(P){return'"'.concat(z(i(P)),'"')}function z(P){return r(P).replace(/\\'/g,"'").replace(/\t/g,"\\t")}t=function(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=E.self,q=E.startTime,Ae=q===void 0?w():q,_e=E.timeout,Ce=_e===void 0?0:_e,Z=E.depth,fe=Z===void 0?0:Z,Me=E.curDepth,Pe=Me===void 0?1:Me,He=E.visitor,Ye=He===void 0?new D:He,Xe=E.unenumerable,qe=Xe!==void 0&&Xe,tt=E.symbol,ot=tt!==void 0&&tt,be=E.accessGetter,ye=be!==void 0&&be,ne=E.ignore,J=ne===void 0?[]:ne,M="",ae={visitor:Ye,unenumerable:qe,symbol:ot,accessGetter:ye,depth:fe,curDepth:Pe+1,timeout:Ce,startTime:Ae,ignore:J},H=o(P,!1);if(H==="String")M=Y(P);else if(H==="Number")M=i(P),a(M,"Infinity")&&(M='{"value":"'.concat(M,'","type":"Number"}'));else if(H==="NaN")M='{"value":"NaN","type":"Number"}';else if(H==="Boolean")M=P?"true":"false";else if(H==="Null")M="null";else if(H==="Undefined")M='{"type":"Undefined"}';else if(H==="Symbol"){var he="Symbol";try{he=i(P)}catch{}M='{"value":'.concat(Y(he),',"type":"Symbol"}')}else{if(Ce&&w()-Ae>Ce)return Y("Timeout");if(fe&&Pe>fe)return Y("{...}");M="{";var Te,oe=[],re=Ye.get(P);if(re?(Te=re.id,oe.push('"reference":'.concat(Te))):(Te=Ye.set(P),oe.push('"id":'.concat(Te))),oe.push('"type":"'.concat(H,'"')),a(H,"Function")?oe.push('"value":'.concat(Y(s(P)))):H==="RegExp"&&oe.push('"value":'.concat(Y(P))),!re){var le=l(P);if(le.length&&oe.push(de("enumerable",le,K||P,ae)),qe){var Ie=p(h(P,{prototype:!1,unenumerable:!0}),le);Ie.length&&oe.push(de("unenumerable",Ie,K||P,ae))}if(ot){var Be=m(h(P,{prototype:!1,symbol:!0}),function(Ze){return typeof Ze=="symbol"});Be.length&&oe.push(de("symbol",Be,K||P,ae))}var Ke=f(P);if(Ke&&!v(J,Ke)){var Je='"proto":'.concat(t(Ke,g(ae,{self:K||P})));oe.push(Je)}}M+=oe.join(",")+"}"}return M};var D=d({initialize:function(){this.id=1,this.visited=[]},set:function(P){var E=this.visited,K=this.id,q={id:K,val:P};return E.push(q),this.id++,K},get:function(P){for(var E=this.visited,K=0,q=E.length;K<q;K++){var Ae=E[K];if(P===Ae.val)return Ae}return!1}});function N(P,E){var K=E.map;if(!_(P))return P;var q=P.id,Ae=P.type,_e=P.value,Ce=P.proto,Z=P.reference,fe=P.enumerable,Me=P.unenumerable;if(Z)return P;if(Ae==="Number")return _e==="Infinity"?Number.POSITIVE_INFINITY:_e==="-Infinity"?Number.NEGATIVE_INFINITY:NaN;if(Ae!=="Undefined"){var Pe,He,Ye;if(Ae==="Function")(Pe=function(){}).toString=function(){return _e},Ce&&Object.setPrototypeOf(Pe,N(Ce,E));else if(Ae==="RegExp")Ye=(He=_e).lastIndexOf("/"),Pe=new RegExp(He.slice(1,Ye),He.slice(Ye+1));else{var Xe;Ae!=="Object"?(Xe=S?function(){}:new Function(Ae,""),Ce&&(Xe.prototype=N(Ce,E)),Pe=new Xe):Pe=B(Ce?N(Ce,E):null)}var qe,tt={};return fe&&(ee(fe)&&(qe=fe.length,delete fe.length),fe=te(fe,function(be,ye){return!ot(fe,be,ye)}),c(fe,function(be,ye){(tt[ye]||{}).get||(Pe[ye]=N(be,E))}),qe&&(Pe.length=qe)),Me&&(Me=te(Me,function(be,ye){return!ot(Me,be,ye)}),c(Me,function(be,ye){var ne=tt[ye]||{};if(!ne.get)if(be=N(be,E),_(be)&&be.reference){var J=be.reference;be=function(){return K[J]},ne.get=be}else ne.value=be;ne.enumerable=!1,tt[ye]=ne})),G(Pe,tt),K[q]=Pe,Pe}function ot(be,ye,ne){ne=i(ne);var J=!1;return c(["get","set"],function(M){if($(ne,M+" ")){var ae=ne.replace(M+" ","");be[ae]&&((ye=N(ye,E))==="Timeout"&&(ye=j),x(tt,[ae,M],ye),J=!0)}}),J}}function j(){return"Timeout"}t.parse=function(P){var E={},K=N(JSON.parse(P),{map:E});return function(q){c(q,function(Ae){for(var _e=l(Ae),Ce=0,Z=_e.length;Ce<Z;Ce++){var fe=_e[Ce];if(_(Ae[fe])){var Me=Ae[fe].reference;Me&&q[Me]&&(Ae[fe]=q[Me])}}var Pe=f(Ae);Pe&&Pe.reference&&q[Pe.reference]&&Object.setPrototypeOf(Ae,q[Pe.reference])})}(E),K},n.exports=t},4831:function(n,t,e){(t=e(6314)(!1)).push([n.id,"#_sources{font-size:0;overflow-y:auto;-webkit-overflow-scrolling:touch;color:var(--foreground)}#_sources ._code-wrapper,#_sources ._raw-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;min-height:100%}#_sources ._code,#_sources ._raw{height:100%}#_sources ._code ._keyword,#_sources ._raw ._keyword{color:var(--keyword-color)}#_sources ._code ._comment,#_sources ._raw ._comment{color:var(--comment-color)}#_sources ._code ._number,#_sources ._raw ._number{color:var(--number-color)}#_sources ._code ._string,#_sources ._raw ._string{color:var(--string-color)}#_sources ._code ._operator,#_sources ._raw ._operator{color:var(--operator-color)}#_sources ._code[data-type=html] ._keyword,#_sources ._raw[data-type=html] ._keyword{color:var(--tag-name-color)}#_sources ._image{font-size:12px}#_sources ._image ._breadcrumb{background:var(--darker-background);color:var(--primary);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-bottom:10px;word-break:break-all;padding:10px;font-size:16px;min-height:40px;border-bottom:1px solid var(--border)}#_sources ._image ._img-container{text-align:center}#_sources ._image ._img-container img{max-width:100%}#_sources ._image ._img-info{text-align:center;margin:20px 0;color:var(--foreground)}#_sources ._json{padding:0 10px}#_sources ._json *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_sources iframe{width:100%;height:100%}",""]),n.exports=t},4844:function(n,t,e){var r=e(8105),o=e(9993);t=function(i,a){a=a||o;var s=document.createElement("textarea"),l=document.body;r(s.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),s.value=i,l.appendChild(s),s.setAttribute("readonly",""),s.select(),s.setSelectionRange(0,i.length);try{document.execCommand("copy"),a()}catch(c){a(c)}finally{l.removeChild(s)}},n.exports=t},4866:function(n,t){t=function(e,r){var o=document.createElement("script");o.src=e,o.onload=function(){var i=o.readyState&&o.readyState!="complete"&&o.readyState!="loaded";r&&r(!i)},o.onerror=function(){r(!1)},document.body.appendChild(o)},n.exports=t},4950:function(n,t,e){var r=e(2561);t=function(i){return r(i).replace(o,function(a){switch(a){case'"':case"'":case"\\":return"\\"+a;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};var o=/["'\\\n\r\u2028\u2029]/g;n.exports=t},4951:function(n,t){t=function(e,r,o){var i=e.length;r=r==null?0:r<0?Math.max(i+r,0):Math.min(r,i),o=o==null?i:o<0?Math.max(i+o,0):Math.min(o,i);for(var a=[];r<o;)a.push(e[r++]);return a},n.exports=t},4966:function(n,t,e){var r=e(5224);t={encode:function(w){for(var h=r.decode(w),v="",_=0,S=h.length;_<S;_++)v+=g(h[_]);return v},decode:function(w,h){o=r.decode(w),i=0,a=o.length,s=0,l=0,c=0,d=128,f=191;for(var v,_=[];(v=y(h))!==!1;)_.push(v);return r.encode(_)}};var o,i,a,s,l,c,d,f,p=String.fromCharCode;function g(w){if(!(4294967168&w))return p(w);var h,v,_="";for(4294965248&w?4294901760&w?4292870144&w||(h=3,v=240):(h=2,v=224):(h=1,v=192),_+=p((w>>6*h)+v);h>0;)_+=p(128|63&w>>6*(h-1)),h--;return _}function y(w){for(;;){if(i>=a&&c){if(w)return m();throw new Error("Invalid byte index")}if(i===a)return!1;var h=o[i];if(i++,c){if(h<d||h>f){if(w)return i--,m();throw new Error("Invalid continuation byte")}if(d=128,f=191,s=s<<6|63&h,++l===c){var v=s;return s=0,c=0,l=0,v}}else{if(!(128&h))return h;if((224&h)==192)c=1,s=31&h;else if((240&h)==224)h===224&&(d=160),h===237&&(f=159),c=2,s=15&h;else{if((248&h)!=240){if(w)return m();throw new Error("Invalid UTF-8 detected")}h===240&&(d=144),h===244&&(f=143),c=3,s=7&h}}}}function m(){var w=i-l-1;return i=w+1,s=0,c=0,l=0,d=128,f=191,o[w]}n.exports=t},4983:function(n,t){t=function(e){try{return JSON.parse(e),!0}catch{return!1}},n.exports=t},4992:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object ArrayBuffer]"},n.exports=t},4994:function(n,t,e){var r=e(2510);t=r(function(o,i,a){return r(function(s){return o.apply(i,a.concat(s))})}),n.exports=t},5004:function(n,t,e){var r=e(1909),o=e(621);t=function(i){function a(d){return i.indexOf(d)>-1}if(!i&&r&&(i=navigator.userAgent),i){if(i=i.toLowerCase(),a("windows phone"))return"windows phone";if(a("win"))return"windows";if(a("android"))return"android";if(a("ipad")||a("iphone")||a("ipod"))return"ios";if(a("mac"))return"os x";if(a("linux"))return"linux"}else if(o){var s=process,l=s.platform,c=s.env;if(l==="win32"||c.OSTYPE==="cygwin"||c.OSTYPE==="msys")return"windows";if(l==="darwin")return"os x";if(l==="linux")return"linux"}return"unknown"},n.exports=t},5021:function(n,t,e){var r=e(7744),o=e(1931),i=e(9464),a=e(8032),s=e(5651),l=e(9760),c=o("local");t=r.extend({initialize:function(d,f){this._name=d,f=f||{};var p=c.getItem(d);try{p=JSON.parse(p)}catch{p={}}l(p)||(p={}),f=s(p,f),this.callSuper(r,"initialize",[f])},save:function(d){if(i(d))return c.removeItem(this._name);c.setItem(this._name,a(d))}}),n.exports=t},5119:function(n,t,e){var r=e(9100);t=function(o){var i=[];return r(o,function(a){i.push(a)}),i},n.exports=t},5132:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object Arguments]"},n.exports=t},5145:function(n,t,e){var r=e(9756),o=e(5651),i=e(3145),a=e(6214),s=e(9760);t=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(d,l);var f=d.deep,p=d.comparator,g=[],y=[];return function m(w){var h,v=g.indexOf(w);if(v>-1)return y[v];if(a(w)){h=[],g.push(w),y.push(h);for(var _=0,S=w.length;_<S;_++){var B=w[_];f&&s(B)?h[_]=m(B):h[_]=B}}else{h={},g.push(w),y.push(h);for(var $=i(w).sort(p),x=0,G=$.length;x<G;x++){var te=$[x],ee=w[te];f&&s(ee)?h[te]=m(ee):h[te]=ee}}return h}(c)};var l={deep:!1,comparator:r.defComparator};n.exports=t},5154:function(n,t,e){var r=e(5693),o=e(3145);t=function(i,a,s){a=r(a,s);for(var l=o(i),c=l.length,d={},f=0;f<c;f++){var p=l[f];d[p]=a(i[p],p,i)}return d},n.exports=t},5169:function(n,t,e){t=e(1909)?window:e.g,n.exports=t},5207:function(n,t){t=function(e){return e.replace(/\W/g,"\\$&")},n.exports=t},5224:function(n,t,e){var r=e(7140),o=e(3915);t={encode:function(i){return i.length<32768?String.fromCodePoint.apply(String,i):o(r(i,32767),function(a){return String.fromCodePoint.apply(String,a)}).join("")},decode:function(i){for(var a=[],s=0,l=i.length;s<l;){var c=i.charCodeAt(s++);if(c>=55296&&c<=56319&&s<l){var d=i.charCodeAt(s++);(64512&d)==56320?a.push(((1023&c)<<10)+(1023&d)+65536):(a.push(c),s--)}else a.push(c)}return a}},n.exports=t},5241:function(n,t,e){var r=e(2708),o=e(1738),i=e(1009),a=e(7661),s=e(6866),l=e(9100),c=e(3957);t=function(d,f){for(var p=arguments.length,g=new Array(p>2?p-2:0),y=2;y<p;y++)g[y-2]=arguments[y];(r(f)||o(f))&&(g.unshift(f),f=null),f||(f={});var m=function(S){for(var B="div",$="",x=[],G=[],te="",ee=0,de=S.length;ee<de;ee++){var ve=S[ee];ve==="#"||ve==="."?(G.push(te),te=ve):te+=ve}G.push(te);for(var Y=0,z=G.length;Y<z;Y++)(te=G[Y])&&(i(te,"#")?$=te.slice(1):i(te,".")?x.push(te.slice(1)):B=te);return{tagName:B,id:$,classes:x}}(d),w=m.tagName,h=m.id,v=m.classes,_=document.createElement(w);return h&&_.setAttribute("id",h),a.add(_,v),l(g,function(S){o(S)?_.appendChild(document.createTextNode(S)):r(S)&&_.appendChild(S)}),l(f,function(S,B){o(S)?_.setAttribute(B,S):c(S)&&i(B,"on")?_.addEventListener(B.slice(2),S,!1):B==="style"&&s(_,S)}),_},n.exports=t},5259:function(n,t,e){(t=e(6314)(!1)).push([n.id,`@font-face{font-family:luna-notification-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAZUAAsAAAAACdAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAG0AAACgIZAmVU9TLzIAAAF4AAAAPgAAAFZWzlGlY21hcAAAAbgAAADTAAACdAF1q7JnbHlmAAACjAAAAZ8AAAIw/FBRXGhlYWQAAAQsAAAAMQAAADZ25cSzaGhlYQAABGAAAAAdAAAAJAgCBA9obXR4AAAEgAAAABYAAABEFAH//GxvY2EAAASYAAAAFgAAACQHPAeQbWF4cAAABLAAAAAfAAAAIAEeAFBuYW1lAAAE0AAAASkAAAIWm5e+CnBvc3QAAAX8AAAAVwAAAHunB7sWeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiD2ArL5GGQYdBhswDIgzA6U4QSzmBlYGbgZeIC28YL5rEAoAIScQAwxh4WBH8hmB/PYgOp4GPgAGb8HKAAAAHicY2Bk1GWcwMDKwMDUyXSGgYGhH0IzvmYwYuQAijKwMjNgBQFprikMBxgSP7KwgLgxLExgYUYQAQC/dQkUAAB4nL2SPQ7CMAxGX2ih/LYMCCHOwKUQAoGQqMTSjQMxcQgu1BOUz4knxMCAsPWa5ksTu3aAPpCJjcghPAiY3aWGqGeMo55z03zBXErOlh0HTpypudK0eddp1dQ9R6mXqIaovlvQKeZLVvJ1dKgUZ8qQCQNmFIwUqdS3PUVTlmHw4aRfW8xBKVgGFCOUgqz8Q+TvbBqfT59VWMUT9r5z1C91IWE7Ds5QHJ2JODlW2bOj/1bvEoWoHdVCHU1YURpHtWlDwu5L20tgY5awe9U69F8TTSO0AHiclVC9ThtBEJ6ZXdY4UXwc7O0mWBzxmdsDG9nExmdFKAQUpaClRCa4ihIsGiR+0kWip0A8AQVtKsRDpKGgI8+Qkip3ZtciSpQuq9E33/zvDBDYR1fsGkJoAGAgRbUSmTe4nK5gp/qbtVTgt1uK2XAd/zjpSnn5D08pb27O4Z2nrN5Q3pmzLCBsOGbhzmEQePm1opM953QA6OZzYF+hAFBEjckr7OI+LX3I9mV+0cc1Wutn/QA/bv9XLhtmNpdxghJMQxUgxgaKAooQ25XWKtoF3E5SRKajI+MsKdjPvCfTVFospnW2VE+L2fewFlppl+M4jeNztmjKZfPrNlk3Zp22gjAM8kuH93HHmE48OudwaGcjB6jBO3tT4aFIGpiYt9i0v0jVLFrppkorj7QqlLAgmmiaGEsdolat7qqNLo9KolEU7ycqK89nnk0SlwfRpk8vF/zPxNkX9VrwYPfpkX7CVemFHBCnLJ9PTns7Nzu902T+L4rfbI/HvMPKpl+bJX+XxsaO9VQ4LQfjx3qm5PoPSPD3n/6tHlGAB9G/ZawAeJxjYGRgYADibSbTeeL5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMAKPIKWwAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFggBbKAQbAAAAeJxjYGBgYEHB//8C8X8GEgAAwYQEDwAAeJxjYAACB4YwhhyGVYwS2CEAO7wC2QAAeJxjYGRgYBBkcGFgZgABJiDmAkIGhv9gPgMAEP4BbwB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG3EOwqAMBBAwX2a+P/fw8IjSYgoQgLb5PqCtk4xksmnkX8zGTkGS0FJRU1DS0fPwMjEzCLmCke07vTuLt/XzaRdg/WqUbkIHEQcJ56bxI6KPP4cD3YA') format('woff')}[class*=' luna-notification-icon-'],[class^=luna-notification-icon-]{display:inline-block;font-family:luna-notification-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-notification-icon-info:before{content:'\\f101'}.luna-notification-icon-check:before{content:'\\f102'}.luna-notification-icon-warn:before{content:'\\f103'}.luna-notification-icon-error:before{content:'\\f104'}.luna-notification{position:relative;padding:20px;pointer-events:none;display:flex;flex-direction:column;overflow:hidden;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-notification .luna-notification-hidden,.luna-notification.luna-notification-hidden{display:none}.luna-notification .luna-notification-invisible,.luna-notification.luna-notification-invisible{visibility:hidden}.luna-notification *{box-sizing:border-box}.luna-notification.luna-notification-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:rgba(0,0,0,0)}.luna-notification.luna-notification-full{position:fixed;top:0;left:0;width:100%;height:100%}.luna-notification-item{display:flex;border:1px solid;padding:10px 16px;align-items:center}.luna-notification-lower{margin-top:16px}.luna-notification-upper{margin-bottom:16px}.luna-notification-icon-container{margin-right:8px;color:#fff;border-radius:50%;width:16px;height:16px;text-align:center;line-height:16px}.luna-notification-icon-container.luna-notification-info .luna-notification-icon{position:relative;top:-2px;font-size:12px}.luna-notification-icon-container.luna-notification-success .luna-notification-icon{position:relative;top:-1px;font-size:12px}.luna-notification-icon-container.luna-notification-warning{position:relative;top:-2px}.luna-notification-icon-container.luna-notification-warning .luna-notification-icon{font-size:14px}.luna-notification-icon-container.luna-notification-error{position:relative;top:-1px}.luna-notification-icon-container.luna-notification-error .luna-notification-icon{font-size:14px}.luna-notification-theme-light .luna-notification-item{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);box-shadow:0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05);box-shadow:var(--luna-box-shadow,0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05));color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-info{background-color:#1677ff;background-color:var(--luna-color-info,#1677ff)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-success{background-color:#52c41a;background-color:var(--luna-color-success,#52c41a)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-warning{color:#faad14;color:var(--luna-color-warning,#faad14)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-error{color:#ff4d4f;color:var(--luna-color-error,#ff4d4f)}.luna-notification-theme-dark .luna-notification-item{border-color:#424242;border-color:var(--luna-color-border,#424242);box-shadow:0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05);box-shadow:var(--luna-box-shadow,0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05));color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container,#141414)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-info{background-color:#1668dc;background-color:var(--luna-color-info,#1668dc)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-success{background-color:#49aa19;background-color:var(--luna-color-success,#49aa19)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-warning{color:#d89614;color:var(--luna-color-warning,#d89614)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-error{color:#dc4446;color:var(--luna-color-error,#dc4446)}`,""]),n.exports=t},5282:function(n,t,e){var r=e(9100);t=function(o){var i={};return r(o,function(a,s){i[a]=s}),i},n.exports=t},5333:function(n,t){var e=/^\s+/;t=function(r,o){if(o==null)return r.trimLeft?r.trimLeft():r.replace(e,"");for(var i,a,s=0,l=r.length,c=o.length,d=!0;d&&s<l;)for(d=!1,i=-1,a=r.charAt(s);++i<c;)if(a===o[i]){d=!0,s++;break}return s>=l?"":r.substr(s,l)},n.exports=t},5334:function(n,t,e){var r=this&&this.__awaiter||function(D,N,j,P){return new(j||(j=Promise))(function(E,K){function q(Ce){try{_e(P.next(Ce))}catch(Z){K(Z)}}function Ae(Ce){try{_e(P.throw(Ce))}catch(Z){K(Z)}}function _e(Ce){var Z;Ce.done?E(Ce.value):(Z=Ce.value,Z instanceof j?Z:new j(function(fe){fe(Z)})).then(q,Ae)}_e((P=P.apply(D,N||[])).next())})},o=this&&this.__generator||function(D,N){var j,P,E,K={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]},q=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return q.next=Ae(0),q.throw=Ae(1),q.return=Ae(2),typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function Ae(_e){return function(Ce){return function(Z){if(j)throw new TypeError("Generator is already executing.");for(;q&&(q=0,Z[0]&&(K=0)),K;)try{if(j=1,P&&(E=2&Z[0]?P.return:Z[0]?P.throw||((E=P.return)&&E.call(P),0):P.next)&&!(E=E.call(P,Z[1])).done)return E;switch(P=0,E&&(Z=[2&Z[0],E.value]),Z[0]){case 0:case 1:E=Z;break;case 4:return K.label++,{value:Z[1],done:!1};case 5:K.label++,P=Z[1],Z=[0];continue;case 7:Z=K.ops.pop(),K.trys.pop();continue;default:if(E=K.trys,!((E=E.length>0&&E[E.length-1])||Z[0]!==6&&Z[0]!==2)){K=0;continue}if(Z[0]===3&&(!E||Z[1]>E[0]&&Z[1]<E[3])){K.label=Z[1];break}if(Z[0]===6&&K.label<E[1]){K.label=E[1],E=Z;break}if(E&&K.label<E[2]){K.label=E[2],K.ops.push(Z);break}E[2]&&K.ops.pop(),K.trys.pop();continue}Z=N.call(D,K)}catch(fe){Z=[6,fe],P=0}finally{j=E=0}if(5&Z[0])throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}([_e,Ce])}}},i=this&&this.__spreadArray||function(D,N,j){if(j||arguments.length===2)for(var P,E=0,K=N.length;E<K;E++)!P&&E in N||(P||(P=Array.prototype.slice.call(N,0,E)),P[E]=N[E]);return D.concat(P||Array.prototype.slice.call(N))},a=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=void 0,t.deleteCookies=function(D){(0,d.default)(D.name)},t.getCookies=function(){var D=[],N=document.cookie;return(0,s.default)(N)!==""&&(0,l.default)(N.split(";"),function(j){j=j.split("=");var P=(0,s.default)(j.shift());j=(0,c.default)(j.join("=")),D.push({name:P,value:j})}),{cookies:D}},t.getResponseBody=function(D){return{base64Encoded:!1,body:B.get(D.requestId)}};var s=a(e(9405)),l=a(e(9100)),c=a(e(6334)),d=a(e(3290)),f=a(e(9122)),p=a(e(3249)),g=a(e(3981)),y=a(e(1738)),m=a(e(3750)),w=a(e(8971)),h=a(e(5957)),v=e(3411),_=a(e(8665)),S=e(916),B=new Map,$=!1;function x(D,N){D.on("send",function(j,P){var E={method:P.method,url:P.url,headers:P.reqHeaders};P.data&&(E.postData=P.data),z("Network.requestWillBeSent",{requestId:j,type:N,request:E,timestamp:P.time/1e3})}),D.on("headersReceived",function(j,P){z("Network.responseReceivedExtraInfo",{requestId:j,blockedCookies:[],headers:P.resHeaders})}),D.on("done",function(j,P){var E={status:P.status};P.resHeaders&&(E.headers=P.resHeaders),z("Network.responseReceived",{requestId:j,type:N,response:E,timestamp:P.time/1e3}),B.set(j,P.resTxt),z("Network.loadingFinished",{requestId:j,encodedDataLength:P.size,timestamp:P.time/1e3})}),D.on("error",function(j,P){z("Network.loadingFailed",{requestId:j,errorText:P.errorText,timestamp:P.time/1e3,type:N})})}function G(D){return!(0,p.default)(D,"__chobitsu-hide__=true")}t.enable=function(){$=!0,(0,l.default)(Y,function(D){return D()}),Y=[]};var te,ee,de,ve,Y=[];function z(D,N){$?_.default.trigger(D,N):Y.push(function(){return _.default.trigger(D,N)})}te=window.XMLHttpRequest.prototype,ee=te.send,de=te.open,ve=te.setRequestHeader,te.open=function(D,N){if(!G(N))return de.apply(this,arguments);x(this.chobitsuRequest=new v.XhrRequest(this,D,N),"XHR"),de.apply(this,arguments)},te.send=function(D){var N=this.chobitsuRequest;N&&N.handleSend(D),ee.apply(this,arguments)},te.setRequestHeader=function(D,N){var j=this.chobitsuRequest;j&&j.handleReqHeadersSet(D,N),ve.apply(this,arguments)},function(){var D=!1;if(window.fetch&&((D=(0,f.default)(window.fetch))||(navigator.serviceWorker&&(D=!0),window.Request&&(0,f.default)(window.Request)&&(D=!0))),D){var N=window.fetch;window.fetch=function(){for(var j=[],P=0;P<arguments.length;P++)j[P]=arguments[P];var E=new(v.FetchRequest.bind.apply(v.FetchRequest,i([void 0],j,!1)));x(E,"Fetch");var K=N.apply(void 0,j);return E.send(K),K}}}(),function(){var D=window.WebSocket;function N(j,P){var E=new D(j,P);if(!G(j))return E;var K=(0,S.createId)();z("Network.webSocketCreated",{requestId:K,url:j}),E.addEventListener("open",function(){z("Network.webSocketWillSendHandshakeRequest",{requestId:K,timestamp:(0,g.default)()/1e3,request:{headers:{}}}),z("Network.webSocketHandshakeResponseReceived",{requestId:K,timeStamp:(0,g.default)()/1e3,response:{status:101,statusText:"Switching Protocols"}})}),E.addEventListener("message",function(Ae){return r(this,void 0,void 0,function(){var _e,Ce;return o(this,function(Z){switch(Z.label){case 0:return _e=Ae.data,(0,w.default)(_e)?[2]:(Ce=1,(0,y.default)(_e)?[3,3]:(Ce=2,(0,m.default)(_e)?[4,h.default.blobToArrBuffer(_e)]:[3,2]));case 1:_e=Z.sent(),Z.label=2;case 2:_e=(0,h.default)(_e,"base64"),Z.label=3;case 3:return z("Network.webSocketFrameReceived",{requestId:K,timestamp:(0,g.default)()/1e3,response:{opcode:Ce,payloadData:_e}}),[2]}})})});var q=E.send;return E.send=function(Ae){return(0,w.default)(Ae)||function(_e){r(this,void 0,void 0,function(){var Ce,Z;return o(this,function(fe){switch(fe.label){case 0:return Ce=1,Z=_e,(0,y.default)(_e)?[3,3]:(Ce=2,(0,m.default)(Z)?[4,h.default.blobToArrBuffer(Z)]:[3,2]);case 1:Z=fe.sent(),fe.label=2;case 2:Z=(0,h.default)(_e,"base64"),fe.label=3;case 3:return z("Network.webSocketFrameSent",{requestId:K,timestamp:(0,g.default)()/1e3,response:{opcode:Ce,payloadData:Z}}),[2]}})})}(Ae),q.call(this,Ae)},E.addEventListener("close",function(){z("Network.webSocketClosed",{requestId:K,timestamp:(0,g.default)()/1e3})}),E.addEventListener("error",function(){z("Network.webSocketFrameError",{requestId:K,timestamp:(0,g.default)()/1e3,errorMessage:"WebSocket error"})}),E}N.prototype=D.prototype,N.CLOSED=D.CLOSED,N.CLOSING=D.CLOSING,N.CONNECTING=D.CONNECTING,N.OPEN=D.OPEN,window.WebSocket=N}()},5360:function(n,t,e){var r=e(9100),o=e(3612),i=e(1738);function a(s){return function(l,c){l=o(l),r(l,function(d){if(i(c))d.insertAdjacentHTML(s,c);else{var f=d.parentNode;switch(s){case"beforebegin":f&&f.insertBefore(c,d);break;case"afterend":f&&f.insertBefore(c,d.nextSibling);break;case"beforeend":d.appendChild(c);break;case"afterbegin":d.prepend(c)}}})}}t={before:a("beforebegin"),after:a("afterend"),append:a("beforeend"),prepend:a("afterbegin")},n.exports=t},5361:function(n,t,e){function r(i,a){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},r(i,a)}function o(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),a&&r(i,a)}e.d(t,{A:function(){return o}})},5395:function(n,t){t=function(e){var r=e.length,o=Array(r);r--;for(var i=0;i<=r;i++)o[r-i]=e[i];return o},n.exports=t},5427:function(n,t,e){var r=e(9760),o=e(3957),i=Object.getPrototypeOf,a={}.constructor;t=function(s){if(r(s)){if(i)return i(s);var l=s.__proto__;return l||l===null?l:o(s.constructor)?s.constructor.prototype:s instanceof a?a.prototype:void 0}},n.exports=t},5458:function(n,t,e){e.d(t,{A:function(){return i}});var r=e(5526),o=e(7800);function i(a){return function(s){if(Array.isArray(s))return(0,r.A)(s)}(a)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(a)||(0,o.A)(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},5526:function(n,t,e){function r(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=Array(i);a<i;a++)s[a]=o[a];return s}e.d(t,{A:function(){return r}})},5546:function(n,t,e){var r=e(5169),o={down:"touchstart",move:"touchmove",up:"touchend"},i={down:"mousedown",move:"mousemove",up:"mouseup"},a={down:"pointerdown",move:"pointermove",up:"pointerup"},s="PointerEvent"in r,l="ontouchstart"in r;t=function(c){return s?a[c]:l?o[c]:i[c]},n.exports=t},5570:function(n,t){var e,r=[],o=document,i=o.documentElement.doScroll,a="DOMContentLoaded",s=(i?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);s||o.addEventListener(a,e=function(){for(o.removeEventListener(a,e),s=1;e=r.shift();)e()}),t=function(l){s?setTimeout(l,0):r.push(l)},n.exports=t},5630:function(n,t){var e=0;t=function(r){var o=++e+"";return r?r+o:o},n.exports=t},5651:function(n,t,e){t=e(6307)(e(7514),!0),n.exports=t},5689:function(n,t,e){var r=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUsageAndQuota=function(){return{quota:0,usage:0,overrideActive:!1,usageBreakdown:[]}},t.clearDataForOrigin=function(f){var p=f.storageTypes.split(",");(0,o.default)(p,function(g){if(g==="cookies"){var y=(0,l.getCookies)().cookies;(0,o.default)(y,function(m){var w=m.name;return(0,i.default)(w)})}else g==="local_storage"&&(c.clear(),d.clear())})},t.getTrustTokens=function(){return{tokens:[]}},t.getStorageKeyForFrame=function(){return{storageKey:location.origin}},t.getSharedStorageMetadata=function(){return{metadata:{creationTime:0,length:0,remainingBudget:0,bytesUsed:0}}},t.setStorageBucketTracking=function(){s.default.trigger("Storage.storageBucketCreatedOrUpdated",{bucketInfo:{bucket:{storageKey:location.origin},durability:"relaxed",expiration:0,id:"0",persistent:!1,quota:0}})};var o=r(e(9100)),i=r(e(3290)),a=r(e(1931)),s=r(e(8665)),l=e(5334),c=(0,a.default)("local"),d=(0,a.default)("session")},5693:function(n,t,e){var r=e(3957),o=e(9760),i=e(6214),a=e(6459),s=e(199),l=e(2455),c=e(500);t=function(d,f,p){return d==null?l:r(d)?a(d,f,p):o(d)&&!i(d)?s(d):c(d)},n.exports=t},5701:function(n,t,e){var r=e(3957),o=e(365),i=e(3145);function a(s,l,c,d){if(s===l)return s!==0||1/s==1/l;if(s==null||l==null)return s===l;if(s!=s)return l!=l;var f=typeof s;return(f==="function"||f==="object"||typeof l=="object")&&function(p,g,y,m){var w=toString.call(p);if(w!==toString.call(g))return!1;switch(w){case"[object RegExp]":case"[object String]":return""+p==""+g;case"[object Number]":return+p!=+p?+g!=+g:+p==0?1/+p==1/g:+p==+g;case"[object Date]":case"[object Boolean]":return+p==+g}var h=w==="[object Array]";if(!h){if(typeof p!="object"||typeof g!="object")return!1;var v=p.constructor,_=g.constructor;if(v!==_&&!(r(v)&&v instanceof v&&r(_)&&_ instanceof _)&&"constructor"in p&&"constructor"in g)return!1}m=m||[];for(var S=(y=y||[]).length;S--;)if(y[S]===p)return m[S]===g;if(y.push(p),m.push(g),h){if((S=p.length)!==g.length)return!1;for(;S--;)if(!a(p[S],g[S],y,m))return!1}else{var B,$=i(p);if(S=$.length,i(g).length!==S)return!1;for(;S--;)if(B=$[S],!o(g,B)||!a(p[B],g[B],y,m))return!1}return y.pop(),m.pop(),!0}(s,l,c,d)}t=function(s,l){return a(s,l)},n.exports=t},5773:function(n,t,e){var r=e(1738),o=e(769),i=e(8785),a=e(3915),s=e(9405);t=function(c){r(c)&&(c=o(c));for(var d="",f=arguments.length,p=new Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];for(var y=0,m=c.length;y<m;y++)d+=c[y],p[y]&&(d+=p[y]);for(var w=d.split(`
`),h=[],v=0,_=w.length;v<_;v++){var S=w[v].match(l);S&&h.push(S[1].length)}var B=h.length>0?i.apply(null,h):0;return s(a(w,function($){return $[0]===" "?$.slice(B):$}).join(`
`))};var l=/^(\s+)\S+/;n.exports=t},5784:function(n,t,e){e.d(t,{A:function(){return At}});var r=e(7528),o=e(4467),i=e(3029),a=e(2901),s=e(388),l=e(3954),c=e(5361),d=e(2263),f=e.n(d),p=e(3693),g=e.n(p),y=e(3915),m=e.n(y),w=e(9405),h=e.n(w),v=e(5169),_=e.n(v),S=e(9548),B=e.n(S),$=(e(6097),e(3249)),x=e.n($),G=(e(6030),e(5004)),te=e.n(G);e(9410),e(8609);function ee(Qe){var Re="luna-".concat(Qe,"-");function W(R){return m()(h()(R).split(/\s+/),function(Q){return x()(Q,Re)?Q:Q.replace(/[\w-]+/,function(ie){return"".concat(Re).concat(ie)})}).join(" ")}return function(R){if(/<[^>]*>/g.test(R))try{var Q=B().parse(R);return de(Q,function(ie){ie.attrs&&ie.attrs.class&&(ie.attrs.class=W(ie.attrs.class))}),B().stringify(Q)}catch{return W(R)}return W(R)}}function de(Qe,Re){for(var W=0,R=Qe.length;W<R;W++){var Q=Qe[W];Re(Q),Q.content&&de(Q.content,Re)}}var ve="ontouchstart"in _();function Y(){var Qe=te()();return Qe==="os x"?"mac":Qe}var z=e(9100),D=e.n(z),N=e(8105),j=e.n(N),P=e(5651),E=e.n(P),K=e(961),q=e.n(K),Ae=e(7e3),_e=e.n(Ae),Ce=e(1009),Z=e.n(Ce);function fe(){try{var Qe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fe=function(){return!!Qe})()}var Me,Pe,He=function(Qe){function Re(W,R){var Q,ie=R.compName,Se=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Ue=Se===void 0?"light":Se;return(0,i.A)(this,Re),Q=function(Ne,I,nt){return I=(0,l.A)(I),(0,s.A)(Ne,fe()?Reflect.construct(I,[],(0,l.A)(Ne).constructor):I.apply(Ne,nt))}(this,Re),Q.subComponents=[],Q.theme="",Q.onThemeChange=function(Ne){Q.options.theme==="auto"&&Q.setTheme(Ne)},Q.compName=ie,Q.c=ee(ie),Q.options={},Q.container=W,Q.$container=g()(W),Q.$container.addClass(["luna-".concat(ie),Q.c("platform-".concat(Y()))]),Q.on("changeOption",function(Ne,I){if(Ne==="theme"&&I){var nt=I;I==="auto"&&(nt=_e().get()),Q.setTheme(nt),D()(Q.subComponents,function(it){return it.setOption("theme",I)})}}),_e().on("change",Q.onThemeChange),Q.setOption("theme",Ue),Q}return(0,c.A)(Re,Qe),(0,a.A)(Re,[{key:"destroy",value:function(){var W=this;this.destroySubComponents();var R=this.$container,Q=R.attr("class");D()(Q.split(/\s+/),function(ie){Z()(ie,"luna-".concat(W.compName))&&R.rmClass(ie)}),R.html(""),this.emit("destroy"),this.removeAllListeners(),_e().off("change",this.onThemeChange)}},{key:"setOption",value:function(W,R){var Q=this,ie=this.options,Se={};typeof W=="string"?Se[W]=R:Se=W,D()(Se,function(Ue,Ne){var I=ie[Ne];ie[Ne]=Ue,Ue!==I&&Q.emit("changeOption",Ne,Ue,I)})}},{key:"getOption",value:function(W){return this.options[W]}},{key:"addSubComponent",value:function(W){W.setOption("theme",this.options.theme),this.subComponents.push(W)}},{key:"removeSubComponent",value:function(W){q()(this.subComponents,function(R){return R===W})}},{key:"destroySubComponents",value:function(){D()(this.subComponents,function(W){return W.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(W){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(W,R),j()(this.options,W)}},{key:"find",value:function(W){return this.$container.find(this.c(W))}},{key:"setTheme",value:function(W){var R=this.c,Q=this.$container;this.theme&&Q.rmClass(R("theme-".concat(this.theme))),Q.addClass(R("theme-".concat(W))),this.theme=W}}])}(f()),Ye=e(5241),Xe=e.n(Ye),qe=e(2571),tt=e.n(qe),ot=e(7181),be=e.n(ot),ye=e(5773),ne=e.n(ye),J=e(769),M=e.n(J),ae=e(2208),H=e.n(ae),he=e(4249),Te=e.n(he),oe=e(15),re=e.n(oe),le=e(3497),Ie=e.n(le),Be=e(5902),Ke=e.n(Be),Je=e(8098),Ze=e.n(Je),st=e(4307),pt=e.n(st),kt=e(96),Kt=e.n(kt);function Gt(Qe,Re){var W=Object.keys(Qe);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Qe);Re&&(R=R.filter(function(Q){return Object.getOwnPropertyDescriptor(Qe,Q).enumerable})),W.push.apply(W,R)}return W}function Pt(Qe){for(var Re=1;Re<arguments.length;Re++){var W=arguments[Re]!=null?arguments[Re]:{};Re%2?Gt(Object(W),!0).forEach(function(R){(0,o.A)(Qe,R,W[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qe,Object.getOwnPropertyDescriptors(W)):Gt(Object(W)).forEach(function(R){Object.defineProperty(Qe,R,Object.getOwnPropertyDescriptor(W,R))})}return Qe}function Yt(){try{var Qe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yt=function(){return!!Qe})()}n=e.hmd(n);var zt={comment:"",string:"",number:"",keyword:"",operator:""},At=function(Qe){function Re(W){var R,Q,ie,Se,Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.A)(this,Re),Q=this,ie=Re,Se=[W,{compName:"dom-viewer"},Ue],ie=(0,l.A)(ie),(R=(0,s.A)(Q,Yt()?Reflect.construct(ie,Se||[],(0,l.A)(Q).constructor):ie.apply(Q,Se))).isExpanded=!1,R.childNodes=[],R.childNodeDomViewers=[],R.expand=function(){var Ne=arguments.length>0&&arguments[0]!==void 0&&arguments[0];R.isExpandable()&&(R.isExpanded||(R.isExpanded=!0,R.renderExpandTag(),R.renderChildNodes()),Ne&&D()(R.childNodeDomViewers,function(I){I.expand(!0)}))},R.collapse=function(){var Ne=arguments.length>0&&arguments[0]!==void 0&&arguments[0];R.isExpandable()&&(R.isExpanded&&(R.isExpanded=!1,R.renderCollapseTag()),Ne&&D()(R.childNodeDomViewers,function(I){I.collapse(!0)}))},R.toggle=function(){R.isExpanded?R.collapse():R.expand()},R.onKeyRight=function(){R.isExpanded?R.childNodeDomViewers[0].select():R.expand()},R.onKeyLeft=function(){var Ne;R.isExpanded?R.collapse():(Ne=R.options.parent)===null||Ne===void 0||Ne.select()},R.onKeyDown=function(){var Ne=R.options;if(R.isExpanded)R.childNodeDomViewers[0].select();else{var I=Ne.parent;if(I)if(Ne.isEndTag){if(!(I=I.getOption("parent")))return;var nt=I,it=nt.childNodes,yt=nt.childNodeDomViewers,Rt=nt.endTagDomViewer,Lt=it.indexOf(Ne.node);it[Lt+1]?yt[Lt+1].select():Rt&&Rt.select()}else{var Dt=I,dt=Dt.childNodeDomViewers,lt=Dt.endTagDomViewer,ge=dt.indexOf(R);dt[ge+1]?dt[ge+1].select():lt&&lt.select()}}},R.onKeyUp=function(){var Ne=R.options,I=Ne.parent;if(I){var nt,it;if(Ne.isEndTag)nt=Ie()(I.childNodeDomViewers);else{var yt=I.childNodeDomViewers.indexOf(R);yt<1?I.select():nt=I.childNodeDomViewers[yt-1]}nt&&(nt.isExpanded?(it=nt.endTagDomViewer)===null||it===void 0||it.select():nt.select())}},R.initOptions(Ue,{node:document.documentElement,parent:null,isEndTag:!1,observe:!0,rootContainer:W,rootDomViewer:R,ignore:function(){return!1},ignoreAttr:function(){return!1},lowerCaseTagName:!0,hotkey:!0}),R.isShadowRoot=be()(R.options.node),R.initTpl(),R.bindEvent(),!R.options.isEndTag&&R.options.observe&&R.initObserver(),R}return(0,c.A)(Re,Qe),(0,a.A)(Re,[{key:"select",value:function(W){var R=this.c,Q=this.options;if(!W||W&&Q.node===W)return this.$tag.hasClass(R("selected"))?void 0:(g()(this.options.rootContainer).find(R(".selected")).rmClass(R("selected")).rmAttr("tabindex"),this.$tag.attr("tabindex","0").get(0).focus(),this.$tag.addClass(R("selected")),void Q.rootDomViewer.emit("select",Q.node));if(W.nodeType===Node.ELEMENT_NODE)for(var ie=W,Se=W.parentElement;Se;){if(Se===Q.node){this.expand(),this.childNodeDomViewers[this.childNodes.indexOf(ie)].select(W);break}ie=Se,Se=Se.parentElement}}},{key:"attach",value:function(){this.container.appendChild(this.$tag.get(0)),this.$children&&this.container.appendChild(this.$children.get(0))}},{key:"isAttached",value:function(){return!!this.$tag.get(0).parentNode}},{key:"detach",value:function(){this.$tag.remove(),this.$children&&this.$children.remove()}},{key:"destroy",value:function(){var W=this.c;this.$tag.hasClass(W("selected"))&&this.options.rootDomViewer.emit("deselect"),this.detach(),this.observer&&this.observer.disconnect(),this.destroySubComponents(),this.options.rootDomViewer===this&&this.$container.rmClass("luna-dom-viewer").rmClass(W("platform-".concat(Y()))).rmClass(W("theme-".concat(this.options.theme))),this.emit("destroy"),this.removeAllListeners()}},{key:"renderExpandTag",value:function(){var W=this.$tag,R=this.c,Q=this.options.node;this.isShadowRoot||W.html(this.renderHtmlTag(Pt(Pt({},Jt(Q)),{},{hasTail:!1,hasToggleButton:!0}))),W.addClass(R("expanded")),this.$children.rmClass(R("hidden"))}},{key:"renderCollapseTag",value:function(){var W=this.$tag,R=this.c,Q=this.options.node;this.$children.addClass(R("hidden")),this.isShadowRoot||this.$tag.html(this.renderHtmlTag(Pt(Pt({},Jt(Q)),{},{hasTail:!0,hasToggleButton:!0}))),W.rmClass(R("expanded"))}},{key:"initObserver",value:function(){var W=this;this.observer=new(H())(function(R){D()(R,function(Q){W.handleMutation(Q)})}),this.observer.observe(this.options.node,{attributes:!0,childList:!0,characterData:!0})}},{key:"handleMutation",value:function(W){var R=this.$tag,Q=this.c,ie=this.options,Se=ie.node,Ue=ie.ignore;if(x()(["attributes","childList"],W.type)){if(W.type==="childList"){if(Ze()(W.addedNodes,Ue)&&Ze()(W.removedNodes,Ue))return;this.renderChildNodes()}this.isExpandable()?this.isExpanded?this.renderExpandTag():this.renderCollapseTag():(this.$children.addClass(Q("hidden")),this.isExpanded=!1,this.isShadowRoot?R.html(this.renderShadowRoot(!1)):R.html(this.renderHtmlTag(Pt(Pt({},Jt(Se)),{},{hasTail:!1}))))}else W.type==="characterData"&&(Se.nodeType===Node.TEXT_NODE?R.html(this.renderTextNode(Se)):Se.nodeType===Node.COMMENT_NODE&&R.html(this.renderHtmlComment(Se.nodeValue)))}},{key:"bindEvent",value:function(){var W=this,R=this.c,Q=this.$tag;if((this.options.node.nodeType===Node.ELEMENT_NODE||this.isShadowRoot)&&Q.on("click",R(".toggle"),function(Se){Se.stopPropagation(),W.toggle()}),ve?Q.on("click",function(){return W.select()}):Q.on("mousedown",function(){return W.select()}),this.options.hotkey){var ie={element:Q.get(0)};pt().on("right",ie,this.onKeyRight),pt().on("left",ie,this.onKeyLeft),pt().on("down",ie,this.onKeyDown),pt().on("up",ie,this.onKeyUp)}}},{key:"isExpandable",value:function(){return!(this.options.node.nodeType!==Node.ELEMENT_NODE&&!this.isShadowRoot)&&this.getChildNodes().length>0}},{key:"getChildNodes",value:function(){var W=this.options,R=W.rootContainer,Q=W.ignore,ie=this.options.node,Se=M()(ie.childNodes);return Se=tt()(Se,function(Ue){if(Ue.nodeType===Node.TEXT_NODE||Ue.nodeType===Node.COMMENT_NODE){var Ne=Ue.nodeValue;if(h()(Ne)==="")return!1}return Ue!==R&&!Q(Ue)}),ie.shadowRoot?Se.unshift(ie.shadowRoot):ie.chobitsuShadowRoot&&Se.unshift(ie.chobitsuShadowRoot),Se}},{key:"initTpl",value:function(){var W=this.container,R=this.c,Q=this.options,ie=Q.node,Se=Q.isEndTag,Ue=Q.lowerCaseTagName,Ne=g()(Xe()("li"));if(Ne.addClass(R("tree-item")),this.$tag=Ne,Se){var I=ie.tagName;Ue&&(I=Kt()(I)),Ne.html(R('<span class="html-tag" style="margin-left: -15px;">&lt;<span class="tag-name">/'.concat(I,'</span>&gt;</span><span class="selection"></span>')))}else if(ie.nodeType===Node.ELEMENT_NODE){var nt=this.isExpandable(),it=Pt(Pt({},Jt(ie)),{},{hasTail:nt,hasToggleButton:nt});Ne.html(this.renderHtmlTag(it))}else if(be()(ie)){var yt=this.isExpandable();Ne.html(this.renderShadowRoot(yt))}else if(ie.nodeType===Node.TEXT_NODE)Ne.html(this.renderTextNode(ie));else{if(ie.nodeType!==Node.COMMENT_NODE)return;var Rt=ie.nodeValue;if(Rt.trim()==="")return;Ne.html(this.renderHtmlComment(Rt))}if(W.appendChild(Ne.get(0)),ie.nodeType===ie.ELEMENT_NODE||this.isShadowRoot){var Lt=g()(Xe()("ul"));Lt.addClass([R("children"),R("hidden")]),W.appendChild(Lt.get(0)),this.$children=Lt}}},{key:"renderChildNodes",value:function(){var W=this,R=this.options.node,Q=this.options,ie=Q.rootContainer,Se=Q.ignore,Ue=Q.ignoreAttr,Ne=Q.rootDomViewer,I=Q.observe,nt=Q.lowerCaseTagName,it=this.$children.get(0),yt=this.childNodes,Rt=this.childNodeDomViewers;D()(Rt,function(dt){dt.detach(),W.removeSubComponent(dt)}),this.endTagDomViewer&&this.endTagDomViewer.detach();var Lt=this.getChildNodes();this.childNodes=Lt;var Dt=[];this.childNodeDomViewers=Dt,D()(Lt,function(dt,lt){var ge,Oe=yt.indexOf(dt);(ge=Oe>-1?Rt[Oe]:new Re(it,{node:dt,observe:I,parent:W,rootContainer:ie,rootDomViewer:Ne,ignore:Se,ignoreAttr:Ue,lowerCaseTagName:nt})).attach(),Dt[lt]=ge,W.addSubComponent(ge)}),D()(Rt,function(dt){dt.isAttached()||dt.destroy()}),R&&!this.isShadowRoot&&(this.endTagDomViewer?this.endTagDomViewer.attach():(this.endTagDomViewer=new Re(it,{node:R,parent:this,isEndTag:!0,lowerCaseTagName:nt,rootContainer:ie,rootDomViewer:Ne,ignore:Se}),this.addSubComponent(this.endTagDomViewer)))}},{key:"renderHtmlTag",value:function(W){var R=this,Q=this.options.lowerCaseTagName;W.attributes=tt()(W.attributes,function(Ne){return!R.options.ignoreAttr(W.el,Ne.name,Ne.value)});var ie=m()(W.attributes,function(Ne){var I=Ne.name,nt=Ne.value,it=Ne.isLink;return`<span class="attribute">
          <span class="attribute-name">`.concat(Ke()(I),"</span>").concat(nt?'="<span class="attribute-value'.concat(it?" attribute-underline":"",'">').concat(Ke()(nt),'</span>"'):"","</span>")}).join(""),Se="",Ue=W.tagName;return Q&&(Ue=Kt()(Ue)),W.hasTail?Se="".concat(W.hasTail?"…":"",'<span class="html-tag">&lt;<span class="tag-name">/').concat(Ue,"</span>&gt;</span>"):this.isExpandable()||(Se='<span class="html-tag">&lt;<span class="tag-name">/'.concat(Ue,"</span>&gt;</span>")),this.c(ne()(Me||(Me=(0,r.A)([`
      `,`
      <span class="html-tag">&lt;<span class="tag-name">`,"</span>","&gt;</span>",`
      <span class="selection"></span>`])),W.hasToggleButton?this.renderToggle():"",Ue,ie,Se))}},{key:"renderTextNode",value:function(W){var R=this.c,Q=W.nodeValue,ie=W.parentElement,Se='<span class="text-node">',Ue='</span><span class="selection"></span>';if(ie&&Q.length<1e4){if(ie.tagName==="STYLE")return R("".concat(Se).concat(Te()(Q,"css",zt)).concat(Ue));if(ie.tagName==="SCRIPT")return R("".concat(Se).concat(Te()(Q,"js",zt)).concat(Ue))}return R('"'.concat(Se).concat(Ke()(re()(Q,1e4,{separator:" ",ellipsis:"…"}))).concat(Ue,'"'))}},{key:"renderHtmlComment",value:function(W){return this.c('<span class="html-comment">&lt;!-- '.concat(Ke()(W),' --&gt;</span><span class="selection"></span>'))}},{key:"renderShadowRoot",value:function(W){var R=this.options.node;return this.c(ne()(Pe||(Pe=(0,r.A)([`
      `,`
      <span class="shadow-root">#shadow-root (`,`)</span>
      <span class="selection"></span>`])),W?this.renderToggle():"",R.mode))}},{key:"renderToggle",value:function(){return'<div class="toggle "><span class="icon icon-caret-right"></span><span class="icon icon-caret-down"></span></div>'}}])}(He);function Jt(Qe){var Re={el:Qe,tagName:"",attributes:[]};Re.tagName=Qe.tagName;var W=[];return D()(Qe.attributes,function(R){var Q=R.name,ie=R.value;W.push({name:Q,value:ie,isLink:It(Qe,Q)})}),Re.attributes=W,Re}function It(Qe,Re){var W=Qe.tagName;return(W==="SCRIPT"||W==="IMAGE"||W==="VIDEO"||W==="AUDIO")&&Re==="src"||W==="LINK"&&Re==="href"}(function(Qe,Re){try{Qe.exports=Re,Qe.exports.default=Re}catch{}})(n,At)},5793:function(n,t,e){var r=e(6097),o=e(3957),i=Math.pow(2,53)-1;t=function(a){if(!a)return!1;var s=a.length;return r(s)&&s>=0&&s<=i&&!o(a)},n.exports=t},5820:function(n,t,e){var r,o=e(3981),i=e(5169),a=i.performance,s=i.process;if(a&&a.now)t=function(){return a.now()};else if(s&&s.hrtime){var l=function(){var c=s.hrtime();return 1e9*c[0]+c[1]};r=l()-1e9*s.uptime(),t=function(){return(l()-r)/1e6}}else r=o(),t=function(){return o()-r};n.exports=t},5865:function(n,t,e){var r=e(4534);t=function(o,i){return r(o,i,!0)},n.exports=t},5869:function(n,t,e){var r=e(365);t=function(o,i){var a=function(s){var l=a.cache,c=""+(i?i.apply(this,arguments):s);return r(l,c)||(l[c]=o.apply(this,arguments)),l[c]};return a.cache={},a},n.exports=t},5902:function(n,t,e){var r=e(3145),o=(t=function(c){return a.test(c)?c.replace(s,l):c}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+r(o).join("|")+")",a=new RegExp(i),s=new RegExp(i,"g"),l=function(c){return o[c]};n.exports=t},5945:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object Set]"},n.exports=t},5957:function(n,t,e){var r=e(1738),o=e(2990),i=e(4992),a=e(6214),s=e(3159),l=e(2989),c=e(96);(t=function(d,f){var p;if(f=c(f),r(d))p=new Uint8Array(o.decode(d));else if(i(d))d=d.slice(0),p=new Uint8Array(d);else if(a(d))p=new Uint8Array(d);else if(l(d)==="uint8array")p=d.slice(0);else if(s(d)){p=new Uint8Array(d.length);for(var g=0;g<d.length;g++)p[g]=d[g]}if(p)switch(f){case"base64":p=o.encode(p);break;case"arraybuffer":p=p.buffer;break;case"array":p=[].slice.call(p);break;case"buffer":p=Buffer.from(p);break;case"blob":p=new Blob([p.buffer])}return p}).blobToArrBuffer=function(d){return new Promise(function(f,p){var g=new FileReader;g.onload=function(y){f(y.target.result)},g.onerror=function(y){p(y)},g.readAsArrayBuffer(d)})},n.exports=t},6024:function(n,t,e){var r=e(2884);t=function(o){return!!r(o)&&o%2!=0},n.exports=t},6026:function(n,t,e){var r=e(8971);t=function(o,i,a){return r(a)&&(a=i,i=void 0),!r(i)&&o<i?i:o>a?a:o},n.exports=t},6030:function(n,t,e){var r=e(6097),o=e(9760),i=e(3957),a=e(1738);t=function(s){if(r(s))return s;if(o(s)){var l=i(s.valueOf)?s.valueOf():s;s=o(l)?l+"":l}return a(s)?+s:s===0?s:+s},n.exports=t},6032:function(n,t,e){var r=e(2717),o=e(8105),i=e(9405),a=e(7257),s=e(9464),l=e(9100),c=e(6214),d=e(769),f=e(1909),p=e(9760),g=e(2561);t=r({className:"Url",initialize:function(h){!h&&f&&(h=window.location.href),o(this,t.parse(h||""))},setQuery:function(h,v){var _=this.query;return p(h)?l(h,function(S,B){_[B]=g(S)}):_[h]=g(v),this},rmQuery:function(h){var v=this.query;return c(h)||(h=d(h)),l(h,function(_){delete v[_]}),this},toString:function(){return t.stringify(this)}},{parse:function(h){var v={protocol:"",auth:"",hostname:"",hash:"",query:{},port:"",pathname:"",slashes:!1},_=i(h),S=!1,B=_.match(y);if(B&&(B=B[0],v.protocol=B.toLowerCase(),_=_.substr(B.length)),B&&(S=_.substr(0,2)==="//")&&(_=_.slice(2),v.slashes=!0),S){for(var $=_,x=-1,G=0,te=w.length;G<te;G++){var ee=_.indexOf(w[G]);ee!==-1&&(x===-1||ee<x)&&(x=ee)}x>-1&&($=_.slice(0,x),_=_.slice(x));var de=$.lastIndexOf("@");de!==-1&&(v.auth=decodeURIComponent($.slice(0,de)),$=$.slice(de+1)),v.hostname=$;var ve=$.match(m);ve&&((ve=ve[0])!==":"&&(v.port=ve.substr(1)),v.hostname=$.substr(0,$.length-ve.length))}var Y=_.indexOf("#");Y!==-1&&(v.hash=_.substr(Y),_=_.slice(0,Y));var z=_.indexOf("?");return z!==-1&&(v.query=a.parse(_.substr(z+1)),_=_.slice(0,z)),v.pathname=_||"/",v},stringify:function(h){var v=h.protocol+(h.slashes?"//":"")+(h.auth?encodeURIComponent(h.auth)+"@":"")+h.hostname+(h.port?":"+h.port:"")+h.pathname;return s(h.query)||(v+="?"+a.stringify(h.query)),h.hash&&(v+=h.hash),v}});var y=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,w=["/","?","#"];n.exports=t},6097:function(n,t,e){var r=e(3974);t=function(o){return r(o)==="[object Number]"},n.exports=t},6167:function(n,t,e){var r=e(5693);t=function(o,i,a,s){s=s||1,i=r(i,a);for(var l=o.length,c=s>0?0:l-1;c>=0&&c<l;){if(i(o[c],c,o))return c;c+=s}return-1},n.exports=t},6186:function(n,t,e){var r=e(8971),o=e(6949);t=function(i,a){var s;for(s=(a=o(a,i)).shift();!r(s);){if((i=i[s])==null)return;s=a.shift()}return i},n.exports=t},6192:function(n,t,e){var r=this&&this.__createBinding||(Object.create?function(N,j,P,E){E===void 0&&(E=P);var K=Object.getOwnPropertyDescriptor(j,P);K&&!("get"in K?!j.__esModule:K.writable||K.configurable)||(K={enumerable:!0,get:function(){return j[P]}}),Object.defineProperty(N,E,K)}:function(N,j,P,E){E===void 0&&(E=P),N[E]=j[P]}),o=this&&this.__setModuleDefault||(Object.create?function(N,j){Object.defineProperty(N,"default",{enumerable:!0,value:j})}:function(N,j){N.default=j}),i=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var j={};if(N!=null)for(var P in N)P!=="default"&&Object.prototype.hasOwnProperty.call(N,P)&&r(j,N,P);return o(j,N),j},a=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(t,"__esModule",{value:!0}),t.collectClassNamesFromSubtree=function(N){var j=(0,c.getNode)(N.nodeId),P=[];return D(j,function(E){if(E.nodeType===1){var K=E.getAttribute("class");if(K)for(var q=0,Ae=K.split(/\s+/);q<Ae.length;q++){var _e=Ae[q];P.push(_e)}}}),{classNames:(0,h.default)(P)}},t.copyTo=function(N){var j=N.nodeId,P=N.targetNodeId,E=(0,c.getNode)(j),K=(0,c.getNode)(P),q=E.cloneNode(!0);return K.appendChild(q),{nodeId:(0,c.getNodeId)(q)}},t.enable=function(){de=!0,f.default.disconnect(),f.default.observe(document.documentElement),l.clear()},t.getDocument=function(){return{root:l.wrap(document,{depth:2})}},t.getOuterHTML=function(N){var j="";return N.nodeId&&(j=(0,c.getNode)(N.nodeId).outerHTML),{outerHTML:j}},t.moveTo=function(N){var j=N.nodeId,P=N.targetNodeId,E=(0,c.getNode)(j);return(0,c.getNode)(P).appendChild(E),{nodeId:(0,c.getNodeId)(E)}},t.performSearch=function(N){var j=(0,_.default)(N.query),P=[];try{P=(0,x.default)(P,(0,B.default)(document.querySelectorAll(j)))}catch{}try{P=(0,x.default)(P,(0,$.default)(j))}catch{}D(document,function(K){var q=K.nodeType;if(q===1){var Ae=K.localName;if((0,v.default)("<".concat(Ae," "),j)||(0,v.default)("</".concat(Ae,">"),j))return void P.push(K);var _e=[];(0,S.default)(K.attributes,function(fe){var Me=fe.name,Pe=fe.value;return _e.push(Me,Pe)});for(var Ce=0,Z=_e.length;Ce<Z;Ce++)if((0,v.default)((0,_.default)(_e[Ce]),j)){P.push(K);break}}else q===3&&(0,v.default)((0,_.default)(K.nodeValue),j)&&P.push(K)});var E=(0,te.createId)();return ve.set(E,P),{searchId:E,resultCount:P.length}},t.getSearchResults=function(N){var j=N.searchId,P=N.fromIndex,E=N.toIndex,K=ve.get(j).slice(P,E);return{nodeIds:(0,w.default)(K,function(q){var Ae=(0,c.getNodeId)(q);return Ae||Y(q)})}},t.pushNodesToFrontend=Y,t.discardSearchResults=function(N){ve.delete(N.searchId)},t.pushNodesByBackendIdsToFrontend=function(N){return{nodeIds:N.backendNodeIds}},t.removeNode=function(N){var j=(0,c.getNode)(N.nodeId);(0,p.default)(j).remove()},t.requestChildNodes=function(N){var j=N.nodeId,P=N.depth,E=P===void 0?1:P,K=(0,c.getNode)(j);s.default.trigger("DOM.setChildNodes",{parentId:j,nodes:l.getChildNodes(K,E)})},t.requestNode=function(N){var j=d.getObj(N.objectId);return{nodeId:(0,c.getNodeId)(j)}},t.resolveNode=function(N){var j=(0,c.getNode)(N.nodeId);return{object:d.wrap(j)}},t.setAttributesAsText=function(N){var j=N.name,P=N.text,E=N.nodeId,K=(0,c.getNode)(E);j&&K.removeAttribute(j),(0,p.default)(K).attr((q=P,q="<div ".concat(q,"></div>"),m.default.parse(q)[0].attrs));var q},t.setAttributeValue=function(N){var j=N.nodeId,P=N.name,E=N.value;(0,c.getNode)(j).setAttribute(P,E)},t.setInspectedNode=function(N){var j=(0,c.getNode)(N.nodeId);z.unshift(j),z.length>5&&z.pop();for(var P=0;P<5;P++)(0,G.setGlobal)("$".concat(P),z[P])},t.setNodeValue=function(N){var j=N.nodeId,P=N.value;(0,c.getNode)(j).nodeValue=P},t.setOuterHTML=function(N){var j=N.nodeId,P=N.outerHTML;(0,c.getNode)(j).outerHTML=P},t.getDOMNodeId=function(N){var j=N.node;return{nodeId:l.getOrCreateNodeId(j)}},t.getDOMNode=function(N){var j=N.nodeId;return{node:(0,c.getNode)(j)}},t.getTopLayerElements=function(){return{nodeIds:[]}},t.getNodesForSubtreeByStyle=function(){return{nodeIds:[]}};var s=a(e(8665)),l=i(e(9893)),c=e(9893),d=i(e(2484)),f=a(e(8757)),p=a(e(3693)),g=a(e(4236)),y=a(e(9464)),m=a(e(9548)),w=a(e(3915)),h=a(e(438)),v=a(e(3249)),_=a(e(96)),S=a(e(9100)),B=a(e(769)),$=a(e(8862)),x=a(e(4069)),G=e(2627),te=e(916),ee,de=!1;(ee=Element.prototype.attachShadow)&&(Element.prototype.attachShadow=function(N){var j=ee.apply(this,[N]);if(!l.isValidNode(this))return j;if(this.chobitsuShadowRoot=j,de){f.default.observe(j);var P=(0,c.getNodeId)(this);P&&s.default.trigger("DOM.shadowRootPushed",{hostId:P,root:l.wrap(j,{depth:1})})}return j});var ve=new Map;function Y(N){for(var j=[N],P=N.parentNode;P&&(j.push(P),!(K=(0,c.getNodeId)(P)));)P=P.parentNode;for(;j.length;){var E=j.pop(),K=(0,c.getNodeId)(E);s.default.trigger("DOM.setChildNodes",{parentId:K,nodes:l.getChildNodes(E,1)})}return(0,c.getNodeId)(N)}var z=[];function D(N,j){for(var P=l.filterNodes(N.childNodes),E=0,K=P.length;E<K;E++){var q=P[E];j(q),D(q,j)}}f.default.on("attributes",function(N,j){var P=(0,c.getNodeId)(N);if(P){var E=N.getAttribute(j);(0,g.default)(E)?s.default.trigger("DOM.attributeRemoved",{nodeId:P,name:j}):s.default.trigger("DOM.attributeModified",{nodeId:P,name:j,value:E})}}),f.default.on("childList",function(N,j,P){var E=(0,c.getNodeId)(N);if(E){if(j=l.filterNodes(j),P=l.filterNodes(P),!(0,y.default)(j)){fe();for(var K=0,q=j.length;K<q;K++){var Ae=j[K],_e=l.getPreviousNode(Ae),Ce=_e?(0,c.getNodeId)(_e):0,Z={node:l.wrap(Ae,{depth:0}),parentNodeId:E,previousNodeId:Ce};s.default.trigger("DOM.childNodeInserted",Z)}}if(!(0,y.default)(P))for(K=0,q=P.length;K<q;K++){if(Ae=P[K],!(0,c.getNodeId)(Ae)){fe();break}s.default.trigger("DOM.childNodeRemoved",{nodeId:(0,c.getNodeId)(Ae),parentNodeId:E})}}function fe(){s.default.trigger("DOM.childNodeCountUpdated",{childNodeCount:l.wrap(N,{depth:0}).childNodeCount,nodeId:E})}}),f.default.on("characterData",function(N){var j=(0,c.getNodeId)(N);j&&s.default.trigger("DOM.characterDataModified",{characterData:N.nodeValue,nodeId:j})})},6195:function(n,t,e){var r=e(5693),o=e(3145);t=function(i,a,s){a=r(a,s);for(var l,c=o(i),d=0,f=c.length;d<f;d++)if(a(i[l=c[d]],l,i))return l},n.exports=t},6214:function(n,t,e){var r=e(3974);t=Array.isArray?Array.isArray:function(o){return r(o)==="[object Array]"},n.exports=t},6307:function(n,t,e){var r=e(8971),o=e(9100);t=function(i,a){return function(s){return o(arguments,function(l,c){if(c!==0){var d=i(l);o(d,function(f){a&&!r(s[f])||(s[f]=l[f])})}}),s}},n.exports=t},6314:function(n){n.exports=function(t){var e=[];return e.toString=function(){return this.map(function(r){var o=function(i,a){var s=i[1]||"",l=i[3];if(!l)return s;if(a&&typeof btoa=="function"){var c=(f=l,p=btoa(unescape(encodeURIComponent(JSON.stringify(f)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),"/*# ".concat(g," */")),d=l.sources.map(function(y){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(y," */")});return[s].concat(d).concat([c]).join(`
`)}var f,p,g;return[s].join(`
`)}(r,t);return r[2]?"@media ".concat(r[2]," {").concat(o,"}"):o}).join("")},e.i=function(r,o,i){typeof r=="string"&&(r=[[null,r,""]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];l!=null&&(a[l]=!0)}for(var c=0;c<r.length;c++){var d=[].concat(r[c]);i&&a[d[0]]||(o&&(d[2]?d[2]="".concat(o," and ").concat(d[2]):d[2]=o),e.push(d))}},e}},6334:function(n,t,e){var r=e(9100),o=e(5224),i=e(3915),a=e(4966);function s(c){return+("0x"+c)}t=function(c){try{return decodeURIComponent(c)}catch{var d=c.match(l);return d&&r(d,function(p){c=c.replace(p,function(g){g=g.split("%").slice(1);var y=i(g,s);return g=o.encode(y),g=a.decode(g,!0),g}(p))}),c}};var l=/(%[a-f0-9]{2})+/gi;n.exports=t},6392:function(n,t,e){var r=e(1710),o=e(2561);t=function(i,a,s){var l=(i=o(i)).length;return s=s||" ",l<a&&(i=(r(s,a-l)+i).slice(-a)),i},n.exports=t},6459:function(n,t,e){var r=e(8971);t=function(o,i,a){if(r(i))return o;switch(a??3){case 1:return function(s){return o.call(i,s)};case 3:return function(s,l,c){return o.call(i,s,l,c)};case 4:return function(s,l,c,d){return o.call(i,s,l,c,d)}}return function(){return o.apply(i,arguments)}},n.exports=t},6476:function(n,t,e){var r=this&&this.__awaiter||function(g,y,m,w){return new(m||(m=Promise))(function(h,v){function _($){try{B(w.next($))}catch(x){v(x)}}function S($){try{B(w.throw($))}catch(x){v(x)}}function B($){var x;$.done?h($.value):(x=$.value,x instanceof m?x:new m(function(G){G(x)})).then(_,S)}B((w=w.apply(g,y||[])).next())})},o=this&&this.__generator||function(g,y){var m,w,h,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},_=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return _.next=S(0),_.throw=S(1),_.return=S(2),typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function S(B){return function($){return function(x){if(m)throw new TypeError("Generator is already executing.");for(;_&&(_=0,x[0]&&(v=0)),v;)try{if(m=1,w&&(h=2&x[0]?w.return:x[0]?w.throw||((h=w.return)&&h.call(w),0):w.next)&&!(h=h.call(w,x[1])).done)return h;switch(w=0,h&&(x=[2&x[0],h.value]),x[0]){case 0:case 1:h=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,w=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(h=v.trys,!((h=h.length>0&&h[h.length-1])||x[0]!==6&&x[0]!==2)){v=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){v.label=x[1];break}if(x[0]===6&&v.label<h[1]){v.label=h[1],h=x;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(x);break}h[2]&&v.ops.pop(),v.trys.pop();continue}x=y.call(g,v)}catch(G){x=[6,G],w=0}finally{m=h=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([B,$])}}},i=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(e(8665)),s=i(e(9993)),l=i(e(8046)),c=i(e(9100)),d=i(e(2263)),f=e(916),p=function(){function g(){var y=this;this.resolves=new Map,this.domains=new Map,this.onMessage=s.default,a.default.on("message",function(m){var w=JSON.parse(m),h=y.resolves.get(w.id);if(h&&h(w.result),!w.id){var v=w.method.split("."),_=v[0],S=v[1],B=y.domains.get(_);B&&B.emit(S,w.params)}y.onMessage(m)})}return g.prototype.domain=function(y){return this.domains.get(y)},g.prototype.setOnMessage=function(y){this.onMessage=y},g.prototype.sendMessage=function(y,m){var w=this;m===void 0&&(m={});var h=(0,l.default)();return this.sendRawMessage(JSON.stringify({id:h,method:y,params:m})),new Promise(function(v){w.resolves.set(h,v)})},g.prototype.sendRawMessage=function(y){return r(this,void 0,void 0,function(){var m,w,h,v,_,S,B;return o(this,function($){switch($.label){case 0:m=JSON.parse(y),w=m.method,h=m.params,v=m.id,_={id:v},$.label=1;case 1:return $.trys.push([1,3,,4]),S=_,[4,this.callMethod(w,h)];case 2:return S.result=$.sent(),[3,4];case 3:return(B=$.sent())instanceof f.ErrorWithCode?_.error={message:B.message,code:B.code}:B instanceof Error&&(_.error={message:B.message}),[3,4];case 4:return a.default.emit("message",JSON.stringify(_)),[2]}})})},g.prototype.register=function(y,m){var w=this.domains,h=w.get(y);h||(h={},d.default.mixin(h)),(0,c.default)(m,function(v,_){h[_]=v}),w.set(y,h)},g.prototype.callMethod=function(y,m){return r(this,void 0,void 0,function(){var w,h,v,_;return o(this,function(S){if(w=y.split("."),h=w[0],v=w[1],(_=this.domain(h))&&_[v])return[2,_[v](m)||{}];throw Error("".concat(y," unimplemented"))})})},g}();t.default=p},6493:function(n,t){t=function(e){return e===!0||e===!1},n.exports=t},6513:function(n,t,e){var r=e(9760);t=function(i){if(!r(i))return{};if(o)return o(i);function a(){}return a.prototype=i,new a};var o=Object.create;n.exports=t},6567:function(n,t,e){(t=e(6314)(!1)).push([n.id,'#_console{padding-top:40px;padding-bottom:24px;width:100%;height:100%}#_console._js-input-hidden{padding-bottom:0}#_console ._control{padding:10px 10px 10px 35px;position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border)}#_console ._control [class*=" _icon-"],#_console ._control [class^=eruda-icon-]{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_console ._control [class*=" _icon-"]._active,#_console ._control [class*=" _icon-"]:active,#_console ._control [class^=eruda-icon-]._active,#_console ._control [class^=eruda-icon-]:active{color:var(--accent)}#_console ._control ._icon-clear{padding-right:0;left:0}#_console ._control ._icon-copy{right:0}#_console ._control ._icon-filter{right:23px}#_console ._control ._level{cursor:pointer;font-size:12px;height:20px;display:inline-block;margin:0 2px;padding:0 4px;line-height:20px;transition:background-color .3s,color .3s}#_console ._control ._level._active{background:var(--highlight);color:var(--select-foreground)}#_console ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:55px;font-size:14px;text-overflow:ellipsis}#_console ._js-input{pointer-events:none;position:absolute;z-index:100;left:0;bottom:0;width:100%;border-top:1px solid var(--border);height:24px}#_console ._js-input ._icon-arrow-right{line-height:23px;color:var(--accent);position:absolute;left:10px;top:0;z-index:10}#_console ._js-input._active{height:100%;padding-top:40px;padding-bottom:40px;border-top:none}#_console ._js-input._active ._icon-arrow-right{display:none}#_console ._js-input._active textarea{overflow:auto;padding-left:10px}#_console ._js-input ._buttons{display:none;position:absolute;left:0;bottom:0;width:100%;height:40px;color:var(--primary);background:var(--darker-background);font-size:12px;border-top:1px solid var(--border)}#_console ._js-input ._buttons ._button{pointer-events:all;cursor:pointer;flex:1;text-align:center;border-right:1px solid var(--border);height:40px;line-height:40px;transition:background-color .3s,color .3s}#_console ._js-input ._buttons ._button:last-child{border-right:none}#_console ._js-input ._buttons ._button:active{color:var(--select-foreground);background:var(--highlight)}#_console ._js-input textarea{overflow:hidden;pointer-events:all;padding:3px 10px;padding-left:25px;outline:0;border:none;font-size:14px;width:100%;height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;resize:none;color:var(--primary);background:var(--background)}._safe-area #_console{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console._js-input-hidden{padding-bottom:0}._safe-area #_console ._js-input{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input._active{height:100%;padding-bottom:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons{height:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons ._button{height:calc(40px + env(safe-area-inset-bottom))}',""]),n.exports=t},6620:function(n,t,e){var r=e(1909),o=e(6631),i=e(3145);t=function(d){var f=c(d=(d=d||(r?navigator.userAgent:"")).toLowerCase(),"msie ");if(f)return{version:f,name:"ie"};if(s.test(d))return{version:11,name:"ie"};for(var p=0,g=l.length;p<g;p++){var y=l[p],m=d.match(a[y]);if(m!=null){var w=o(m[1].split(".")[0]);return y==="opera"&&(w=c(d,"version/")||w),{name:y,version:w}}}return{name:"unknown",version:-1}};var a={edge:/edge\/([0-9._]+)/,firefox:/firefox\/([0-9.]+)(?:\s|$)/,opera:/opera\/([0-9.]+)(?:\s|$)/,android:/android\s([0-9.]+)/,ios:/version\/([0-9._]+).*mobile.*safari.*/,safari:/version\/([0-9._]+).*safari/,chrome:/(?!chrom.*opr)chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/},s=/trident\/7\./,l=i(a);function c(d,f){var p=d.indexOf(f);if(p>-1)return o(d.substring(p+f.length,d.indexOf(".",p)))}n.exports=t},6631:function(n,t,e){var r=e(6030);t=function(o){return o?(o=r(o))-o%1:o===0?o:0},n.exports=t},6717:function(n,t,e){(t=e(6314)(!1)).push([n.id,"._container ._entry-btn{touch-action:none;width:40px;height:40px;display:flex;background:#000;opacity:.3;border-radius:10px;position:relative;z-index:1000;transition:opacity .3s;color:#fff;font-size:25px;align-items:center;justify-content:center}._container ._entry-btn._active,._container ._entry-btn:active{opacity:.8}",""]),n.exports=t},6741:function(n,t,e){var r=e(2717),o=e(6186),i=e(8105),a=e(2508),s=e(1738),l=e(3957);t=r({initialize:function(c,d){this._locale=c,this._langs=d},set:function(c,d){this._langs[c]?i(this._langs[c],d):this._langs[c]=d},t:function(c,d){var f="",p=this._langs[this._locale];return p?(f=o(p,c),d&&(s(f)?f=a(f,d):l(f)&&(f=f(d))),f||""):""},locale:function(c){this._locale=c}}),n.exports=t},6774:function(n,t){t=function(e,r,o){r==null&&(r=e,e=0);var i=Math.random();return o||e%1||r%1?Math.min(e+i*(r-e+parseFloat("1e-"+((i+"").length-1))),r):e+Math.floor(i*(r-e+1))},n.exports=t},6793:function(n,t,e){(t=e(6314)(!1)).push([n.id,"@font-face{font-family:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAA6UAAsAAAAAGvAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAARoAAAHeLjoycE9TLzIAAAIkAAAAPwAAAFZWm1KoY21hcAAAAmQAAAFdAAADwhPu1O9nbHlmAAADxAAAB+wAAA9I7RPQpGhlYWQAAAuwAAAAMQAAADZ26MSyaGhlYQAAC+QAAAAdAAAAJAgEBC9obXR4AAAMBAAAAB0AAACwXAv//GxvY2EAAAwkAAAAOwAAAFpuVmoybWF4cAAADGAAAAAfAAAAIAE9AQ1uYW1lAAAMgAAAASkAAAIWm5e+CnBvc3QAAA2sAAAA5QAAAU4VMmUJeJxNkD1Ow0AQhb9NHGISCH9RiB0cErCNHRrqFFSIyqKiQHSpEFJERUnBCTgPZ+AEHIe34wDe1f69efPezOKAHldc07q5re4ZrFevL8QE1MPHm3e3fn5aEf6+FAvsDHHuTUoxd7zzwSdffLulq9wjLbaYau8TacZMONE554xzZsrtNfBEzFOhbSmOyTmga0ikvRR/37RSsSMyDukYPjWdgGOtsSK55Y/k0Bf/ksK0MrbFr70idsVZKNPnDcSay3umd2TISCvWTJSxI78lFQ/C+qbv/Zo9tNXDP55ZL7k0Q90u5F5XX0qrYx16btccCtXg/ULrKzGFuqY9rUTMhf3fkCNj+MxUnsM/frr5Qx+ZbH4vVQ0F5Q/ZQBvxAAB4nGNgZJJgnMDAysDA1Mt0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+KsIC4MSxMDIxAGoQZALgnCOUAeJy1011SGlEQhuF3BFHxD5UUyr8gIJIsiiKJsSqJlrHKsJssKFeuxF6Bfj3dF96aqhzqoZnDzJyG8w2wCVTko1SheKLAx1/NFuV8hXo5X+WPjht6+fmfWHLDHQ+srfnykjMrvnPPoxXlzNtRlFc26HLBZblal1N9ntBnwIgx5/SYMaWt78+YM6TDgitduaEVq+q0xhbb7KifPQ441N2OOOaEJh9oaYka7xvdd57vQz1P+oPR+Bx6s2lbrc6H0Flc/cO9/sfY87fiOY8u8X0J/muX6VRW6UI+p4l8SX35mgZynUbyLY3lJukf0e6HnvxIM/mZpnKb2nKXvM/7dCa/0lwe0lAeU0d+p4Wsk3bBiuDptY2A10rw9Fo1eOJtM/iTYLWA162A1+2A152A13rwJ8R2g++AJaUU2w/KK3YQlFzsMCjDWCMozdhRUK6x46CEYydBWceagdYraihRngAAAHic7RdbbBxX9Z57Z2d2d2ZndryzM7ve9ax3NztjO/bann0lTuW16zoBJSWJ7Zg83NiUJCQ1Ik2ikKQJNC9FFQqVEG0RVLQoSpEKH2klqgpEIyWAUMRTNBJC/PUDhETgiwhQd8y5s1s7oqr624/srO6ce89zzjn3nHsJEPwxyn5GVEJKBTcCdc80pAiYhkjfNWL+NnhLdTKqfxVOqJlxFX6E84wb86/6X4+5GRLw0/vsOgkREoFGBFx62P/uFviBP78FWrC02d/r79vcpmMl+k2uBwwJxIILTrVeyXsmK8krRLb5YGqUaCb9ksYnMuBqMtnRcY6V1nidml6texaY9CxSRm3TtKNIjcxrUjhEWKD3OnuNJEgPKSG/I6nUpo06fxwXH8lmEoyDFQIVyrROs7254z990rj0u2PLez47WqG1yu69V7ZdfDxU9He4C6P+v+HN+vlnD9Uou0Zp+NnfvveT/XL0kbGFxT/u37tx7CTdeuGlKfiibcMr/gt9qfyu05e4+YEdb7A3iEVG0ArdEAvDIPHBqTbB7bgCDA0sdH0x3/nEHDT4YFJi9siz74iaOBkK3ZyRTRXwE+FGG15BeA0Pf14hqinP3AyFJnHhnVm5xzThmNSBNFjDdvwzw75GFJIlvWhZ1UHlYlI3zIputa3CSduiRF7P09e9on+jODpanPOKsJMDOPV2wU7/BqsVPcQ2ix41X/8ARKpbfhPVtHNgik1hXAhIlmQ1rIbbcCVIzN/7+65794KRTc13IBwJXVkhRACBkAEyhVyiBqJbRn81YRjKUDfRN9xHpoVBt0xJRZ+iS4ehZFg2utJrjCO2GrAUAizcj+c3pXpiXVQwThZmdNrbrx+hAjtjbhSF5FPyKSsqmGraWKYCbfl97vMLi79fXHje7XsAhBsoo0P35fyMPpCj+lM0FDptJexuYzl82upRufxlKgrTh/+fOwBXc+Jt9jZJBTnxUbH/yGT5j4jRT2pB9O1oO/oi3FyD2/ggU14LY/j5RuHTJIZf5LR/WVmbaB2CT6xdQa4KwJZIHPfyMFoWRNSmQZDLlJVpdRw8GwwVWEGlScOGijdOq2VKyfHDB7/d1/+d37zXeT/dXG42l7/Kh2a20pd0JpxsxTVNt8KWyuu/94Ujr+7uvFpvQXP5PCfEAU4l+6pZZ9Ix3eqGqmsGrvok28V+zi6TKEYyi/Udt0MNavkkJC1e+vQA1tGqil6EV93j/UBbY0AXm/2Vku+z53x/8MDT5879U9Nb4Cqq/yf/WEjReiECfS9+C2f/6umFS/77q3t7kp0nGu8DTrFTQrwG1KtsoHVXlnXL0qMKHTRpGbaJlt7aoVsSbO3aQFb5L7MTJElIwrBMvnWxQteCEl2QREn8Ci/Ef9i7u1IT6tX5Pb/ePV+rUXKEL3DMkUPzc6OeNzo3/6C8K2QdrzVlKAYyHhBcxGgUyoCRqXimJZXYwYO1y1tWxQWKLkyfunpqevrU5vJs4SQ02JUDw94qMlC6maORJpc9AR/Sm7C4cK7S4MoL/FNqFYy+Nw5VbpIoWaWXP0atf+fj1Lb36w12h6SxShIouuNQw+TCVDNsWvHqDStpNUoFnobUs6mhUvpmn+r2VxaeuXjmCc974vSjm44OxfytrXeH5iaKxYm5fXMThcLEHLwcGzq66dHTnObMxWcWKv2u2tfa1ipMzu7rEM5OFshqLfsFu4R9thszrVjAUoHFgH98DxRreb3CK74rMTh/bWmJTq9Pd0nCZOvsbfrYrVsTty9cOPc5Or2U6spq8rXbrbNAL9yeuHWLYuEnEiErK0JIAPIN8kNyl9wn/yUt7mioN6GGTi1jDQrypNPRxQ+8zREatnUsVtgbcDHAaZA0rc6TxOIWLPFVXLDbvYRT45CDSnBOqFhee4aTcWw8gapGnS+Z+EYrOuqh825jrY5WSVwPDSewh/OWqYueCJQFEjhELTdgcdEODjUCo5yge7lcAlJxRSgceyZyu5LFfqnaeldKlsyunnK6N6LEaUSqTSndgpZK7jC7NZaR7LGcGhXwgMNC+WFt0MxEomZcECQ9EY4JkgAQDilSNKnGuxXJ0u2hdG9YUZkiZcfWpaOWkUv0G6IaCseVVH81o0dEEClKGokassX0hKSk44PxBGOS4E8cmNk+OMSY5+2cXfz8zI4hrG4jI9tnFpW/hqKx7PCnH1O7wpFkqeANT4IUVhopPTUwnNJxzSlUzLASV+4YfUIkpoQFTYvoMUFkJgtJ/Z6VEIyymx4usdCW5CuDc9s+dZDm6GeiejTl1jN6VFKUdMHMlUIWzaQEOdyrKHIsL0VZJB0TE1rUlLvCo71yPKya3dW+ONBQRBajUdPuKoXFsBAOiYoUdx7JtSXlU3ZJNAW1O+4ktBCFqBjLJhMW97JgyonISE5kVIJQJJ6tO6nueCJj1TV/D6uMzu06tH/H44NlRr3RnbNPLu7cXh75sWOklURzi5ZI9dgqG6tuEAf0bkWX0/0j6S6+RjfaYiQsbkKHhuNdms6kUExWZNGSlJgzkjIGjPK61KjLxOvGc/1/27r9KOQe7omHe+LhnvjQnmArLTyHMYHiPbGbFLEL4Q1BxOsiHrfy2HIBz67BXQbPsVbB4TNDZP/wF4x63cAxUl/PRtbXI61f2QM2/iuZUqleKr3ABp1Mxnn/rjvpOJN0b9K2k/73+Xi/VHOcGl4qyf8AzjWNo3icY2BkYGAA4uhnXafj+W2+MnCzgASiOB/va4DR///+/8/CysIElOBgAJEMAHS2DWQAAAB4nGNgZGBgYQABFtb/f///ZWFlYGRABToAW+YEPQAAAHicY2BgYGAhiP//J6wGCbNCMcP/vwxUBgDl4QRhAAAAeJxjYAACBQYThiCGAoYtjAyMZowBjPuYuJjCmBYxvWNWYXZhzmFewfyIRYUliPUOexr7EmIhAF3rF0sAeJxjYGRgYNBhZGRgZwABJiDmAkIGhv9gPgMADcIBTAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG2MyW6DQBiD+RKYpKT7vqf7Gg55pNHwEyJNGDSMRHj70nKtD7Zly45G0YA0+h8LRoyJSVBMmLJDyoxd9tjngEOOOOaEU84454JLrrjmhlvuuGfOA4888cwLr7zxzgeffPHNgixKtfeuzawUYTZYv16VITXaS8hy11azwf7FibGi/dS4Te2laWLj6k7lYiVIIv3aK9nWusqng2TLsXR900m2VMXaBvFxbXWnvBjn84mXor8pk54kqKa/NmUvVkyIg3NW/VK2jFvtKzQeR0uGRSgIrFlRYsip2FDT0LGNoh/MCkh9AAAA') format('woff')}[class*=' _icon-'],[class^='_icon-']{display:inline-block;font-family:eruda-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}._icon-arrow-left:before{content:'\\f101'}._icon-arrow-right:before{content:'\\f102'}._icon-caret-down:before{content:'\\f103'}._icon-caret-right:before{content:'\\f104'}._icon-clear:before{content:'\\f105'}._icon-compress:before{content:'\\f106'}._icon-copy:before{content:'\\f107'}._icon-delete:before{content:'\\f108'}._icon-error:before{content:'\\f109'}._icon-expand:before{content:'\\f10a'}._icon-eye:before{content:'\\f10b'}._icon-filter:before{content:'\\f10c'}._icon-play:before{content:'\\f10d'}._icon-record:before{content:'\\f10e'}._icon-refresh:before{content:'\\f10f'}._icon-reset:before{content:'\\f110'}._icon-search:before{content:'\\f111'}._icon-select:before{content:'\\f112'}._icon-tool:before{content:'\\f113'}._icon-warn:before{content:'\\f114'}",""]),n.exports=t},6833:function(n,t){var e=/([A-Z])/g,r=/[_.\- ]+/g,o=/(^-)|(-$)/g;t=function(i){return(i=i.replace(e,"-$1").toLowerCase().replace(r,"-").replace(o,"")).split("-")},n.exports=t},6866:function(n,t,e){var r=e(1738),o=e(9760),i=e(7604),a=e(8971),s=e(3249),l=e(6097),c=e(3612),d=e(6969),f=e(9100);t=function(g,y,m){if(g=c(g),a(m)&&r(y))return function(h,v){return h.style[d(v)]||getComputedStyle(h,"").getPropertyValue(v)}(g[0],y);var w=y;o(w)||((w={})[y]=m),function(h,v){f(h,function(_){var S=";";f(v,function(B,$){$=d.dash($),S+=$+":"+function(x,G){var te=l(G)&&!s(p,i(x));return te?G+"px":G}($,B)+";"}),_.style.cssText+=S})}(g,w)};var p=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];n.exports=t},6911:function(n,t,e){e.d(t,{j:function(){return dt},A:function(){return Oe}});var r=e(2284),o=e(3029),i=e(2901),a=e(388),s=e(3954),l=e(991),c=e(5361),d=e(5427),f=e.n(d),p=e(6097),g=e.n(p),y=e(6493),m=e.n(y),w=e(96),h=e.n(w),v=e(9760),_=e.n(v),S=e(6214),B=e.n(S),$=e(9931),x=e.n($),G=e(3145),te=e.n(G),ee=e(9100),de=e.n(ee),ve=e(1168),Y=e.n(ve),z=e(8796),D=e.n(z),N=e(2989),j=e.n(N),P=e(3693),E=e.n(P),K=e(466),q=e.n(K),Ae=e(15),_e=e.n(Ae),Ce=e(1738),Z=e.n(Ce),fe=e(7514),Me=e.n(fe),Pe=e(2571),He=e.n(Pe),Ye=e(7140),Xe=e.n(Ye),qe=e(2561),tt=e.n(qe),ot=e(9993),be=e.n(ot),ye=e(1532),ne=e.n(ye),J=e(8105),M=e.n(J),ae=function(){return(0,i.A)(function U(){(0,o.A)(this,U),this.id=0,this.visited=[]},[{key:"set",value:function(U,ke){var se=this.visited,we=this.id,pe={id:we,val:U};return M()(pe,ke),se.push(pe),this.id++,we}},{key:"get",value:function(U){for(var ke=this.visited,se=0,we=ke.length;se<we;se++){var pe=ke[se];if(U===pe.val)return pe}return!1}}])}(),H=e(9405),he=e.n(H),Te=e(5902),oe=e.n(Te),re=function(U){return oe()(tt()(U)).replace(/\n/g,"↵").replace(/\f|\r|\t/g,"")};function le(U){return U.length>500&&(U=U.slice(0,500)+"..."),"ƒ "+he()(function(ke){var se=ke.match(Ie);return se?se[0]:ke}(U).replace("function",""))}var Ie=/function(.*?)\((.*?)\)/,Be=e(1009),Ke=e.n(Be),Je=e(5630),Ze=e.n(Je),st=e(6030),pt=e.n(st),kt=e(1932),Kt=e.n(kt),Gt=e(2263),Pt=e.n(Gt),Yt=e(3915),zt=e.n(Yt),At=e(5169),Jt=e.n(At),It=e(9548),Qe=e.n(It),Re=e(3249),W=e.n(Re),R=e(5004),Q=e.n(R);e(9410),e(8609);function ie(U){var ke="luna-".concat(U,"-");function se(we){return zt()(he()(we).split(/\s+/),function(pe){return W()(pe,ke)?pe:pe.replace(/[\w-]+/,function(me){return"".concat(ke).concat(me)})}).join(" ")}return function(we){if(/<[^>]*>/g.test(we))try{var pe=Qe().parse(we);return Se(pe,function(me){me.attrs&&me.attrs.class&&(me.attrs.class=se(me.attrs.class))}),Qe().stringify(pe)}catch{return se(we)}return se(we)}}function Se(U,ke){for(var se=0,we=U.length;se<we;se++){var pe=U[se];ke(pe),pe.content&&Se(pe.content,ke)}}Jt();var Ue=e(5651),Ne=e.n(Ue),I=e(961),nt=e.n(I),it=e(7e3),yt=e.n(it);function Rt(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rt=function(){return!!U})()}var Lt=function(U){function ke(se,we){var pe,me,je=we.compName,at=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Le=at===void 0?"light":at;return(0,o.A)(this,ke),pe=function(Ve,rt,Ge){return rt=(0,s.A)(rt),(0,a.A)(Ve,Rt()?Reflect.construct(rt,[],(0,s.A)(Ve).constructor):rt.apply(Ve,Ge))}(this,ke),pe.subComponents=[],pe.theme="",pe.onThemeChange=function(Ve){pe.options.theme==="auto"&&pe.setTheme(Ve)},pe.compName=je,pe.c=ie(je),pe.options={},pe.container=se,pe.$container=E()(se),pe.$container.addClass(["luna-".concat(je),pe.c("platform-".concat((me=Q()(),me==="os x"?"mac":me)))]),pe.on("changeOption",function(Ve,rt){if(Ve==="theme"&&rt){var Ge=rt;rt==="auto"&&(Ge=yt().get()),pe.setTheme(Ge),de()(pe.subComponents,function(mt){return mt.setOption("theme",rt)})}}),yt().on("change",pe.onThemeChange),pe.setOption("theme",Le),pe}return(0,c.A)(ke,U),(0,i.A)(ke,[{key:"destroy",value:function(){var se=this;this.destroySubComponents();var we=this.$container,pe=we.attr("class");de()(pe.split(/\s+/),function(me){Ke()(me,"luna-".concat(se.compName))&&we.rmClass(me)}),we.html(""),this.emit("destroy"),this.removeAllListeners(),yt().off("change",this.onThemeChange)}},{key:"setOption",value:function(se,we){var pe=this,me=this.options,je={};typeof se=="string"?je[se]=we:je=se,de()(je,function(at,Le){var Ve=me[Le];me[Le]=at,at!==Ve&&pe.emit("changeOption",Le,at,Ve)})}},{key:"getOption",value:function(se){return this.options[se]}},{key:"addSubComponent",value:function(se){se.setOption("theme",this.options.theme),this.subComponents.push(se)}},{key:"removeSubComponent",value:function(se){nt()(this.subComponents,function(we){return we===se})}},{key:"destroySubComponents",value:function(){de()(this.subComponents,function(se){return se.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(se){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ne()(se,we),M()(this.options,se)}},{key:"find",value:function(se){return this.$container.find(this.c(se))}},{key:"setTheme",value:function(se){var we=this.c,pe=this.$container;this.theme&&pe.rmClass(we("theme-".concat(this.theme))),pe.addClass(we("theme-".concat(se))),this.theme=se}}])}(Pt());function Dt(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dt=function(){return!!U})()}var dt=function(U){function ke(se){var we,pe,me,je;return(0,o.A)(this,ke),pe=this,me=ke,je=[se,{compName:"object-viewer"}],me=(0,s.A)(me),(we=(0,a.A)(pe,Dt()?Reflect.construct(me,je||[],(0,s.A)(pe).constructor):me.apply(pe,je))).onItemClick=function(at){var Le=we,Ve=Le.map,rt=Le.c,Ge=E()(at.curTarget),mt=Ge.data("object-id"),ht=Ge.find("span").eq(0);if(!Ge.data("first-level")&&(mt&&(Ge.find("ul").html(we.objToHtml(Ve[mt],!1)),Ge.rmAttr("data-object-id")),at.stopImmediatePropagation(),ht.hasClass(rt("expanded")))){var ft=Ge.find("ul").eq(0);ht.hasClass(rt("collapsed"))?(ht.rmClass(rt("collapsed")),ft.show()):(ht.addClass(rt("collapsed")),ft.hide()),we.emit("change")}},we.bindEvent(),we}return(0,c.A)(ke,U),(0,i.A)(ke,[{key:"set",value:function(se){Z()(se)&&(se=JSON.parse(se)),this.data={id:Ze()("json"),enumerable:{0:se}},this.map={},lt(this.map,this.data),this.render()}},{key:"destroy",value:function(){var se,we,pe,me,je;(se=ke,we="destroy",pe=this,me=3,je=(0,l.A)((0,s.A)(1&me?se.prototype:se),we,pe),2&me&&typeof je=="function"?function(at){return je.apply(pe,at)}:je)([]),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(se,we){var pe=this,me="";return de()(["enumerable","unenumerable","symbol"],function(je){if(se[je]){var at=te()(se[je]);ne()(at);for(var Le=0,Ve=at.length;Le<Ve;Le++){var rt=at[Le];me+=pe.createEl(rt,se[je][rt],je,we)}}}),se.proto&&(me===""?me=this.objToHtml(se.proto):me+=this.createEl("[[Prototype]]",se.proto,"proto")),me}},{key:"createEl",value:function(se,we,pe){var me=arguments.length>3&&arguments[3]!==void 0&&arguments[3],je=this.c,at=(0,r.A)(we);if(we===null)return"<li>".concat(ht(se),'<span class="').concat(je("null"),'">null</span></li>');if(g()(we)||m()(we))return"<li>".concat(ht(se),'<span class="').concat(je(at),'">').concat(re(we),"</span></li>");if(we.type==="RegExp"&&(at="regexp"),we.type==="Number"&&(at="number"),we.type==="Number"||we.type==="RegExp")return"<li>".concat(ht(se),'<span class="').concat(je(at),'">').concat(re(we.value),"</span></li>");if(we.type==="Undefined"||we.type==="Symbol")return"<li>".concat(ht(se),'<span class="').concat(je("special"),'">').concat(h()(we.type),"</span></li>");if(we==="(...)")return"<li>".concat(ht(se),'<span class="').concat(je("special"),'">').concat(we,"</span></li>");if(_()(we)){var Le=we.id,Ve=we.reference,rt=function(ft){var bt=ft.type,St=ft.value;if(bt)return bt==="Function"?le(St):bt==="Array"&&ft.unenumerable?"Array(".concat(ft.unenumerable.length,")"):ft.type}(we)||x()(at),Ge=me?"":'<span class="'.concat(je("expanded collapsed"),'"><span class="').concat(je("icon icon-caret-right"),'"></span><span class="').concat(je("icon icon-caret-down"),'"></span></span>'),mt="<li ".concat(me?'data-first-level="true"':""," ").concat('data-object-id="'+(Ve||Le)+'"',">").concat(Ge).concat(ht(se),'<span class="').concat(je("open"),'">').concat(me?"":rt,'</span><ul class="').concat(je(at),'" ').concat(me?"":'style="display:none"',">");return me&&(mt+=this.objToHtml(this.map[Le])),mt+'</ul><span class="'.concat(je("close"),'"></span></li>')}function ht(ft){if(me||_()(we)&&we.jsonSplitArr)return"";var bt=je("key");return pe==="unenumerable"||pe==="symbol"?bt=je("key-lighter"):pe==="proto"&&(bt=je("key-special")),'<span class="'.concat(bt,'">').concat(re(ft),"</span>: ")}return Z()(we)&&we.length>1e4&&(we=_e()(we,50,{separator:" ",ellipsis:"…"})),"<li>".concat(ht(se),'<span class="').concat(je((0,r.A)(we)),'">"').concat(re(we),'"</span></li>')}},{key:"render",value:function(){var se=this.map[this.data.id];this.$container.html(this.objToHtml(se,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}])}(Lt);function lt(U,ke){var se=ke.id;if(se||se===0){if(ke.type&&Ke()(ke.type,"Array")&&ke.enumerable){var we=function(Le,Ve,rt){var Ge=[],mt={};return de()(Le.enumerable,function(ht,ft){var bt=pt()(ft);Kt()(bt)?mt[ft]=ht:Ge[bt]=ht}),Ge.enumerable=mt,Ge.type=rt,Ge.id=Ve,Le.unenumerable&&(Ge.unenumerable=Le.unenumerable),Le.symbol&&(Ge.symbol=Le.symbol),Le.proto&&(Ge.proto=Le.proto),Ge}(ke,se,ke.type);we.length>100&&(ke=function(Le){var Ve=0,rt={};de()(Xe()(Le,100),function(mt){var ht={},ft=Ve;ht.type="["+ft,ht.enumerable={},de()(mt,function(St){ht.enumerable[Ve]=St,Ve+=1});var bt=Ve-1;ht.type+=(bt-ft>0?" … "+bt:"")+"]",ht.id=Ze()("json"),ht.jsonSplitArr=!0,rt[Ve]=ht});var Ge={};return Ge.enumerable=rt,Ge.id=Le.id,Ge.type=Le.type,Le.unenumerable&&(Ge.unenumerable=Le.unenumerable),Le.symbol&&(Ge.symbol=Le.symbol),Le.proto&&(Ge.proto=Le.proto),Ge}(we))}U[se]=ke;var pe=[];de()(["enumerable","unenumerable","symbol"],function(Le){if(ke[Le])for(var Ve in ke[Le])pe.push(ke[Le][Ve])}),ke.proto&&pe.push(ke.proto);for(var me=0,je=pe.length;me<je;me++){var at=pe[me];_()(at)&&lt(U,at)}}}function ge(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ge=function(){return!!U})()}n=e.hmd(n);var Oe=function(U){function ke(se){var we,pe,me,je,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,o.A)(this,ke),pe=this,me=ke,je=[se,{compName:"object-viewer"}],me=(0,s.A)(me),(we=(0,a.A)(pe,ge()?Reflect.construct(me,je||[],(0,s.A)(pe).constructor):me.apply(pe,je))).onItemClick=function(Le){var Ve=we,rt=Ve.map,Ge=Ve.c;if(!function(St){var _t=window.getSelection();if(!_t||_t.type!=="Range"||_t.toString()==="")return!1;var xt=_t.anchorNode,Nt=_t.focusNode;return _t.containsNode(St,!0)||xt&&St.contains(xt)||Nt&&St.contains(Nt)}(Le.curTarget)){var mt=E()(Le.curTarget),ht=mt.data("object-id"),ft=mt.find("span").eq(0);if(!mt.data("first-level")&&(ht&&(mt.find("ul").html(we.objToHtml(rt[ht],!1)),mt.rmAttr("data-object-id")),Le.stopImmediatePropagation(),ft.hasClass(Ge("expanded")))){var bt=mt.find("ul").eq(0);ft.hasClass(Ge("collapsed"))?(ft.rmClass(Ge("collapsed")),bt.show()):(ft.addClass(Ge("collapsed")),bt.hide()),we.emit("change")}}},we.initOptions(at,{prototype:!0,unenumerable:!1,accessGetter:!1}),we.bindEvent(),we.options.object&&we.set(we.options.object),we}return(0,c.A)(ke,U),(0,i.A)(ke,[{key:"set",value:function(se){this.data=[se],this.visitor=new ae,this.map={},this.render()}},{key:"destroy",value:function(){var se,we,pe,me,je;(se=ke,we="destroy",pe=this,me=3,je=(0,l.A)((0,s.A)(1&me?se.prototype:se),we,pe),2&me&&typeof je=="function"?function(at){return je.apply(pe,at)}:je)([]),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(se,we){var pe=this,me=this.visitor,je=se,at=!1,Le=me.get(se);Le&&Le.self&&(je=Le.self);var Ve="",rt=["enumerable"],Ge=te()(se),mt=[],ht=[],ft=[],bt={};if(this.options.unenumerable&&!we&&(rt.push("unenumerable"),rt.push("symbol"),mt=q()(Me()(se,{prototype:!1,unenumerable:!0}),Ge),ht=He()(Me()(se,{prototype:!1,symbol:!0}),function(jt){return(0,r.A)(jt)==="symbol"})),B()(se)&&se.length>100){rt.unshift("virtual"),at=!0;var St=0,_t={};de()(Xe()(se,100),function(jt){var Ht=Object.create(null),Zt=St,rn="["+Zt;de()(jt,function(Qt){Ht[St]=Qt,_t[St]=!0,St++});var qt=St-1;bt[rn+=(qt-Zt>0?" … "+qt:"")+"]"]=Ht}),ft=te()(bt),Ge=He()(Ge,function(jt){return!_t[jt]})}if(de()(rt,function(jt){var Ht=[];Ht=jt==="symbol"?ht:jt==="unenumerable"?mt:jt==="virtual"?ft:Ge,at||ne()(Ht);for(var Zt=0,rn=Ht.length;Zt<rn;Zt++){var qt=tt()(Ht[Zt]),Qt="",Vt=Object.getOwnPropertyDescriptor(se,qt),ln=Vt&&Vt.get,bn=Vt&&Vt.set;if(ln&&!pe.options.accessGetter)Qt="(...)";else try{Qt=jt==="virtual"?bt[qt]:je[qt],D()(Qt)&&Qt.catch(be())}catch(dn){Qt=dn instanceof Error?dn.message:tt()(dn)}Ve+=pe.createEl(qt,se,Qt,jt,we),ln&&(Ve+=pe.createEl("get ".concat(qt),se,Vt.get,jt,we)),bn&&(Ve+=pe.createEl("set ".concat(qt),se,Vt.set,jt,we))}}),this.options.prototype){var xt=f()(se);if(!we&&xt)if(Ve===""){var Nt=me.set(xt,{self:se});this.map[Nt]=xt,Ve=this.objToHtml(xt)}else Ve+=this.createEl("[[Prototype]]",je||se,xt,"proto")}return Ve}},{key:"createEl",value:function(se,we,pe,me){var je=arguments.length>4&&arguments[4]!==void 0&&arguments[4],at=this.visitor,Le=this.c,Ve=(0,r.A)(pe),rt=j()(pe,!1);if(me==="virtual"&&(rt=se),pe===null)return"<li>".concat(_t(se),'<span class="').concat(Le("null"),'">null</span></li>');if(g()(pe)||m()(pe))return"<li>".concat(_t(se),'<span class="').concat(Le(Ve),'">').concat(re(pe),"</span></li>");if(rt==="RegExp"&&(Ve="regexp"),rt==="Number"&&(Ve="number"),rt==="Undefined"||rt==="Symbol")return"<li>".concat(_t(se),'<span class="').concat(Le("special"),'">').concat(h()(rt),"</span></li>");if(pe==="(...)")return"<li>".concat(_t(se),'<span class="').concat(Le("special"),'">').concat(pe,"</span></li>");if(_()(pe)){var Ge,mt=at.get(pe);if(mt)Ge=mt.id;else{var ht={};me==="proto"&&(ht.self=we),Ge=at.set(pe,ht),this.map[Ge]=pe}var ft="Object";ft=Ve==="regexp"?'<span class="'.concat(Le(Ve),'">').concat(re(pe)):re(function(xt,Nt){if(Nt)return Nt==="Function"?le(Y()(xt)):Nt==="Array"?"Array(".concat(xt.length,")"):Nt}(pe,rt)||x()(Ve));var bt=je?"":'<span class="'.concat(Le("expanded collapsed"),'"><span class="').concat(Le("icon icon-caret-right"),'"></span><span class="').concat(Le("icon icon-caret-down"),'"></span></span>'),St="<li ".concat(je?'data-first-level="true"':""," ").concat('data-object-id="'+Ge+'"',">").concat(bt).concat(_t(se),'<span class="').concat(Le("open"),'">').concat(je?"":ft,'</span><ul class="').concat(Le(Ve),'" ').concat(je?"":'style="display:none"',">");return je&&(St+=this.objToHtml(pe)),St+'</ul><span class="'.concat(Le("close"),'"></span></li>')}function _t(xt){if(je||_()(pe)&&me==="virtual")return"";var Nt=Le("key");return me==="unenumerable"||me==="symbol"?Nt=Le("key-lighter"):me==="proto"&&(Nt=Le("key-special")),'<span class="'.concat(Nt,'">').concat(re(xt),"</span>: ")}return Z()(pe)&&pe.length>1e4&&(pe=_e()(pe,50,{separator:" ",ellipsis:"…"})),"<li>".concat(_t(se),'<span class="').concat(Le((0,r.A)(pe)),'">"').concat(re(pe),'"</span></li>')}},{key:"render",value:function(){this.$container.html(this.objToHtml(this.data,!0))}},{key:"bindEvent",value:function(){var se=this;this.$container.on("click","li",this.onItemClick),this.on("changeOption",function(we,pe){switch(we){case"object":se.set(pe);break;case"unenumerable":case"prototype":case"accessGetter":se.render()}})}}])}(Lt);Oe.Static=dt,function(U,ke){try{U.exports=ke,U.exports.default=ke}catch{}}(n,Oe)},6948:function(n,t){var e=/<[^>]*>/g;t=function(r){return r.replace(e,"")},n.exports=t},6949:function(n,t,e){var r=e(365),o=e(6214);t=function(s,l){if(o(s))return s;if(l&&r(l,s))return[s];var c=[];return s.replace(i,function(d,f,p,g){c.push(p?g.replace(a,"$1"):f||d)}),c};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;n.exports=t},6962:function(n,t,e){var r=e(1909),o=e(1023),i=!1;function a(s){i&&t.emit(s)}t={start:function(){i=!0},stop:function(){i=!1}},o.mixin(t),r?(window.addEventListener("error",function(s){if(s.error)a(s.error);else if(s.message){var l=new Error(s.message);l.stack="Error: ".concat(s.message,` 
 at `).concat(s.filename,":").concat(s.lineno,":").concat(s.colno),a(l)}}),window.addEventListener("unhandledrejection",function(s){a(s.reason)})):(process.on("uncaughtException",a),process.on("unhandledRejection",a)),n.exports=t},6969:function(n,t,e){var r=e(5869),o=e(387),i=e(9931),a=e(365),s=e(7604);(t=r(function(f){if(f=f.replace(c,""),f=o(f),a(d,f))return f;for(var p=l.length;p--;){var g=l[p]+i(f);if(a(d,g))return g}return f})).dash=r(function(f){var p=t(f);return(c.test(p)?"-":"")+s(p)});var l=["O","ms","Moz","Webkit"],c=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,d=document.createElement("p").style;n.exports=t},7e3:function(n,t,e){var r=e(2263),o=new(e(3737))("(prefers-color-scheme: dark)");t={get:function(){return o.isMatch()?"dark":"light"}},r.mixin(t),o.on("match",function(){return t.emit("change","dark")}),o.on("unmatch",function(){return t.emit("change","light")}),n.exports=t},7005:function(n,t,e){var r=e(2717),o=e(5395);t=r({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(i){return this._items.push(i),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(i,a){a=arguments.length>1?a:this;for(var s=this._items,l=this.size-1,c=0;l>=0;l--,c++)i.call(a,s[l],c,this)},toArr:function(){return o(this._items)}}),n.exports=t},7030:function(n,t,e){var r=e(1738),o=e(2517),i=e(2561),a=e(6392);t=function(p,g,y,m){arguments.length===1&&r(p)&&!d.test(p)&&(g=p,p=void 0),p=p||new Date,o(p)||(p=new Date(p));var w=(g=i(t.masks[g]||g||t.masks.default)).slice(0,4);w!=="UTC:"&&w!=="GMT:"||(g=g.slice(4),y=!0,w==="GMT:"&&(m=!0));var h=y?"getUTC":"get",v=p[h+"Date"](),_=p[h+"Day"](),S=p[h+"Month"](),B=p[h+"FullYear"](),$=p[h+"Hours"](),x=p[h+"Minutes"](),G=p[h+"Seconds"](),te=p[h+"Milliseconds"](),ee=y?0:p.getTimezoneOffset(),de={d:v,dd:s(v),ddd:t.i18n.dayNames[_],dddd:t.i18n.dayNames[_+7],m:S+1,mm:s(S+1),mmm:t.i18n.monthNames[S],mmmm:t.i18n.monthNames[S+12],yy:i(B).slice(2),yyyy:B,h:$%12||12,hh:s($%12||12),H:$,HH:s($),M:x,MM:s(x),s:G,ss:s(G),l:s(te,3),L:s(Math.round(te/10)),t:$<12?"a":"p",tt:$<12?"am":"pm",T:$<12?"A":"P",TT:$<12?"AM":"PM",Z:m?"GMT":y?"UTC":(i(p).match(c)||[""]).pop().replace(f,""),o:(ee>0?"-":"+")+s(100*Math.floor(Math.abs(ee)/60)+Math.abs(ee)%60,4),S:["th","st","nd","rd"][v%10>3?0:(v%100-v%10!=10)*v%10]};return g.replace(l,function(ve){return ve in de?de[ve]:ve.slice(1,ve.length-1)})};var s=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(i(p),g,"0")},l=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/\d/,f=/[^-+\dA-Z]/g;t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},n.exports=t},7119:function(n){n.exports=`.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:'.SFNSDisplay-Regular','Helvetica Neue','Lucida Grande',sans-serif}.luna-dom-highlighter-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url('data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url('data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>')}.luna-dom-highlighter-a11y-icon-warning{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>')}.luna-dom-highlighter-a11y-icon-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}

/*# sourceMappingURL=luna-dom-highlighter.css.map*/`},7140:function(n,t){t=function(e,r){var o=[];r=r||1;for(var i=0,a=Math.ceil(e.length/r);i<a;i++){var s=i*r,l=s+r;o.push(e.slice(s,l))}return o},n.exports=t},7181:function(n,t){t=function(e){return!!window.ShadowRoot&&e instanceof ShadowRoot},n.exports=t},7214:function(n,t,e){var r,o=this&&this.__extends||(r=function(y,m){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,h){w.__proto__=h}||function(w,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(w[v]=h[v])},r(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function w(){this.constructor=y}r(y,m),y.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}),i=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(e(2263)),s=i(e(3693)),l=e(4725),c=i(e(9100)),d=i(e(8105)),f=i(e(5651)),p=i(e(961)),g=function(y){function m(w,h,v){var _=h.compName,S=(v===void 0?{}:v).theme,B=S===void 0?"light":S,$=y.call(this)||this;return $.subComponents=[],$.compName=_,$.c=(0,l.classPrefix)(_),$.options={},$.container=w,$.$container=(0,s.default)(w),$.$container.addClass(["luna-".concat(_),$.c("platform-".concat((0,l.getPlatform)()))]),$.on("optionChange",function(x,G,te){var ee=$.c;x==="theme"&&($.$container.rmClass(ee("theme-".concat(te))).addClass(ee("theme-".concat(G))),(0,c.default)($.subComponents,function(de){return de.setOption("theme",G)}))}),$.setOption("theme",B),$}return o(m,y),m.prototype.destroy=function(){this.destroySubComponents();var w=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(w("platform-".concat((0,l.getPlatform)()))).rmClass(w("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},m.prototype.setOption=function(w,h){var v=this,_=this.options,S={};typeof w=="string"?S[w]=h:S=w,(0,c.default)(S,function(B,$){var x=_[$];_[$]=B,v.emit("optionChange",$,B,x)})},m.prototype.getOption=function(w){return this.options[w]},m.prototype.addSubComponent=function(w){w.setOption("theme",this.options.theme),this.subComponents.push(w)},m.prototype.removeSubComponent=function(w){(0,p.default)(this.subComponents,function(h){return h===w})},m.prototype.destroySubComponents=function(){(0,c.default)(this.subComponents,function(w){return w.destroy()}),this.subComponents=[]},m.prototype.initOptions=function(w,h){h===void 0&&(h={}),(0,f.default)(w,h),(0,d.default)(this.options,w)},m.prototype.find=function(w){return this.$container.find(this.c(w))},m}(a.default);t.default=g},7236:function(n,t,e){var r=e(8971),o=e(9100),i=e(3612);function a(s){return function(l,c){var d=(l=i(l))[0];if(r(c))return d?d[s]:"";d&&o(l,function(f){f[s]=c})}}t={html:a("innerHTML"),text:a("textContent"),val:a("value")},n.exports=t},7253:function(n,t,e){(t=e(6314)(!1)).push([n.id,`@font-face{font-family:luna-tab-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-tab-icon-'],[class^=luna-tab-icon-]{display:inline-block;font-family:luna-tab-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-tab-icon-close:before{content:'\\f101'}.luna-tab{position:relative;overflow:hidden;width:100%;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-tab .luna-tab-hidden,.luna-tab.luna-tab-hidden{display:none}.luna-tab .luna-tab-invisible,.luna-tab.luna-tab-invisible{visibility:hidden}.luna-tab *{box-sizing:border-box}.luna-tab.luna-tab-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-tab-tabs-container{border-bottom:1px solid}.luna-tab-tabs{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;width:100%;height:100%;font-size:0;white-space:nowrap}.luna-tab-tabs::-webkit-scrollbar{display:none;width:0;height:0}.luna-tab-item{display:inline-flex;cursor:pointer;padding:0 10px;font-size:12px;text-align:center;text-transform:capitalize}.luna-tab-item.luna-tab-selected .luna-tab-close-container,.luna-tab-item:hover .luna-tab-close-container{opacity:1}.luna-tab-close-container{display:flex;height:100%;width:12px;align-items:center;justify-content:center;opacity:0}.luna-tab-close{position:relative;left:4px;border-radius:2px;width:14px;height:14px;cursor:pointer;line-height:14px}.luna-tab-icon-close{font-size:14px}.luna-tab-slider{transition:left .3s,width .3s;height:1px;position:absolute;bottom:0;left:0}.luna-tab-theme-light .luna-tab-tabs-container{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-tab-theme-light .luna-tab-item.luna-tab-selected{color:#1a73e8;color:var(--luna-color-primary,#1a73e8)}.luna-tab-theme-light .luna-tab-item:hover{color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-tab-theme-light .luna-tab-close{color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88))}.luna-tab-theme-light .luna-tab-close:hover{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-tab-theme-light .luna-tab-slider{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-tab-theme-dark .luna-tab-tabs-container{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-tab-theme-dark .luna-tab-item.luna-tab-selected{color:#1965c8;color:var(--luna-color-primary,#1965c8)}.luna-tab-theme-dark .luna-tab-item:hover{color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-tab-theme-dark .luna-tab-close{color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85))}.luna-tab-theme-dark .luna-tab-close:hover{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-tab-theme-dark .luna-tab-slider{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}`,""]),n.exports=t},7257:function(n,t,e){var r=e(9405),o=e(9100),i=e(8971),a=e(6214),s=e(3915),l=e(9464),c=e(2571),d=e(9760);t={parse:function(p){var g={};return p=r(p).replace(f,""),o(p.split("&"),function(y){var m=y.split("="),w=m.shift(),h=m.length>0?m.join("="):null;w=decodeURIComponent(w),h=decodeURIComponent(h),i(g[w])?g[w]=h:a(g[w])?g[w].push(h):g[w]=[g[w],h]}),g},stringify:function(p,g){return c(s(p,function(y,m){return d(y)&&l(y)?"":a(y)?t.stringify(y,m):encodeURIComponent(g||m)+"="+encodeURIComponent(y)}),function(y){return y.length>0}).join("&")}};var f=/^(\?|#|&)/g;n.exports=t},7308:function(n,t,e){var r=e(9100),o=e(1738),i=e(8971),a=e(3249),s=e(6214),l=e(9760),c=e(769);(t=function(g,y){if(i(g))return m={},f(function(h,v){m[h]=v}),m;var m;if(o(g)&&i(y)||s(g))return function(h){if(!o(h)){var v={};return f(function(S,B){a(h,S)&&(v[S]=B)}),v}var _=p(h);if(_)return _.getAttribute("content")}(g);var w=g;l(w)||((w={})[g]=y),function(h){r(h,function(v,_){var S=p(_);if(S)return S.setAttribute("content",v);(S=d.createElement("meta")).setAttribute("name",_),S.setAttribute("content",v),d.head.appendChild(S)})}(w)}).remove=function(g){g=c(g),r(g,function(y){var m=p(y);m&&d.head.removeChild(m)})};var d=document;function f(g){var y=d.querySelectorAll("meta");r(y,function(m){var w=m.getAttribute("name"),h=m.getAttribute("content");w&&h&&g(w,h)})}function p(g){return d.querySelector('meta[name="'+g+'"]')}n.exports=t},7375:function(n,t){t=function(e,r,o){return Array.prototype.indexOf.call(e,r,o)},n.exports=t},7468:function(n,t,e){var r=e(3145);t=function(o,i){var a=r(i),s=a.length;if(o==null)return!s;o=Object(o);for(var l=0;l<s;l++){var c=a[l];if(i[c]!==o[c]||!(c in o))return!1}return!0},n.exports=t},7514:function(n,t,e){var r=e(3145),o=e(5427),i=e(438),a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols;t=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c.prototype,f=d===void 0||d,p=c.unenumerable,g=p!==void 0&&p,y=c.symbol,m=y!==void 0&&y,w=[];if((g||m)&&a){var h=r;g&&a&&(h=a);do w=w.concat(h(l)),m&&s&&(w=w.concat(s(l)));while(f&&(l=o(l))&&l!==Object.prototype);w=i(w)}else if(f)for(var v in l)w.push(v);else w=r(l);return w},n.exports=t},7528:function(n,t,e){function r(o,i){return i||(i=o.slice(0)),Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))}e.d(t,{A:function(){return r}})},7542:function(n,t){t=function(e,r){var o;return function(){return--e>0&&(o=r.apply(this,arguments)),e<=1&&(r=null),o}},n.exports=t},7571:function(n,t,e){var r=e(2263),o=e(6186),i=window.screen;t={get:function(){if(i){var a=o(i,"orientation.type");if(a)return a.split("-").shift()}return window.innerWidth>window.innerHeight?"landscape":"portrait"}},r.mixin(t),window.addEventListener("orientationchange",function(){setTimeout(function(){t.emit("change",t.get())},200)},!1),n.exports=t},7604:function(n,t,e){var r=e(6833);t=function(o){return r(o).join("-")},n.exports=t},7622:function(n,t,e){var r=e(2263),o=e(2192),i=e(769),a=e(8971),s=e(8420),l=e(1738),c=e(6097);t=r.extend({initialize:function(d,f){this.name=d,this.setLevel(a(f)?t.level.DEBUG:f),this.callSuper(r,"initialize",arguments)},setLevel:function(d){return l(d)?((d=t.level[d.toUpperCase()])&&(this._level=d),this):(c(d)&&(this._level=d),this)},getLevel:function(){return this._level},formatter:function(d,f){return f},trace:function(){return this._log("trace",arguments)},debug:function(){return this._log("debug",arguments)},info:function(){return this._log("info",arguments)},warn:function(){return this._log("warn",arguments)},error:function(){return this._log("error",arguments)},_log:function(d,f){return(f=i(f)).length===0?this:(this.emit("all",d,s(f)),t.level[d.toUpperCase()]<this._level||(this.emit(d,s(f)),(d==="debug"?console.log:console[d]).apply(console,this.formatter(d,f))),this)}},{level:new o({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5})}),n.exports=t},7661:function(n,t,e){var r=e(769),o=e(2797),i=e(3612),a=e(1738),s=e(9100);function l(c){return a(c)?c.split(/\s+/):r(c)}t={add:function(c,d){c=i(c);var f=l(d);s(c,function(p){var g=[];s(f,function(y){t.has(p,y)||g.push(y)}),g.length!==0&&(p.className+=(p.className?" ":"")+g.join(" "))})},has:function(c,d){c=i(c);var f=new RegExp("(^|\\s)"+d+"(\\s|$)");return o(c,function(p){return f.test(p.className)})},toggle:function(c,d){c=i(c),s(c,function(f){if(!t.has(f,d))return t.add(f,d);t.remove(f,d)})},remove:function(c,d){c=i(c);var f=l(d);s(c,function(p){s(f,function(g){p.classList.remove(g)})})}},n.exports=t},7696:function(n,t){t=function(e){var r=typeof e;return e==null||r!=="function"&&r!=="object"},n.exports=t},7731:function(module,exports$1,__webpack_require__){var random=__webpack_require__(6774),isBrowser=__webpack_require__(1909),isNode=__webpack_require__(621),crypto;exports$1=function(n){for(var t=new Uint8Array(n),e=0;e<n;e++)t[e]=random(0,255);return t},isBrowser?(crypto=window.crypto||window.msCrypto,crypto&&(exports$1=function(n){var t=new Uint8Array(n);return crypto.getRandomValues(t),t})):isNode&&(crypto=eval("require")("crypto"),exports$1=function(n){return crypto.randomBytes(n)}),module.exports=exports$1},7744:function(n,t,e){var r=e(2263),o=e(1738),i=e(9760),a=e(9100),s=e(769);t=r.extend({initialize:function(l){this.callSuper(r,"initialize",arguments),this._data=l||{},this.save(this._data)},set:function(l,c){var d;o(l)?(d={})[l]=c:i(l)&&(d=l);var f=this;a(d,function(p,g){var y=f._data[g];f._data[g]=p,f.emit("change",g,p,y)}),this.save(this._data)},get:function(l){var c=this._data;if(o(l))return c[l];var d={};return a(l,function(f){d[f]=c[f]}),d},remove:function(l){l=s(l);var c=this._data;a(l,function(d){delete c[d]}),this.save(c)},clear:function(){this._data={},this.save(this._data)},each:function(l){a(this._data,l)},save:function(l){this._data=l}}),n.exports=t},7800:function(n,t,e){e.d(t,{A:function(){return o}});var r=e(5526);function o(i,a){if(i){if(typeof i=="string")return(0,r.A)(i,a);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?(0,r.A)(i,a):void 0}}},7853:function(n,t,e){(t=e(6314)(!1)).push([n.id,`@font-face{font-family:luna-console-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAaoAAsAAAAACnAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAIsAAADcIw4ngk9TLzIAAAGUAAAAPgAAAFZWmlGRY21hcAAAAdQAAAD4AAACyDWnbdFnbHlmAAACzAAAAZsAAAH8Lq6nDGhlYWQAAARoAAAAMQAAADZ25cSzaGhlYQAABJwAAAAdAAAAJAgCBBRobXR4AAAEvAAAABcAAABYGAH//GxvY2EAAATUAAAAGAAAAC4JNAjUbWF4cAAABOwAAAAfAAAAIAEjAFBuYW1lAAAFDAAAASkAAAIWm5e+CnBvc3QAAAY4AAAAcAAAAJ7p9v7ZeJxNjT0OgkAQhb9FFllBFMHGwjN4AipiZckFaDAmxIojeHDf7oboTObvvZk3GGDHjY6kvz8Gqnlc3lxIieb5/97Mr+dIvk7i0lBzxQfLkZ6BiYWEjKtyIc7pR0GpWnOiUW+E/PA9FQfdRj0r3AlxYc7kZ221IXtko/C3cd+Grytr2UrTq9VfrRAJ0wB4nGNgZBRnnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+ysYC4MSxMYGFGEAEAtDUIzAAAeJzN0s1OwkAUhuF36A8gtBYKiQsXxrVeFEGibJAQCPfgBbnypuYK8Dszx40xJu48kyekH+3M6XSACijkQUoIHwSs3pWGlBdcpbzkTdcLOiUlj6zYsGXPgRPnWF8u+tfSNc/slB6VhpR+r6BZbNxwy53GvQZMGTGk0WpzemZap9U9YyYsudYzg7RuRa0J6h9m/a2mf7zfSt006qWf2UXXplask/9S6Z3C15stsd3PLFu5kazdUJ5cIxun76tvls3lxfWydbYLO9fJq2tl7xZycGM5uomcnPV5dtrLGDI7a3GQYb9FZmczlpmdz1hldm5jnVF/Akk1KvR4nF1RTW8TMRCdZ3udBsSWBcdLG9UlG623pKihaeIIIZVUiHOknlAVNQgu0Jx6oB9/olz4BUXiyv+AAxz4BT1wRIJDT+wG7woQwhqN3vi9Nx6NCeQPf8oDYkRogU/z5xhzUbz2ZcmxD3xccRHwBId8nD/D2FvmOZHgglFIy9QmSrEBWYM02Gr1toG+6+lGpGRiB3Fiy0pJ/q2YKOeUz3W3zu+tu3r+0XSMj61mmro0fcPv2mbT/vyS7Vi7w/YaxjSKd2W+TAfWDtJqpPncvw1B1KFHfjK5CJltILMP0fVTOL0KH0OnY73IYl0LUZNd2C5SFRvEujfc9my/siQVi8vrrQe3Vq7dYEK9SnYjdvtO9JIJfqrvS9E4uHocXxE6XFIzJlherGVnk+nn6eQsW/sH4r3v8Vt31NqNOqssOmBBcBLfNMtqtnASr4Rl/xmT4vGL/90VpD87/8T3KfA7zeoYAocjmOJihP1zD2BGxTmVP+LT90oXeuWwjgyB0j3Xt4nEj1FxUSrf4muy2W5vJn+tbCkpb7z7FwBKXUkAeJxjYGRgYADikOXX2uP5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMASwoLJgAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFYgBbLQQgAAAAeJxjYGBgYIHj/3+B+D+MTwkAACOnBBMAeJxjYAACPgYZhiiGEwx3GP7hhwBJdRIJeJxjYGRgYBBjcGFgZgABJiDmAkIGhv9gPgMAEYUBdAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG3GSw6CMBRA0XeRohb/H1wFi2qAQCcteWnT7WvC1DO5VyrZWPmvo2JHjaFhz4EjlpYTZy5cuXHnwZMXbzo+YgenU+rHWEK7rfp5SXVxGsykGtX4sObUxJx+YcChTCR6RiKFgGdmYSWLfAGgdBim') format('woff')}[class*=' luna-console-icon-'],[class^=luna-console-icon-]{display:inline-block;font-family:luna-console-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-console-icon-caret-down:before{content:'\\f101'}.luna-console-icon-caret-right:before{content:'\\f102'}.luna-console-icon-warn:before{content:'\\f103'}.luna-console-icon-error:before{content:'\\f104'}.luna-console-icon-input:before{content:'\\f105'}.luna-console-icon-output:before{content:'\\f106'}.luna-console{background:#fff;overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;position:relative;will-change:scroll-position;cursor:default;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console.luna-console-theme-dark{background-color:#141414}.luna-console-hidden{display:none}.luna-console-fake-logs{position:absolute;left:0;top:0;pointer-events:none;visibility:hidden;width:100%}.luna-console-logs{padding-top:1px;position:absolute;width:100%}.luna-console-log-container{box-sizing:content-box}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:#ecf1f8}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#ccdef5}.luna-console-header{white-space:nowrap;display:flex;font-size:11px;color:#545454;border-top:1px solid transparent;border-bottom:1px solid #ccc}.luna-console-header .luna-console-time-from-container{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:3px 10px}.luna-console-nesting-level{width:14px;flex-shrink:0;margin-top:-1px;margin-bottom:-1px;position:relative;border-right:1px solid #ccc}.luna-console-nesting-level.luna-console-group-closed::before{content:""}.luna-console-nesting-level::before{border-bottom:1px solid #ccc;position:absolute;top:0;left:0;margin-left:100%;width:5px;height:100%;box-sizing:border-box}.luna-console-log-item{position:relative;display:flex;border-top:1px solid transparent;border-bottom:1px solid #ccc;margin-top:-1px;color:#333}.luna-console-log-item:after{content:"";display:block;clear:both}.luna-console-log-item .luna-console-code{display:inline;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console-log-item .luna-console-code .luna-console-keyword{color:#881280}.luna-console-log-item .luna-console-code .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-code .luna-console-operator{color:gray}.luna-console-log-item .luna-console-code .luna-console-comment{color:#236e25}.luna-console-log-item .luna-console-code .luna-console-string{color:#1a1aa6}.luna-console-log-item a{color:#15c!important}.luna-console-log-item .luna-console-icon-container{margin:0 -6px 0 10px}.luna-console-log-item .luna-console-icon-container .luna-console-icon{line-height:20px;font-size:12px;color:#333;position:relative}.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-right{top:0;left:-2px}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{top:0;color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{top:0;color:#e8a400}.luna-console-log-item .luna-console-count{background:#8097bd;color:#fff;padding:2px 4px;border-radius:10px;font-size:12px;float:left;margin:1px -6px 0 10px}.luna-console-log-item .luna-console-log-content-wrapper{flex:1;overflow:hidden}.luna-console-log-item .luna-console-log-content{padding:3px 0;margin:0 10px;overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content>*{vertical-align:top}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#5e5e5e}.luna-console-log-item .luna-console-log-content .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:#0d22aa}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#881391}.luna-console-log-item .luna-console-data-grid,.luna-console-log-item .luna-console-dom-viewer{white-space:initial}.luna-console-log-item.luna-console-error{z-index:50;background:#fff0f0;color:red;border-top:1px solid #ffd6d6;border-bottom:1px solid #ffd6d6}.luna-console-log-item.luna-console-error .luna-console-stack{padding-left:1.2em;white-space:nowrap}.luna-console-log-item.luna-console-error .luna-console-count{background:red}.luna-console-log-item.luna-console-debug{z-index:20}.luna-console-log-item.luna-console-input{border-bottom-color:transparent}.luna-console-log-item.luna-console-warn{z-index:40;color:#5c5c00;background:#fffbe5;border-top:1px solid #fff5c2;border-bottom:1px solid #fff5c2}.luna-console-log-item.luna-console-warn .luna-console-count{background:#e8a400}.luna-console-log-item.luna-console-info{z-index:30}.luna-console-log-item.luna-console-group,.luna-console-log-item.luna-console-groupCollapsed{font-weight:700}.luna-console-preview{display:inline-block}.luna-console-preview .luna-console-preview-container{display:flex;align-items:center}.luna-console-preview .luna-console-json{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-left:12px}.luna-console-preview .luna-console-preview-icon-container{display:block}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon{position:relative;font-size:12px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-down{top:2px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-right{top:1px}.luna-console-preview .luna-console-preview-content-container{word-break:break-all}.luna-console-preview .luna-console-descriptor,.luna-console-preview .luna-console-object-preview{font-style:italic}.luna-console-preview .luna-console-key{color:#881391}.luna-console-preview .luna-console-number{color:#1c00cf}.luna-console-preview .luna-console-null{color:#5e5e5e}.luna-console-preview .luna-console-string{color:#c41a16}.luna-console-preview .luna-console-boolean{color:#0d22aa}.luna-console-preview .luna-console-special{color:#5e5e5e}.luna-console-theme-dark{color-scheme:dark}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item{background:#29323d}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#4173b4}.luna-console-theme-dark .luna-console-log-item{color:#a5a5a5;border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-keyword{color:#e36eec}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-operator{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-comment{color:#747474}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-log-item.luna-console-error{background:#290000;color:#ff8080;border-top-color:#5c0000;border-bottom-color:#5c0000}.luna-console-theme-dark .luna-console-log-item.luna-console-error .luna-console-count{background:#ff8080}.luna-console-theme-dark .luna-console-log-item.luna-console-warn{color:#ffcb6b;background:#332a00;border-top-color:#650;border-bottom-color:#650}.luna-console-theme-dark .luna-console-log-item .luna-console-count{background:#42597f;color:#949494}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-boolean,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#e36eec}.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-right{color:#9aa0a6}.luna-console-theme-dark .luna-console-header{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level{border-right-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level::before{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-preview .luna-console-key{color:#e36eec}.luna-console-theme-dark .luna-console-preview .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-null{color:#7f7f7f}.luna-console-theme-dark .luna-console-preview .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-preview .luna-console-boolean{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-special{color:#7f7f7f}`,""]),n.exports=t},8009:function(n,t,e){var r=e(6513);t=function(o,i){o.prototype=r(i.prototype)},n.exports=t},8032:function(n,t,e){var r=e(2989),o=e(9931),i=e(2561),a=e(8971),s=e(3957),l=e(1976);t=function(c,d){return JSON.stringify(c,(f=[],p=[],function(g,y){if(f.length>0){var m=f.indexOf(this);m>-1?(f.splice(m+1),p.splice(m,1/0,g)):(f.push(this),p.push(g));var w=f.indexOf(y);w>-1&&(y=f[0]===y?"[Circular ~]":"[Circular ~."+p.slice(0,w).join(".")+"]")}else f.push(y);return l(y)||s(y)?y="["+o(r(y))+" "+i(y)+"]":a(y)&&(y=null),y}),d);var f,p},n.exports=t},8046:function(n,t,e){var r=e(7731);t=function(){var a=r(16);return a[6]=15&a[6]|64,a[8]=63&a[8]|128,o[a[0]]+o[a[1]]+o[a[2]]+o[a[3]]+"-"+o[a[4]]+o[a[5]]+"-"+o[a[6]]+o[a[7]]+"-"+o[a[8]]+o[a[9]]+"-"+o[a[10]]+o[a[11]]+o[a[12]]+o[a[13]]+o[a[14]]+o[a[15]]};for(var o=[],i=0;i<256;i++)o[i]=(i+256).toString(16).substr(1);n.exports=t},8052:function(n,t,e){e.d(t,{A:function(){return ot}});var r=e(7528),o=e(3029),i=e(2901),a=e(388),s=e(3954),l=e(5361),c=e(2263),d=e.n(c),f=e(3693),p=e.n(f),g=e(3915),y=e.n(g),m=e(9405),w=e.n(m),h=e(5169),v=e.n(h),_=e(9548),S=e.n(_),B=e(6097),$=e.n(B),x=e(3249),G=e.n(x),te=(e(6030),e(5004)),ee=e.n(te);e(9410),e(8609);function de(be){var ye="luna-".concat(be,"-");function ne(J){return y()(w()(J).split(/\s+/),function(M){return G()(M,ye)?M:M.replace(/[\w-]+/,function(ae){return"".concat(ye).concat(ae)})}).join(" ")}return function(J){if(/<[^>]*>/g.test(J))try{var M=S().parse(J);return ve(M,function(ae){ae.attrs&&ae.attrs.class&&(ae.attrs.class=ne(ae.attrs.class))}),S().stringify(M)}catch{return ne(J)}return ne(J)}}function ve(be,ye){for(var ne=0,J=be.length;ne<J;ne++){var M=be[ne];ye(M),M.content&&ve(M.content,ye)}}var Y;v();var z=e(9100),D=e.n(z),N=e(8105),j=e.n(N),P=e(5651),E=e.n(P),K=e(961),q=e.n(K),Ae=e(7e3),_e=e.n(Ae),Ce=e(1009),Z=e.n(Ce);function fe(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fe=function(){return!!be})()}var Me,Pe=function(be){function ye(ne,J){var M,ae,H=J.compName,he=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Te=he===void 0?"light":he;return(0,o.A)(this,ye),M=function(oe,re,le){return re=(0,s.A)(re),(0,a.A)(oe,fe()?Reflect.construct(re,[],(0,s.A)(oe).constructor):re.apply(oe,le))}(this,ye),M.subComponents=[],M.theme="",M.onThemeChange=function(oe){M.options.theme==="auto"&&M.setTheme(oe)},M.compName=H,M.c=de(H),M.options={},M.container=ne,M.$container=p()(ne),M.$container.addClass(["luna-".concat(H),M.c("platform-".concat((ae=ee()(),ae==="os x"?"mac":ae)))]),M.on("changeOption",function(oe,re){if(oe==="theme"&&re){var le=re;re==="auto"&&(le=_e().get()),M.setTheme(le),D()(M.subComponents,function(Ie){return Ie.setOption("theme",re)})}}),_e().on("change",M.onThemeChange),M.setOption("theme",Te),M}return(0,l.A)(ye,be),(0,i.A)(ye,[{key:"destroy",value:function(){var ne=this;this.destroySubComponents();var J=this.$container,M=J.attr("class");D()(M.split(/\s+/),function(ae){Z()(ae,"luna-".concat(ne.compName))&&J.rmClass(ae)}),J.html(""),this.emit("destroy"),this.removeAllListeners(),_e().off("change",this.onThemeChange)}},{key:"setOption",value:function(ne,J){var M=this,ae=this.options,H={};typeof ne=="string"?H[ne]=J:H=ne,D()(H,function(he,Te){var oe=ae[Te];ae[Te]=he,he!==oe&&M.emit("changeOption",Te,he,oe)})}},{key:"getOption",value:function(ne){return this.options[ne]}},{key:"addSubComponent",value:function(ne){ne.setOption("theme",this.options.theme),this.subComponents.push(ne)}},{key:"removeSubComponent",value:function(ne){q()(this.subComponents,function(J){return J===ne})}},{key:"destroySubComponents",value:function(){D()(this.subComponents,function(ne){return ne.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(ne){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E()(ne,J),j()(this.options,ne)}},{key:"find",value:function(ne){return this.$container.find(this.c(ne))}},{key:"setTheme",value:function(ne){var J=this.c,M=this.$container;this.theme&&M.rmClass(J("theme-".concat(this.theme))),M.addClass(J("theme-".concat(ne))),this.theme=ne}}])}(d()),He=e(5773),Ye=e.n(He),Xe=e(5902),qe=e.n(Xe);function tt(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tt=function(){return!!be})()}n=e.hmd(n);var ot=function(be){function ye(ne){var J,M,ae,H,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,o.A)(this,ye),M=this,ae=ye,H=[ne,{compName:"tab"},he],ae=(0,s.A)(ae),(J=(0,a.A)(M,tt()?Reflect.construct(ae,H||[],(0,s.A)(M).constructor):ae.apply(M,H))).initOptions(he,{height:30}),J.initTpl(),J.$tabs=J.find(".tabs"),J.tabs=J.$tabs.get(0),J.$slider=J.find(".slider"),J.bindEvent(),J.updateHeight(),J}return(0,l.A)(ye,be),(0,i.A)(ye,[{key:"length",get:function(){return this.$tabs.find(this.c(".item")).length}},{key:"insert",value:function(ne,J){var M=this.c,ae=this.$tabs,H=this.options.height-1,he=ae.find(M(".item")),Te=he.length,oe='<div class="'.concat(M("item"),'" data-id="').concat(qe()(J.id),'" ').concat(J.closeable?'data-closeable="true"':"",' style="height: ').concat(H,"px; line-height: ").concat(H,'px;"><span class="').concat(M("title"),'">').concat(qe()(J.title),"</span>").concat(J.closeable?'<div class="'.concat(M("close-container"),'"><div class="').concat(M("close"),'"><span class="').concat(M("icon-close"),'"></span></div></div>'):"","</div>");ne>Te-1?ae.append(oe):he.eq(ne).before(oe),this.updateSlider()}},{key:"append",value:function(ne){this.insert(this.length,ne)}},{key:"remove",value:function(ne){var J=this.c;if(this.length!==1){var M=this;this.$tabs.find(J(".item")).each(function(ae){var H=p()(this);if(H.data("id")===ne){if(H.remove(),H.hasClass(J("selected")))if(M.length>0){var he=ae===M.length?ae-1:ae,Te=M.$tabs.find(J(".item")).eq(he).data("id");M.select(Te)}else M.emit("deselect");H.data("closeable")&&M.emit("close",ne)}}),this.updateSlider()}}},{key:"select",value:function(ne){var J=this.c,M=this;this.$tabs.find(J(".item")).each(function(){var ae=p()(this);ae.data("id")===ne?(ae.addClass(J("selected")),M.updateSlider(),M.scrollToSelected(),M.emit("select",ne)):ae.rmClass(J("selected"))})}},{key:"deselect",value:function(){var ne=this.c;this.$tabs.find(ne(".item")).each(function(){p()(this).rmClass(ne("selected"))}),this.emit("deselect"),this.updateSlider()}},{key:"scrollToSelected",value:function(){var ne,J=this.$tabs,M=this.tabs,ae=this.c,H=J.find(ae(".selected")).get(0),he=H.offsetLeft,Te=H.offsetWidth,oe=M.offsetWidth,re=M.scrollLeft;he<re?ne=he:he+Te>oe+re&&(ne=he+Te-oe),$()(ne)&&(M.scrollLeft=ne)}},{key:"hideScrollbar",value:function(){var ne=this.$tabs;if(getComputedStyle(this.tabs,"::-webkit-scrollbar").display!=="none"){var J=function(){if($()(Y))return Y;if(!document)return 16;var M=document.createElement("div"),ae=document.createElement("div");M.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),ae.setAttribute("style","height: 200px"),M.appendChild(ae);var H=document.body||document.documentElement;return H.appendChild(M),Y=M.offsetWidth-M.clientWidth,H.removeChild(M),Y}();ne.css("height",this.options.height-1+J+"px")}}},{key:"updateSlider",value:function(){var ne=this.$slider,J=this.$tabs,M=this.c,ae=J.find(M(".selected")).get(0);ae?ne.css({width:ae.offsetWidth,left:ae.offsetLeft-J.get(0).scrollLeft}):ne.css({width:0})}},{key:"updateHeight",value:function(){var ne=this.options.height,J=ne-1;this.find(".tabs-container").css("height",ne+"px"),this.find(".item").css({height:J,lineHeight:J}),this.hideScrollbar()}},{key:"bindEvent",value:function(){var ne=this,J=this.tabs,M=this.c;this.on("changeOption",function(H){H==="height"&&ne.updateHeight()});var ae=this;this.$tabs.on("wheel",function(H){H.preventDefault(),J.scrollLeft+=H.origEvent.deltaY}).on("click",M(".item"),function(){var H=p()(this);ae.select(H.data("id"))}).on("click",M(".close"),function(H){H.stopPropagation();var he=p()(this).parent().parent();ae.remove(he.data("id"))}).on("scroll",function(){ne.updateSlider()})}},{key:"initTpl",value:function(){this.$container.html(this.c(Ye()(Me||(Me=(0,r.A)([`
        <div class="tabs-container">
          <div class="tabs"></div>
        </div>
        <div class="slider"></div>
      `])))))}}])}(Pe);(function(be,ye){try{be.exports=ye,be.exports.default=ye}catch{}})(n,ot)},8091:function(n,t,e){var r=e(282),o=e(9100),i=e(5207);function a(s){return'<a href="'+s+'">'+s+"</a>"}t=function(s,l){l=l||a;var c=r(s);return o(c,function(d){s=s.replace(new RegExp(i(d),"g"),l)}),s},n.exports=t},8098:function(n,t,e){var r=e(5693),o=e(5793),i=e(3145);t=function(a,s,l){s=r(s,l);for(var c=!o(a)&&i(a),d=(c||a).length,f=0;f<d;f++){var p=c?c[f]:f;if(!s(a[p],p,a))return!1}return!0},n.exports=t},8105:function(n,t,e){t=e(6307)(e(7514)),n.exports=t},8178:function(n,t,e){t=e(2510)(function(r,o){for(var i=r.length,a=0,s=o.length;a<s;a++)for(var l=o[a],c=0,d=l.length;c<d;c++)r[i++]=l[c];return r.length=i,r}),n.exports=t},8239:function(n,t,e){(t=e(6314)(!1)).push([n.id,'#_network ._network{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:39px}#_network ._control{padding:10px;border-bottom:none;position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border)}#_network ._control [class*=" _icon-"],#_network ._control [class^=eruda-icon-]{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_network ._control [class*=" _icon-"]._active,#_network ._control [class*=" _icon-"]:active,#_network ._control [class^=eruda-icon-]._active,#_network ._control [class^=eruda-icon-]:active{color:var(--accent)}#_network ._control ._title{font-size:14px}#_network ._control ._icon-clear{left:23px}#_network ._control ._icon-eye{right:0}#_network ._control ._icon-copy{right:23px}#_network ._control ._icon-filter{right:46px}#_network ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:88px;font-size:14px;text-overflow:ellipsis}#_network ._control ._icon-record{left:0}#_network ._control ._icon-record._recording{color:var(--console-error-foreground);text-shadow:0 0 4px var(--console-error-foreground)}#_network ._request-error{color:var(--console-error-foreground)}#_network .luna-data-grid:focus .luna-data-grid-data-container ._request-error.luna-data-grid-selected{background:var(--console-error-background)}#_network .luna-data-grid{border-left:none;border-right:none}#_network ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;display:none;padding-top:40px;background:var(--background)}#_network ._detail ._control{padding:10px 35px;border-bottom:1px solid var(--border)}#_network ._detail ._control ._url{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_network ._detail ._control ._icon-arrow-left{left:0}#_network ._detail ._control ._icon-delete{left:0;display:none}#_network ._detail ._control ._icon-copy{right:0}#_network ._detail ._http{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_network ._detail ._http ._section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-top:10px;margin-bottom:10px}#_network ._detail ._http ._section h2{background:var(--darker-background);color:var(--primary);padding:10px;line-height:18px;font-size:14px}#_network ._detail ._http ._section table{color:var(--foreground)}#_network ._detail ._http ._section table *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_network ._detail ._http ._section table td{font-size:12px;padding:5px 10px;word-break:break-all}#_network ._detail ._http ._section table ._key{white-space:nowrap;font-weight:700;color:var(--accent)}#_network ._detail ._http ._data,#_network ._detail ._http ._response{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:12px;margin:10px 0;white-space:pre-wrap;border-top:1px solid var(--border);color:var(--foreground);border-bottom:1px solid var(--border)}._safe-area #_network ._http{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_network ._network ._control ._icon-eye{display:none}#_network ._network ._control ._icon-copy{right:0}#_network ._network ._control ._icon-filter{right:23px}#_network ._network ._control ._filter-text{right:55px}#_network ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_network ._detail ._control ._icon-arrow-left{display:none}#_network ._detail ._control ._icon-delete{display:block}}',""]),n.exports=t},8420:function(n,t,e){var r=e(9760),o=e(6214),i=e(8105);t=function(a){return r(a)?o(a)?a.slice():i({},a):a},n.exports=t},8438:function(n,t,e){var r=e(6195),o=e(6167),i=e(5793),a=e(8971);t=function(s,l,c){var d=(i(s)?o:r)(s,l,c);if(!a(d)&&d!==-1)return s[d]},n.exports=t},8534:function(n,t,e){var r=e(5869),o=e(8971),i=e(387);t=r(function(s,l){return o(l)?(s=i(s),!o(a[s])):(a.cssText="",a.cssText=s+":"+l,!!a.length)},function(s,l){return s+" "+l});var a=document.createElement("p").style;n.exports=t},8604:function(n,t,e){var r=e(9100),o=e(3612);t=function(a){a=o(a),r(a,function(s){(function(l){return getComputedStyle(l,"").getPropertyValue("display")=="none"})(s)&&(s.style.display=function(l){var c,d;return i[l]||(c=document.createElement(l),document.documentElement.appendChild(c),d=getComputedStyle(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),d=="none"&&(d="block"),i[l]=d),i[l]}(s.nodeName))})};var i={};n.exports=t},8609:function(n,t,e){var r=e(5169),o=r.getComputedStyle,i=r.document;function a(s,l){return s.right<l.left||s.left>l.right||s.bottom<l.top||s.top>l.bottom}t=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.display,d=c===void 0||c,f=l.visibility,p=f!==void 0&&f,g=l.opacity,y=g!==void 0&&g,m=l.size,w=m!==void 0&&m,h=l.viewport,v=h!==void 0&&h,_=l.overflow,S=_!==void 0&&_,B=o(s);if(d){var $=s.tagName;if($==="BODY"||$==="HTML"||B.position==="fixed"){if(B.display==="none")return!0;for(var x=s;x=x.parentElement;)if(o(x).display==="none")return!0}else if(s.offsetParent===null)return!0}if(p&&B.visibility==="hidden")return!0;if(y){if(B.opacity==="0")return!0;for(var G=s;G=G.parentElement;)if(o(G).opacity==="0")return!0}var te=s.getBoundingClientRect();if(w&&(te.width===0||te.height===0))return!0;if(v)return a(te,{top:0,left:0,right:i.documentElement.clientWidth,bottom:i.documentElement.clientHeight});if(S)for(var ee=s;ee=ee.parentElement;){var de=o(ee).overflow;if((de==="scroll"||de==="hidden")&&a(te,ee.getBoundingClientRect()))return!0}return!1},n.exports=t},8665:function(n,t,e){var r,o=this&&this.__extends||(r=function(s,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])},r(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}r(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}),i=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return o(l,s),l.prototype.trigger=function(c,d){this.emit("message",JSON.stringify({method:c,params:d}))},l}(i(e(2263)).default);t.default=new a},8687:function(n,t,e){(t=e(6314)(!1)).push([n.id,'._container .luna-console{background:var(--background)}._container .luna-console-header{color:var(--link-color);border-bottom-color:var(--border)}._container .luna-console-nesting-level{border-right-color:var(--border)}._container .luna-console-nesting-level::before{border-bottom-color:var(--border)}._container .luna-console-log-container.luna-console-selected .luna-console-log-item{background:var(--contrast)}._container .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:var(--border)}._container .luna-console-log-item{border-bottom-color:var(--border);color:var(--foreground)}._container .luna-console-log-item a{color:var(--link-color)!important}._container .luna-console-log-item .luna-console-icon-container .luna-console-icon{color:var(--foreground)}._container .luna-console-log-item .luna-console-icon-container .luna-console-icon-error{color:#ef3842}._container .luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{color:#e8a400}._container .luna-console-log-item .luna-console-count{color:var(--select-foreground);background:var(--highlight)}._container .luna-console-log-item.luna-console-warn{color:var(--console-warn-foreground);background:var(--console-warn-background);border-color:var(--console-warn-border)}._container .luna-console-log-item.luna-console-error{background:var(--console-error-background);color:var(--console-error-foreground);border-color:var(--console-error-border)}._container .luna-console-log-item.luna-console-error .luna-console-count{background:var(--console-error-foreground)}._container .luna-console-log-item .luna-console-code .luna-console-key{color:var(--var-color)}._container .luna-console-log-item .luna-console-code .luna-console-number{color:var(--number-color)}._container .luna-console-log-item .luna-console-code .luna-console-null{color:var(--operator-color)}._container .luna-console-log-item .luna-console-code .luna-console-string{color:var(--string-color)}._container .luna-console-log-item .luna-console-code .luna-console-boolean{color:var(--keyword-color)}._container .luna-console-log-item .luna-console-code .luna-console-special{color:var(--operator-color)}._container .luna-console-log-item .luna-console-code .luna-console-keyword{color:var(--keyword-color)}._container .luna-console-log-item .luna-console-code .luna-console-operator{color:var(--operator-color)}._container .luna-console-log-item .luna-console-code .luna-console-comment{color:var(--comment-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-null,._container .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:var(--operator-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-number{color:var(--number-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-boolean{color:var(--keyword-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-regexp,._container .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:var(--var-color)}._container .luna-console-preview .luna-console-key{color:var(--var-color)}._container .luna-console-preview .luna-console-number{color:var(--number-color)}._container .luna-console-preview .luna-console-null{color:var(--operator-color)}._container .luna-console-preview .luna-console-string{color:var(--string-color)}._container .luna-console-preview .luna-console-boolean{color:var(--keyword-color)}._container .luna-console-preview .luna-console-special{color:var(--operator-color)}._container .luna-console-preview .luna-console-keyword{color:var(--keyword-color)}._container .luna-console-preview .luna-console-operator{color:var(--operator-color)}._container .luna-console-preview .luna-console-comment{color:var(--comment-color)}._container .luna-object-viewer{color:var(--primary);font-size:12px!important}._container .luna-object-viewer-null{color:var(--operator-color)}._container .luna-object-viewer-regexp,._container .luna-object-viewer-string{color:var(--string-color)}._container .luna-object-viewer-number{color:var(--number-color)}._container .luna-object-viewer-boolean{color:var(--keyword-color)}._container .luna-object-viewer-special{color:var(--operator-color)}._container .luna-object-viewer-key,._container .luna-object-viewer-key-lighter{color:var(--var-color)}._container .luna-object-viewer-expanded:before{border-color:transparent;border-top-color:var(--foreground)}._container .luna-object-viewer-collapsed:before{border-top-color:transparent;border-left-color:var(--foreground)}._container .luna-notification{pointer-events:none!important;padding:10px;z-index:1000}._container .luna-notification-item{z-index:500;color:var(--foreground);background:var(--background);box-shadow:none;padding:5px 10px;border:1px solid var(--border)}._container .luna-notification-upper{margin-bottom:10px}._container .luna-notification-lower{margin-top:10px}._container .luna-data-grid{color:var(--foreground);background:var(--background);border-color:var(--border)}._container .luna-data-grid td,._container .luna-data-grid th{border-color:var(--border)}._container .luna-data-grid th{background:var(--darker-background)}._container .luna-data-grid th.luna-data-grid-sortable:active,._container .luna-data-grid th.luna-data-grid-sortable:hover{color:var(--select-foreground);background:var(--highlight)}._container .luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selectable:hover,._container .luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--highlight)}._container .luna-data-grid .luna-data-grid-data-container tr:nth-child(even){background:var(--contrast)}._container .luna-data-grid:focus .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--accent)}._container .luna-dom-viewer{color:var(--foreground)}._container .luna-dom-viewer .luna-dom-viewer-html-tag,._container .luna-dom-viewer .luna-dom-viewer-tag-name{color:var(--tag-name-color)}._container .luna-dom-viewer .luna-dom-viewer-attribute-name{color:var(--attribute-name-color)}._container .luna-dom-viewer .luna-dom-viewer-attribute-value{color:var(--string-color)}._container .luna-dom-viewer .luna-dom-viewer-html-comment{color:var(--comment-color)}._container .luna-dom-viewer .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:var(--contrast)}._container .luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:var(--highlight)}._container .luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:var(--accent);opacity:.2}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-key{color:var(--var-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-number{color:var(--number-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-null{color:var(--operator-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-string{color:var(--string-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-boolean{color:var(--keyword-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-special{color:var(--operator-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:var(--keyword-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:var(--operator-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:var(--comment-color)}._container .luna-dom-viewer-children{margin:0;padding-left:15px!important}._container ._inline .luna-modal,._container ._inline .luna-notification{position:absolute}._container .luna-modal{z-index:9999999}._container .luna-modal-body,._container .luna-modal-input{color:var(--foreground);background:var(--background)}._container .luna-modal-body{border-color:var(--border)}._container .luna-modal-input{-webkit-user-select:text!important;-moz-user-select:text!important;-ms-user-select:text!important;user-select:text!important;border-color:var(--border)}._container .luna-modal-button-group .luna-modal-secondary{border-color:var(--border);color:var(--foreground);background:var(--background)}._container .luna-modal-button-group .luna-modal-primary{background:var(--accent)}._container .luna-modal-button-group .luna-modal-button:active::before{background:var(--accent)}._container .luna-tab{position:absolute;left:0;top:0;color:var(--foreground);background:var(--darker-background)}._container .luna-tab-tabs-container{border-color:var(--border)}._container .luna-tab-item.luna-tab-selected,._container .luna-tab-item:hover{background:var(--highlight);color:var(--select-foreground)}._container .luna-tab-slider{background:var(--accent)}._container .luna-text-viewer{color:var(--foreground);border:none;border-bottom:1px solid var(--border);background:var(--background);font-size:12px}._container .luna-text-viewer .luna-text-viewer-line-text{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}._container .luna-text-viewer .luna-text-viewer-line-text *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}._container .luna-text-viewer .luna-text-viewer-copy,._container .luna-text-viewer .luna-text-viewer-line-number{border-color:var(--border)}._container .luna-text-viewer .luna-text-viewer-copy .luna-text-viewer-icon-check{color:var(--accent)}._container .luna-text-viewer .luna-text-viewer-copy{background-color:var(--background)}._container .luna-setting{color:var(--foreground);background:var(--background)}._container .luna-setting-item.luna-setting-selected,._container .luna-setting-item:hover{background:var(--darker-background)}._container .luna-setting-item.luna-setting-selected:focus{outline:0}._container .luna-setting-item-title{font-size:14px}._container .luna-setting-item-separator{border-color:var(--border)}._container .luna-setting-item-checkbox input{border-color:var(--border)}._container .luna-setting-item-checkbox input:checked{background-color:var(--accent);border-color:var(--accent)}._container .luna-setting-item-select .luna-setting-select select{color:var(--foreground);border-color:var(--border);background:var(--background)}._container .luna-setting-item-select .luna-setting-select:after{border-top-color:var(--foreground)}._container .luna-setting-item-button button{color:var(--accent);background:var(--background);border-color:var(--border)}._container .luna-setting-item-button button:active,._container .luna-setting-item-button button:hover{background:var(--darker-background)}._container .luna-setting-item-button button:active{border:1px solid var(--accent)}._container .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:var(--border)}._container .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background:var(--accent)}._container .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:var(--border);background:radial-gradient(circle at center,var(--dark) 0,var(--dark) 15%,var(--light) 22%,var(--light) 100%)}._container .luna-box-model{background:var(--background)}._container .luna-box-model-border,._container .luna-box-model-content,._container .luna-box-model-margin,._container .luna-box-model-padding,._container .luna-box-model-position{color:var(--foreground);background:var(--background)}._container{min-width:320px;pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999999;color:var(--foreground);font-family:-apple-system,system-ui,BlinkMacSystemFont,".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande","Segoe UI",Tahoma,sans-serif;font-size:14px;direction:ltr}._container._dark{color-scheme:dark}._container *{box-sizing:border-box;pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}._container ul{list-style:none;padding:0;margin:0}._container h1,._container h2,._container h3,._container h4{margin:0}._container h2{font-size:14px}._container h2 [class*=" _icon-"],._container h2 [class^=icon-]{font-weight:400}._container._inline{position:static}._hidden{display:none}._icon-disabled{opacity:.5;pointer-events:none;cursor:default!important}._icon-disabled:active{color:inherit!important}._tag-name-color{color:var(--tag-name-color)}._function-color{color:var(--function-color)}._attribute-name-color{color:var(--attribute-name-color)}._operator-color{color:var(--operator-color)}._string-color{color:var(--string-color)}',""]),n.exports=t},8734:function(n,t,e){var r=e(2717),o=e(1738),i=e(6026),a=e(8),s=e(928),l=e(9848);t=r({initialize:function(y){o(y)&&(y=t.parse(y)),this.model=y.model,this.val=y.val},toRgb:function(){var y=this.val;this.model==="hsl"&&(y=s(y));var m="rgba";return y[3]===1&&(m="rgb",y=y.slice(0,3)),m+"("+y.join(", ")+")"},toHex:function(){var y=this.val;this.model==="hsl"&&(y=s(y));var m=l.encode(y.slice(0,3));return m[0]===m[1]&&m[2]===m[3]&&m[4]===m[5]&&(m=m[0]+m[2]+m[5]),"#"+m},toHsl:function(){var y=this.val;this.model==="rgb"&&(y=a(y));var m="hsla";return y[3]===1&&(m="hsl",y=y.slice(0,3)),y[1]=y[1]+"%",y[2]=y[2]+"%",m+"("+y.join(", ")+")"}},{parse:function(y){var m,w,h=[0,0,0,1],v="rgb";if(w=y.match(c))for(w=w[1],m=0;m<3;m++)h[m]=parseInt(w[m]+w[m],16);else if(w=y.match(d))for(w=w[1],m=0;m<3;m++){var _=2*m;h[m]=parseInt(w.slice(_,_+2),16)}else if(w=y.match(f)){for(m=0;m<3;m++)h[m]=parseInt(w[m+1],0);w[4]&&(h[3]=parseFloat(w[4]))}else if(w=y.match(p)){for(m=0;m<3;m++)h[m]=Math.round(2.55*parseFloat(w[m+1]));w[4]&&(h[3]=parseFloat(w[4]))}else(w=y.match(g))&&(v="hsl",h=[(parseFloat(w[1])%360+360)%360,i(parseFloat(w[2]),0,100),i(parseFloat(w[3]),0,100),i(parseFloat(w[4]),0,1)]);return{val:h,model:v}}});var c=/^#([a-fA-F0-9]{3})$/,d=/^#([a-fA-F0-9]{6})$/,f=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,p=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,g=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;n.exports=t},8757:function(n,t,e){var r,o=this&&this.__extends||(r=function(c,d){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(f[g]=p[g])},r(c,d)},function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=c}r(c,d),c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}),i=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(e(2263)),s=i(e(9100)),l=function(c){function d(){var f=c.call(this)||this;return f.observer=new MutationObserver(function(p){(0,s.default)(p,function(g){return f.handleMutation(g)})}),f}return o(d,c),d.prototype.observe=function(f){this.observer.observe(f,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},d.prototype.disconnect=function(){this.observer.disconnect()},d.prototype.handleMutation=function(f){f.type==="attributes"?this.emit("attributes",f.target,f.attributeName):f.type==="childList"?this.emit("childList",f.target,f.addedNodes,f.removedNodes):f.type==="characterData"&&this.emit("characterData",f.target)},d}(a.default);t.default=new l},8785:function(n,t){t=function(){for(var e=arguments,r=e[0],o=1,i=e.length;o<i;o++)e[o]<r&&(r=e[o]);return r},n.exports=t},8796:function(n,t,e){var r=e(9760),o=e(3957);t=function(i){return r(i)&&o(i.then)&&o(i.catch)},n.exports=t},8862:function(n,t,e){var r=e(1738);function o(a,s){var l,c=function(d){function f(h,v){return h===v||(h.nodeType===Node.ELEMENT_NODE&&v.nodeType===Node.ELEMENT_NODE?h.localName===v.localName:h.nodeType===v.nodeType||(h.nodeType===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:h.nodeType)===(v.nodeType===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:v.nodeType))}var p,g=d.parentNode?d.parentNode.children:null;if(!g)return 0;for(var y=0;y<g.length;++y)if(f(d,g[y])&&g[y]!==d){p=!0;break}if(!p)return 0;for(var m=1,w=0;w<g.length;++w)if(f(d,g[w])){if(g[w]===d)return m;++m}return-1}(a);if(c===-1)return null;switch(a.nodeType){case Node.ELEMENT_NODE:if(s&&a.getAttribute("id"))return new i('//*[@id="'+a.getAttribute("id")+'"]',!0);l=a.localName;break;case Node.ATTRIBUTE_NODE:l="@"+a.nodeName();break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:l="text()";break;case Node.PROCESSING_INSTRUCTION_NODE:l="processing-instruction()";break;case Node.COMMENT_NODE:l="comment()";break;case Node.DOCUMENT_NODE:default:l=""}return c>0&&(l+="["+c+"]"),new i(l,a.nodeType===Node.DOCUMENT_NODE)}t=function(a,s){return r(a)?function(l){for(var c=[],d=document.evaluate(l,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),f=0;f<d.snapshotLength;f++)c.push(d.snapshotItem(f));return c}(a):function(l){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(l.nodeType===Node.DOCUMENT_NODE)return"/";for(var d=[],f=l;f;){var p=o(f,c);if(!p||(d.push(p),p.optimized))break;f=f.parentNode}return d.reverse(),(d.length&&d[0].optimized?"":"/")+d.join("/")}(a,s)};var i=e(2717)({initialize:function(a,s){this.value=a,this.optimized=s||!1},toString:function(){return this.value}});n.exports=t},8966:function(n,t,e){var r=e(2717),o=e(3249);function i(){return!0}function a(){return!1}function s(c){var d,f=this.events[c.type],p=l.call(this,c,f);c=new t.Event(c);for(var g,y,m=0;(y=p[m++])&&!c.isPropagationStopped();)for(c.curTarget=y.el,g=0;(d=y.handlers[g++])&&!c.isImmediatePropagationStopped();)d.handler.apply(y.el,[c])===!1&&(c.preventDefault(),c.stopPropagation())}function l(c,d){var f,p,g,y,m=c.target,w=[],h=d.delegateCount;if(m.nodeType)for(;m!==this;m=m.parentNode||this){for(p=[],y=0;y<h;y++)p[f=(g=d[y]).selector+" "]===void 0&&(p[f]=o(this.querySelectorAll(f),m)),p[f]&&p.push(g);p.length&&w.push({el:m,handlers:p})}return h<d.length&&w.push({el:this,handlers:d.slice(h)}),w}t={add:function(c,d,f,p){var g,y={selector:f,handler:p};c.events||(c.events={}),(g=c.events[d])||((g=c.events[d]=[]).delegateCount=0,c.addEventListener(d,function(){s.apply(c,arguments)},!1)),f?g.splice(g.delegateCount++,0,y):g.push(y)},remove:function(c,d,f,p){var g=c.events;if(g&&g[d])for(var y,m=g[d],w=m.length;w--;)y=m[w],f&&y.selector!=f||y.handler!=p||(m.splice(w,1),y.selector&&m.delegateCount--)},Event:r({className:"Event",initialize:function(c){this.origEvent=c},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var c=this.origEvent;this.isDefaultPrevented=i,c&&c.preventDefault&&c.preventDefault()},stopPropagation:function(){var c=this.origEvent;this.isPropagationStopped=i,c&&c.stopPropagation&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.origEvent;this.isImmediatePropagationStopped=i,c&&c.stopImmediatePropagation&&c.stopImmediatePropagation(),this.stopPropagation()}})},n.exports=t},8971:function(n,t){t=function(e){return e===void 0},n.exports=t},8996:function(n,t,e){t=e(3752)(e(7542),2),n.exports=t},9e3:function(n,t,e){var r=e(1738);t=function(o){return r(o)?(o=o.toLowerCase())!=="0"&&o!==""&&o!=="false":!!o},n.exports=t},9041:function(n,t){function e(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}t=typeof process=="object"&&process.nextTick?process.nextTick:typeof setImmediate=="function"?function(r){setImmediate(e(r))}:function(r){setTimeout(e(r),0)},n.exports=t},9100:function(n,t,e){var r=e(5793),o=e(3145),i=e(6459);t=function(a,s,l){var c,d;if(s=i(s,l),r(a))for(c=0,d=a.length;c<d;c++)s(a[c],c,a);else{var f=o(a);for(c=0,d=f.length;c<d;c++)s(a[f[c]],f[c],a)}return a},n.exports=t},9111:function(n,t,e){(t=e(6314)(!1)).push([n.id,'#_elements ._elements{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:40px;padding-bottom:24px;font-size:14px}#_elements ._control{padding:10px 0;position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border)}#_elements ._control [class*=" _icon-"],#_elements ._control [class^=eruda-icon-]{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_elements ._control [class*=" _icon-"]._active,#_elements ._control [class*=" _icon-"]:active,#_elements ._control [class^=eruda-icon-]._active,#_elements ._control [class^=eruda-icon-]:active{color:var(--accent)}#_elements ._control ._icon-eye{right:0}#_elements ._control ._icon-copy{right:23px}#_elements ._control ._icon-delete{right:46px}#_elements ._dom-viewer-container{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;padding:5px 0}#_elements ._crumbs{position:absolute;width:100%;height:24px;left:0;top:0;top:initial;line-height:24px;bottom:0;border-top:1px solid var(--border);background:var(--darker-background);color:var(--primary);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#_elements ._crumbs li{cursor:pointer;padding:0 7px;display:inline-block}#_elements ._crumbs li:hover,#_elements ._crumbs li:last-child{background:var(--highlight)}#_elements ._crumbs ._icon-arrow-right{font-size:12px;position:relative;top:1px}#_elements ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;padding-top:40px;display:none;background:var(--background)}#_elements ._detail ._control{padding:10px 35px}#_elements ._detail ._control ._element-name{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_elements ._detail ._control ._icon-arrow-left{left:0}#_elements ._detail ._control ._icon-refresh{right:0}#_elements ._detail ._element{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_elements ._section{border-bottom:1px solid var(--border);color:var(--foreground);margin:10px 0}#_elements ._section h2{color:var(--primary);background:var(--darker-background);border-top:1px solid var(--border);padding:10px;line-height:18px;font-size:14px;transition:background-color .3s}#_elements ._section h2 ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_elements ._section h2 ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_elements ._section h2 ._btn:active{color:var(--accent)}#_elements ._section h2 ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_elements ._section h2 ._btn._btn-disabled *{pointer-events:none}#_elements ._section h2._active-effect{cursor:pointer}#_elements ._section h2._active-effect:active{background:var(--highlight);color:var(--select-foreground)}#_elements ._attributes{font-size:12px}#_elements ._attributes a{color:var(--link-color)}#_elements ._attributes ._table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}#_elements ._attributes table td{padding:5px 10px}#_elements ._text-content{background:#fff}#_elements ._text-content ._content{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px}#_elements ._style-color{position:relative;top:1px;width:10px;height:10px;border-radius:50%;margin-right:2px;border:1px solid var(--border);display:inline-block}#_elements ._box-model{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;text-align:center;border-bottom:1px solid var(--color)}#_elements ._computed-style{font-size:12px}#_elements ._computed-style a{color:var(--link-color)}#_elements ._computed-style ._table-wrapper{overflow-y:auto;-webkit-overflow-scrolling:touch;max-height:200px;border-top:1px solid var(--border)}#_elements ._computed-style table td{padding:5px 10px}#_elements ._computed-style table td._key{white-space:nowrap;color:var(--var-color)}#_elements ._styles{font-size:12px}#_elements ._styles ._style-wrapper{padding:10px}#_elements ._styles ._style-wrapper ._style-rules{border:1px solid var(--border);padding:10px;margin-bottom:10px}#_elements ._styles ._style-wrapper ._style-rules ._rule{padding-left:2em;word-break:break-all}#_elements ._styles ._style-wrapper ._style-rules ._rule a{color:var(--link-color)}#_elements ._styles ._style-wrapper ._style-rules ._rule span{color:var(--var-color)}#_elements ._styles ._style-wrapper ._style-rules:last-child{margin-bottom:0}#_elements ._listeners{font-size:12px}#_elements ._listeners ._listener-wrapper{padding:10px}#_elements ._listeners ._listener-wrapper ._listener{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_elements ._listeners ._listener-wrapper ._listener ._listener-type{padding:10px;background:var(--darker-background);color:var(--primary)}#_elements ._listeners ._listener-wrapper ._listener ._listener-content li{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;border-top:none}._safe-area #_elements ._elements{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._crumbs{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._element{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_elements ._elements{width:50%}#_elements ._elements ._control ._icon-eye{display:none}#_elements ._elements ._control ._icon-copy{right:0}#_elements ._elements ._control ._icon-delete{right:23px}#_elements ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_elements ._detail ._control{padding-left:10px}#_elements ._detail ._control ._icon-arrow-left{display:none}}',""]),n.exports=t},9117:function(n,t,e){var r=e(6030),o=e(1738);t=function(l){if(o(l)){var c=l.match(s);return c?r(c[1])*i[c[2]||"ms"]:0}for(var d=l,f="ms",p=0,g=a.length;p<g;p++)if(d>=i[a[p]]){f=a[p];break}return+(d/i[f]).toFixed(2)+f};var i={ms:1,s:1e3};i.m=60*i.s,i.h=60*i.m,i.d=24*i.h,i.y=365.25*i.d;var a=["y","d","h","m","s"],s=/^((?:\d+)?\.?\d+) *(s|m|h|d|y)?$/;n.exports=t},9122:function(n,t,e){var r=e(9760),o=e(3957),i=e(1168);t=function(c){return!!r(c)&&(o(c)?s.test(i(c)):l.test(i(c)))};var a=Object.prototype.hasOwnProperty,s=new RegExp("^"+i(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l=/^\[object .+?Constructor\]$/;n.exports=t},9186:function(n,t,e){var r=e(769),o=e(9760),i=e(1738),a=e(9100),s=e(8971),l=e(3612);(t=function(c,d,f){if(c=l(c),s(f)&&i(d))return function(g,y){return g.getAttribute(y)}(c[0],d);var p=d;o(p)||((p={})[d]=f),function(g,y){a(g,function(m){a(y,function(w,h){m.setAttribute(h,w)})})}(c,p)}).remove=function(c,d){c=l(c),d=r(d),a(c,function(f){a(d,function(p){f.removeAttribute(p)})})},n.exports=t},9196:function(n,t,e){var r,o=this&&this.__extends||(r=function(Y,z){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,N){D.__proto__=N}||function(D,N){for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(D[j]=N[j])},r(Y,z)},function(Y,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function D(){this.constructor=Y}r(Y,z),Y.prototype=z===null?Object.create(z):(D.prototype=z.prototype,new D)}),i=this&&this.__assign||function(){return i=Object.assign||function(Y){for(var z,D=1,N=arguments.length;D<N;D++)for(var j in z=arguments[D])Object.prototype.hasOwnProperty.call(z,j)&&(Y[j]=z[j]);return Y},i.apply(this,arguments)},a=this&&this.__values||function(Y){var z=typeof Symbol=="function"&&Symbol.iterator,D=z&&Y[z],N=0;if(D)return D.call(Y);if(Y&&typeof Y.length=="number")return{next:function(){return Y&&N>=Y.length&&(Y=void 0),{value:Y&&Y[N++],done:!Y}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(e(7214)),c=e(926),d=e(4725),f=s(e(4095)),p=s(e(5865)),g=s(e(96)),y=s(e(9100)),m=s(e(8734)),w=s(e(9848)),h=s(e(3805)),v=s(e(8105)),_=s(e(387)),S=s(e(3249)),B=s(e(6030)),$=s(e(3019)),x=s(e(1738));e(3270);var G=function(Y){function z(D,N){N===void 0&&(N={});var j=Y.call(this,D,{compName:"dom-highlighter"},N)||this;return j.overlay=new c.HighlightOverlay(window),j.reset=function(){var P=document.documentElement.clientWidth,E=document.documentElement.clientHeight;j.overlay.reset({viewportSize:{width:P,height:E},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},j.initOptions(N,{showRulers:!1,showExtensionLines:!1,showInfo:!0,showStyles:!0,showAccessibilityInfo:!0,colorFormat:"hex",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)",monitorResize:!0}),j.overlay.setContainer(D),j.overlay.setPlatform("mac"),j.redraw=(0,p.default)(function(){j.reset(),j.draw()},16),j.redraw(),j.bindEvent(),j}return o(z,Y),z.prototype.highlight=function(D,N){N&&(0,v.default)(this.options,N),this.target=D,D instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new f.default(D),this.resizeSensor.addListener(this.redraw)),this.redraw()},z.prototype.hide=function(){this.target=null,this.redraw()},z.prototype.intercept=function(D){this.interceptor=D},z.prototype.destroy=function(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),Y.prototype.destroy.call(this)},z.prototype.draw=function(){var D=this.target;D&&(D instanceof Text?this.drawText(D):this.drawElement(D))},z.prototype.drawText=function(D){var N=this.options,j=document.createRange();j.selectNode(D);var P=j.getBoundingClientRect(),E=P.left,K=P.top,q=P.width,Ae=P.height;j.detach();var _e={paths:[{path:this.rectToPath({left:E,top:K,width:q,height:Ae}),fillColor:de(N.contentColor),name:"content"}],showExtensionLines:N.showExtensionLines,showRulers:N.showRulers};N.showInfo&&(_e.elementInfo={tagName:"#text",nodeWidth:q,nodeHeight:Ae}),this.overlay.drawHighlight(_e)},z.prototype.drawElement=function(D){var N={paths:this.getPaths(D),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(N.elementInfo=this.getElementInfo(D)),this.interceptor){var j=this.interceptor(N);j&&(N=j)}this.overlay.drawHighlight(N)},z.prototype.getPaths=function(D){var N=this.options,j=window.getComputedStyle(D),P=D.getBoundingClientRect(),E=P.left,K=P.top,q=P.width,Ae=P.height,_e=function(ye){return(0,d.pxToNum)(j.getPropertyValue(ye))},Ce=_e("margin-left"),Z=_e("margin-right"),fe=_e("margin-top"),Me=_e("margin-bottom"),Pe=_e("border-left-width"),He=_e("border-right-width"),Ye=_e("border-top-width"),Xe=_e("border-bottom-width"),qe=_e("padding-left"),tt=_e("padding-right"),ot=_e("padding-top"),be=_e("padding-bottom");return[{path:this.rectToPath({left:E+Pe+qe,top:K+Ye+ot,width:q-Pe-qe-He-tt,height:Ae-Ye-ot-Xe-be}),fillColor:de(N.contentColor),name:"content"},{path:this.rectToPath({left:E+Pe,top:K+Ye,width:q-Pe-He,height:Ae-Ye-Xe}),fillColor:de(N.paddingColor),name:"padding"},{path:this.rectToPath({left:E,top:K,width:q,height:Ae}),fillColor:de(N.borderColor),name:"border"},{path:this.rectToPath({left:E-Ce,top:K-fe,width:q+Ce+Z,height:Ae+fe+Me}),fillColor:de(N.marginColor),name:"margin"}]},z.prototype.getElementInfo=function(D){var N=D.getBoundingClientRect(),j=N.width,P=N.height,E=D.getAttribute("class")||"";E=E.split(/\s+/).map(function(q){return"."+q}).join("");var K={tagName:(0,g.default)(D.tagName),className:E,idValue:D.id,nodeWidth:j,nodeHeight:P};return this.options.showStyles&&(K.style=this.getStyles(D)),this.options.showAccessibilityInfo&&(0,v.default)(K,this.getAccessibilityInfo(D)),K},z.prototype.getStyles=function(D){for(var N=window.getComputedStyle(D),j=!1,P=D.childNodes,E=0,K=P.length;E<K;E++)P[E].nodeType===3&&(j=!0);var q=[];return j&&q.push("color","font-family","font-size","line-height"),q.push("padding","margin","background-color"),ve(N,q)},z.prototype.getAccessibilityInfo=function(D){var N=window.getComputedStyle(D);return i({showAccessibilityInfo:!0,contrast:i({contrastAlgorithm:"aa",textOpacity:.1},ve(N,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(D)},this.getAccessibleNameAndRole(D))},z.prototype.isFocusable=function(D){var N=(0,g.default)(D.tagName);if((0,S.default)(["a","button","input","textarea","select","details"],N))return!0;var j=D.getAttribute("tabindex");return!!(j&&(0,B.default)(j)>-1)},z.prototype.getAccessibleNameAndRole=function(D){var N=D.getAttribute("labelledby")||D.getAttribute("aria-label"),j=D.getAttribute("role"),P=(0,g.default)(D.tagName);return $.default.forEach(function(E){var K,q;if(!j){var Ae=E[0],_e=E[2];if(Ae===P){if(_e)try{for(var Ce=a(_e),Z=Ce.next();!Z.done;Z=Ce.next()){var fe=Z.value;if(D.getAttribute(fe[0])!==fe[1])return}}catch(Me){K={error:Me}}finally{try{Z&&!Z.done&&(q=Ce.return)&&q.call(Ce)}finally{if(K)throw K.error}}j=E[1]}}}),{accessibleName:N||D.getAttribute("title")||"",accessibleRole:j||"generic"}},z.prototype.bindEvent=function(){var D=this;window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",function(){return D.redraw()})},z.prototype.rectToPath=function(D){var N=D.left,j=D.top,P=D.width,E=D.height,K=[];return K.push("M",N,j),K.push("L",N+P,j),K.push("L",N+P,j+E),K.push("L",N,j+E),K.push("Z"),K},z}(l.default);t.default=G,n.exports=G,n.exports.default=G;var te=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,ee=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function de(Y){return(0,x.default)(Y)?Y:Y.a?"rgba(".concat(Y.r,", ").concat(Y.g,", ").concat(Y.b,", ").concat(Y.a,")"):"rgb(".concat(Y.r,", ").concat(Y.g,", ").concat(Y.b,")")}function ve(Y,z,D){D===void 0&&(D=!1);var N={};return(0,y.default)(z,function(j){var P,E=Y[j==="text-opacity"?"color":j];E&&(P=E,(te.test(P)||ee.test(P))&&(E=function(K){var q=m.default.parse(K),Ae=q.val[3]||1;return q.val=q.val.slice(0,3),q.val.push(Math.round(255*Ae)),"#"+(0,h.default)(w.default.encode(q.val))}(E),j==="text-opacity"&&(E=E.slice(7),E=w.default.decode(E)[0]/255)),D&&(j=(0,_.default)(j)),N[j]=E)}),N}},9350:function(n,t){t=function(e){return typeof e=="symbol"},n.exports=t},9389:function(n,t,e){var r=e(5902),o=e(3145);t=function(d){return s.test(d)?d.replace(l,c):d};var i=e(5282)(r.map),a="(?:"+o(i).join("|")+")",s=new RegExp(a),l=new RegExp(a,"g");function c(d){return i[d]}n.exports=t},9405:function(n,t,e){var r=e(5333),o=e(9651);t=function(i,a){return a==null&&i.trim?i.trim():r(o(i,a),a)},n.exports=t},9410:function(n,t,e){var r=e(9993);t=function(o,i){i=i||r;var a=new Image;a.onload=function(){i(null,a)},a.onerror=function(s){i(s)},a.src=o},n.exports=t},9464:function(n,t,e){var r=e(5793),o=e(6214),i=e(1738),a=e(5132),s=e(3145);t=function(l){return l==null||(r(l)&&(o(l)||i(l)||a(l))?l.length===0:s(l).length===0)},n.exports=t},9548:function(n,t,e){var r=e(383),o=e(7005),i=e(6214),a=e(9100),s=e(1738),l=e(5154),c=function(f){return f.replace(/&quot;/g,'"')},d=function(f){return f.replace(/"/g,"&quot;")};t={parse:function(f){var p=[],g=new o;return r(f,{start:function(y,m){m=l(m,function(w){return c(w)}),g.push({tag:y,attrs:m})},end:function(){var y=g.pop();if(g.size){var m=g.peek();i(m.content)||(m.content=[]),m.content.push(y)}else p.push(y)},comment:function(y){var m="<!--".concat(y,"-->"),w=g.peek();w?(w.content||(w.content=[]),w.content.push(m)):p.push(m)},text:function(y){var m=g.peek();m?(m.content||(m.content=[]),m.content.push(y)):p.push(y)}}),p},stringify:function f(p){var g="";return i(p)?a(p,function(y){return g+=f(y)}):s(p)?g=p:(g+="<".concat(p.tag),a(p.attrs,function(y,m){return g+=" ".concat(m,'="').concat(d(y),'"')}),g+=">",p.content&&(g+=f(p.content)),g+="</".concat(p.tag,">")),g}},n.exports=t},9651:function(n,t){t=function(e,r){if(r==null){if(e.trimRight)return e.trimRight();r=` \r
	\f\v`}for(var o,i,a=e.length-1,s=r.length,l=!0;l&&a>=0;)for(l=!1,o=-1,i=e.charAt(a);++o<s;)if(i===r[o]){l=!0,a--;break}return a>=0?e.substring(0,a+1):""},n.exports=t},9756:function(n,t){t=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.defComparator,o=0,i=e.length;o<i-1;o++)if(r(e[o],e[o+1])>0)return!1;return!0},t.defComparator=function(e,r){return e<r?-1:e>r?1:0},n.exports=t},9760:function(n,t){t=function(e){var r=typeof e;return!!e&&(r==="function"||r==="object")},n.exports=t},9848:function(n,t,e){var r=e(6024);t={encode:function(o){for(var i=[],a=0,s=o.length;a<s;a++){var l=o[a];i.push((l>>>4).toString(16)),i.push((15&l).toString(16))}return i.join("")},decode:function(o){var i=[],a=o.length;r(a)&&a--;for(var s=0;s<a;s+=2)i.push(parseInt(o.substr(s,2),16));return i}},n.exports=t},9861:function(n,t,e){(t=e(6314)(!1)).push([n.id,"#_snippets{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px}#_snippets ._section{margin-bottom:10px;border:1px solid var(--border);overflow:hidden;cursor:pointer}#_snippets ._section:active ._name{background:var(--highlight);color:var(--select-foreground)}#_snippets ._section ._name{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background);transition:background-color .3s}#_snippets ._section ._name ._btn{margin-left:10px;float:right;text-align:center;width:18px;height:18px;font-size:12px}#_snippets ._section ._description{font-size:12px;color:var(--foreground);padding:10px;transition:background-color .3s}._safe-area #_snippets{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),n.exports=t},9893:function(n,t,e){var r=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOrCreateNodeId=y,t.clear=function(){f.clear(),p.clear()},t.getNodeId=function(_){return p.get(_)},t.wrap=m,t.getChildNodes=w,t.getPreviousNode=function(_){var S=_.previousSibling;if(S){for(;!v(S)&&S.previousSibling;)S=S.previousSibling;if(S&&v(S))return S}},t.filterNodes=h,t.isValidNode=v,t.getNode=function(_){var S=f.get(_);if(!S||S.nodeType===10||S.nodeType===11)throw(0,d.createErr)(-32e3,"Could not find node with given id");return S};var o=r(e(3915)),i=r(e(2571)),a=r(e(9100)),s=r(e(9405)),l=r(e(3249)),c=r(e(8105)),d=e(916),f=new Map,p=new Map,g=1;function y(_){var S=p.get(_);return S||(S=g++,p.set(_,S),f.set(S,_),S)}function m(_,S){var B=(S===void 0?{}:S).depth,$=B===void 0?1:B,x=y(_),G={nodeName:_.nodeName,nodeType:_.nodeType,localName:_.localName||"",nodeValue:_.nodeValue||"",nodeId:x,backendNodeId:x};if(_.parentNode&&(G.parentId=y(_.parentNode)),_.nodeType===10)return(0,c.default)(G,{publicId:"",systemId:""});if(_.attributes){var te=[];(0,a.default)(_.attributes,function(ve){var Y=ve.name,z=ve.value;return te.push(Y,z)}),G.attributes=te}_.shadowRoot?G.shadowRoots=[m(_.shadowRoot,{depth:1})]:_.chobitsuShadowRoot&&(G.shadowRoots=[m(_.chobitsuShadowRoot,{depth:1})]),function(ve){return window.ShadowRoot?ve instanceof ShadowRoot:!1}(_)&&(G.shadowRootType=_.mode||"user-agent");var ee=h(_.childNodes);G.childNodeCount=ee.length;var de=G.childNodeCount===1&&ee[0].nodeType===3;return($>0||de)&&(G.children=w(_,$)),G}function w(_,S){var B=h(_.childNodes);return(0,o.default)(B,function($){return m($,{depth:S-1})})}function h(_){return i.default(_,function(S){return v(S)})}function v(_){if(_.nodeType===1){var S=_.getAttribute("class")||"";if((0,l.default)(S,"__chobitsu-hide__")||(0,l.default)(S,"html2canvas-container"))return!1}var B=!(_.nodeType===3&&(0,s.default)(_.nodeValue||"")==="");return B&&_.parentNode?v(_.parentNode):B}},9907:function(n,t,e){(t=e(6314)(!1)).push([n.id,"@font-face{font-family:luna-object-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-object-viewer-icon-'],[class^=luna-object-viewer-icon-]{display:inline-block;font-family:luna-object-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-object-viewer-icon-caret-down:before{content:'\\f101'}.luna-object-viewer-icon-caret-right:before{content:'\\f102'}.luna-object-viewer{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;cursor:default;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;line-height:1.2;min-height:100%;color:#333;list-style:none!important}.luna-object-viewer ul{list-style:none!important;padding:0!important;padding-left:12px!important;margin:0!important}.luna-object-viewer li{position:relative;white-space:nowrap;line-height:16px;min-height:16px}.luna-object-viewer>li>.luna-object-viewer-key{display:none}.luna-object-viewer span{position:static!important}.luna-object-viewer li .luna-object-viewer-collapsed~.luna-object-viewer-close:before{color:#999}.luna-object-viewer-array .luna-object-viewer-object .luna-object-viewer-key{display:inline}.luna-object-viewer-null{color:#5e5e5e}.luna-object-viewer-regexp,.luna-object-viewer-string{color:#c41a16}.luna-object-viewer-number{color:#1c00cf}.luna-object-viewer-boolean{color:#0d22aa}.luna-object-viewer-special{color:#5e5e5e}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:#881391}.luna-object-viewer-key-lighter{opacity:.6}.luna-object-viewer-key-special{color:#5e5e5e}.luna-object-viewer-collapsed .luna-object-viewer-icon,.luna-object-viewer-expanded .luna-object-viewer-icon{position:absolute!important;left:-12px;color:#727272;font-size:12px}.luna-object-viewer-icon-caret-right{top:0}.luna-object-viewer-icon-caret-down{top:1px}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-down{display:inline}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-right{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-down{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-right{display:inline}.luna-object-viewer-hidden~ul{display:none}.luna-object-viewer-theme-dark{color:#fff}.luna-object-viewer-theme-dark .luna-object-viewer-null,.luna-object-viewer-theme-dark .luna-object-viewer-special{color:#a1a1a1}.luna-object-viewer-theme-dark .luna-object-viewer-regexp,.luna-object-viewer-theme-dark .luna-object-viewer-string{color:#f28b54}.luna-object-viewer-theme-dark .luna-object-viewer-boolean,.luna-object-viewer-theme-dark .luna-object-viewer-number{color:#9980ff}.luna-object-viewer-theme-dark .luna-object-viewer-key,.luna-object-viewer-theme-dark .luna-object-viewer-key-lighter{color:#5db0d7}",""]),n.exports=t},9931:function(n,t){t=function(e){return e.length<1?e:e[0].toUpperCase()+e.slice(1)},n.exports=t},9993:function(n,t){t=function(){},n.exports=t}},__webpack_module_cache__={};function __webpack_require__(n){var t=__webpack_module_cache__[n];if(t!==void 0)return t.exports;var e=__webpack_module_cache__[n]={id:n,loaded:!1,exports:{}};return __webpack_modules__[n].call(e.exports,e,e.exports,__webpack_require__),e.loaded=!0,e.exports}__webpack_require__.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(n,t){for(var e in t)__webpack_require__.o(t,e)&&!__webpack_require__.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.hmd=function(n){return(n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n},__webpack_require__.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},__webpack_require__.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(2980);return __webpack_exports__}()})})(eruda$1);var erudaExports=eruda$1.exports;const eruda=getDefaultExportFromCjs(erudaExports),CONFIG={GAME:{INITIAL_ZONE_SHRINK_DELAY_SECONDS:60},CANVAS:{WIDTH:1200,HEIGHT:800,BACKGROUND_COLOR:"#2a2a2a"},PLAYER:{BASE_MOVEMENT_SPEED:200,DOUBLE_HANDED_SPEED_MODIFIER:.85},ZONE:{INITIAL_RADIUS:600,MIN_RADIUS:50,BASE_SHRINK_RATE:10,SHRINK_RATE_MULTIPLIER:1.5,DAMAGE_PER_SECOND:10,DAMAGE_INCREASE_PER_PHASE:5},RENDER:{PLAYER_RADIUS:20,HEALTH_BAR_WIDTH:40,HEALTH_BAR_HEIGHT:5,HEALTH_BAR_OFFSET_Y:30},INPUT:{KEYBOARD_MOVE_KEYS:{w:{x:0,y:-1},a:{x:-1,y:0},s:{x:0,y:1},d:{x:1,y:0}},SPECIAL_ABILITY_KEY:"q",INTERACT_KEY:"f"},NETWORK:{POSITION_UPDATE_RATE:20,POSITION_UPDATE_INTERVAL_MS:50}};class Game{constructor(){this.state={players:[],conflictZone:{centerX:CONFIG.CANVAS.WIDTH/2,centerY:CONFIG.CANVAS.HEIGHT/2,radius:CONFIG.ZONE.INITIAL_RADIUS},loot:[],gameTime:0,phase:0,isRunning:!1}}init(){this.state.isRunning=!0,this.state.players.push({id:"player-1",x:CONFIG.CANVAS.WIDTH/2,y:CONFIG.CANVAS.HEIGHT/2,health:100,weapon:null,armor:null,velocity:{x:0,y:0}})}update(t){this.state.isRunning&&(this.state.gameTime+=t,this.updateConflictZone(t),this.updatePlayers(t))}updateConflictZone(t){if(this.state.gameTime>CONFIG.GAME.INITIAL_ZONE_SHRINK_DELAY_SECONDS){const e=CONFIG.ZONE.BASE_SHRINK_RATE*Math.pow(CONFIG.ZONE.SHRINK_RATE_MULTIPLIER,this.state.phase);this.state.conflictZone.radius=Math.max(CONFIG.ZONE.MIN_RADIUS,this.state.conflictZone.radius-e*t)}}updatePlayers(t){for(const e of this.state.players)if(e.x+=e.velocity.x*t,e.y+=e.velocity.y*t,e.x=Math.max(0,Math.min(CONFIG.CANVAS.WIDTH,e.x)),e.y=Math.max(0,Math.min(CONFIG.CANVAS.HEIGHT,e.y)),Math.sqrt(Math.pow(e.x-this.state.conflictZone.centerX,2)+Math.pow(e.y-this.state.conflictZone.centerY,2))>this.state.conflictZone.radius){const o=(CONFIG.ZONE.DAMAGE_PER_SECOND+CONFIG.ZONE.DAMAGE_INCREASE_PER_PHASE*this.state.phase)*t;e.health=Math.max(0,e.health-o)}}handleInput(t){var s;const e=this.state.players[0];if(!e)return;const r=((s=e.weapon)==null?void 0:s.stance)==="double"?CONFIG.PLAYER.DOUBLE_HANDED_SPEED_MODIFIER:1,o=CONFIG.PLAYER.BASE_MOVEMENT_SPEED*r;let i=t.moveX*o,a=t.moveY*o;t.moveX!==0&&t.moveY!==0&&(i/=Math.SQRT2,a/=Math.SQRT2),e.velocity={x:i,y:a}}getState(){return this.state}}class Renderer{constructor(t){this.canvas=t,this.ctx=null}init(){if(this.ctx=this.canvas.getContext("2d"),!this.ctx){console.error("Failed to get 2D context from canvas");return}this.canvas.width=CONFIG.CANVAS.WIDTH,this.canvas.height=CONFIG.CANVAS.HEIGHT,console.log("Renderer initialized")}render(t){if(this.ctx){this.ctx.fillStyle=CONFIG.CANVAS.BACKGROUND_COLOR,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.renderConflictZone(t.conflictZone);for(const e of t.players)this.renderPlayer(e);for(const e of t.loot)this.renderLoot(e)}}renderConflictZone(t){this.ctx.strokeStyle="#ff6b6b",this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.arc(t.centerX,t.centerY,t.radius,0,Math.PI*2),this.ctx.stroke(),this.ctx.fillStyle="rgba(255, 107, 107, 0.2)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(t.centerX,t.centerY,t.radius,0,Math.PI*2),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over"}renderPlayer(t){this.ctx.fillStyle="#4ecdc4",this.ctx.beginPath(),this.ctx.arc(t.x,t.y,CONFIG.RENDER.PLAYER_RADIUS,0,Math.PI*2),this.ctx.fill();const e=CONFIG.RENDER.HEALTH_BAR_WIDTH,r=CONFIG.RENDER.HEALTH_BAR_HEIGHT,o=t.x-e/2,i=t.y-CONFIG.RENDER.HEALTH_BAR_OFFSET_Y;this.ctx.fillStyle="#333",this.ctx.fillRect(o,i,e,r),this.ctx.fillStyle="#ff6b6b",this.ctx.fillRect(o,i,t.health/100*e,r)}renderLoot(t){this.ctx.fillStyle="#f9ca24",this.ctx.fillRect(t.x-5,t.y-5,10,10)}}class Input{constructor(){this.inputState={moveX:0,moveY:0,aimX:0,aimY:0,attack:!1,specialAbility:!1,interact:!1},this.keysPressed=new Set,this.boundHandlers={}}init(t){this.onInputChange=t,this.boundHandlers.keydown=this.handleKeyDown.bind(this),this.boundHandlers.keyup=this.handleKeyUp.bind(this),this.boundHandlers.mousemove=this.handleMouseMove.bind(this),this.boundHandlers.mousedown=this.handleMouseDown.bind(this),this.boundHandlers.mouseup=this.handleMouseUp.bind(this),window.addEventListener("keydown",this.boundHandlers.keydown),window.addEventListener("keyup",this.boundHandlers.keyup),window.addEventListener("mousemove",this.boundHandlers.mousemove),window.addEventListener("mousedown",this.boundHandlers.mousedown),window.addEventListener("mouseup",this.boundHandlers.mouseup)}handleKeyDown(t){const e=t.key.toLowerCase();this.keysPressed.add(e),this.updateMovement(),e===CONFIG.INPUT.SPECIAL_ABILITY_KEY?(this.inputState.specialAbility=!0,this.notifyChange()):e===CONFIG.INPUT.INTERACT_KEY&&(this.inputState.interact=!0,this.notifyChange())}handleKeyUp(t){const e=t.key.toLowerCase();this.keysPressed.delete(e),this.updateMovement(),e===CONFIG.INPUT.SPECIAL_ABILITY_KEY?(this.inputState.specialAbility=!1,this.notifyChange()):e===CONFIG.INPUT.INTERACT_KEY&&(this.inputState.interact=!1,this.notifyChange())}updateMovement(){let t=0,e=0;for(const[r,o]of Object.entries(CONFIG.INPUT.KEYBOARD_MOVE_KEYS))this.keysPressed.has(r)&&(t+=o.x,e+=o.y);if(t!==0&&e!==0){const r=Math.sqrt(t*t+e*e);t/=r,e/=r}this.inputState.moveX=t,this.inputState.moveY=e,this.notifyChange()}handleMouseMove(t){const e=document.getElementById("game-canvas");if(!e)return;const r=e.getBoundingClientRect();this.inputState.aimX=t.clientX-r.left,this.inputState.aimY=t.clientY-r.top,this.notifyChange()}handleMouseDown(t){t.button===0&&(this.inputState.attack=!0,this.notifyChange())}handleMouseUp(t){t.button===0&&(this.inputState.attack=!1,this.notifyChange())}notifyChange(){this.onInputChange&&this.onInputChange(this.inputState)}destroy(){window.removeEventListener("keydown",this.boundHandlers.keydown),window.removeEventListener("keyup",this.boundHandlers.keyup),window.removeEventListener("mousemove",this.boundHandlers.mousemove),window.removeEventListener("mousedown",this.boundHandlers.mousedown),window.removeEventListener("mouseup",this.boundHandlers.mouseup)}}class UI{constructor(){this.screens={lobby:null,game:null,gameOver:null}}init(){this.screens.lobby=document.getElementById("lobby-screen"),this.screens.game=document.getElementById("game-screen"),this.screens.gameOver=document.getElementById("game-over-screen")}showScreen(t){for(const r of Object.values(this.screens))r&&r.classList.remove("active");const e=this.screens[t];e&&e.classList.add("active")}showJoinCode(t){const e=document.getElementById("join-code-display"),r=document.getElementById("join-code");e&&r&&(r.textContent=t,e.classList.remove("hidden"))}updateHealth(t){const e=document.getElementById("health-bar");e&&(e.style.width=`${t}%`)}updateEquipment(t,e){const r=document.getElementById("equipment-display");if(r){if(r.innerHTML="",t){const o=document.createElement("div");o.className="equipment-slot",o.textContent=`Weapon: ${t.name}`,r.appendChild(o)}if(e){const o=document.createElement("div");o.className="equipment-slot",o.textContent=`Armor: ${e.name}`,r.appendChild(o)}}}showZoneWarning(t){const e=document.getElementById("zone-warning");e&&(t?e.classList.remove("hidden"):e.classList.add("hidden"))}showGameOver(t,e){const r=document.getElementById("game-result"),o=document.getElementById("match-summary");r&&(r.textContent=t),o&&(o.innerHTML=e),this.showScreen("gameOver")}}class EventEmitter{constructor(){this.events={}}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}off(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(r=>r!==e))}emit(t,...e){this.events[t]&&this.events[t].forEach(r=>r(...e))}}class Network extends EventEmitter{constructor(){super(),this.isHost=!1,this.joinCode=null,this.connected=!1,this.supabase=null,this.playerId=null,this.channel=null,this.positionBuffer=new Map,this.playerPositions=new Map,this.broadcastInterval=null}initialize(t,e){this.supabase=t,this.playerId=e}async hostGame(t){if(!this.supabase)throw new Error("Supabase client not initialized.");if(!this.playerId)throw new Error("Player ID not set.");const e=this.generateJoinCode(),r=`game_session:${e}`,{data:o,error:i}=await this.supabase.from("game_sessions").insert({join_code:e,host_id:this.playerId,realtime_channel_name:r}).select().single();if(i)throw i;const{data:a,error:s}=await this.supabase.from("session_players").insert({session_id:o.id,player_id:this.playerId,player_name:t,is_host:!0}).select().single();if(s)throw s;return this.isHost=!0,this.joinCode=e,await this._subscribeToChannel(r),{session:o,player:a}}async joinGame(t,e){if(!this.supabase)throw new Error("Supabase client not initialized.");if(!this.playerId)throw new Error("Player ID not set.");const{data:r,error:o}=await this.supabase.rpc("get_session_by_join_code",{p_join_code:t});if(o)throw o;if(!r||r.length===0)throw new Error("Session not found");const i=r[0];if(i.status!=="lobby")throw new Error("Session is not joinable.");if(i.current_player_count>=i.max_players)throw new Error("Session is full.");await this._subscribeToChannel(i.realtime_channel_name);const a={type:"player_join_request",from:this.playerId,timestamp:Date.now(),data:{playerName:e}};return await this.channel.send({type:"broadcast",event:"message",payload:a}),new Promise((s,l)=>{let c;const d=f=>{f.data.player.player_id===this.playerId&&(clearTimeout(c),this.off("player_joined",d),this.isHost=!1,this.joinCode=t,this.connected=!0,s(f.data))};c=setTimeout(()=>{this.off("player_joined",d),l(new Error("Join request timed out."))},1e4),this.on("player_joined",d)})}_subscribeToChannel(t){return this.channel&&this.supabase.removeChannel(this.channel),this.channel=this.supabase.channel(t,{config:{broadcast:{ack:!0}}}),new Promise(e=>{this.channel.on("broadcast",{event:"message"},({payload:r})=>{this._handleRealtimeMessage(r)}).subscribe(r=>{r==="SUBSCRIBED"&&(this.connected=!0,e())})})}_handleRealtimeMessage(t){this.emit(t.type,t),this.isHost&&t.type==="player_join_request"&&this._handlePlayerJoinRequest(t),this.isHost&&t.type==="position_update"&&(this._isValidPositionUpdate(t)?(this.positionBuffer.set(t.from,t.data),this.playerPositions.set(t.from,t.data.position)):console.warn(`Host: Received invalid position update from ${t.from}`,t.data))}_isValidPositionUpdate(t){const{from:e,data:r}=t,{position:o,rotation:i,velocity:a}=r;if(typeof(o==null?void 0:o.x)!="number"||typeof(o==null?void 0:o.y)!="number"||typeof i!="number"||typeof(a==null?void 0:a.x)!="number"||typeof(a==null?void 0:a.y)!="number"||o.x<0||o.x>CONFIG.CANVAS.WIDTH||o.y<0||o.y>CONFIG.CANVAS.HEIGHT)return!1;const s=this.playerPositions.get(e);if(s){const l=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),c=CONFIG.PLAYER.BASE_MOVEMENT_SPEED/CONFIG.NETWORK.POSITION_UPDATE_RATE*2;if(l>c)return console.warn(`Host: Received invalid position update from ${e}`,t.data),!1}return!0}async _handlePlayerJoinRequest(t){const{playerName:e}=t.data,r=t.from,{data:o}=await this.supabase.from("game_sessions").select("*").eq("join_code",this.joinCode).single(),{data:i,error:a}=await this.supabase.from("session_players").insert({session_id:o.id,player_id:r,player_name:e,is_host:!1}).select().single();if(a){console.error("Host: Error adding player to DB:",JSON.stringify(a,null,2));return}const{data:s}=await this.supabase.from("session_players").select("*").eq("session_id",o.id),l={type:"player_joined",from:this.playerId,timestamp:Date.now(),data:{player:i,allPlayers:s,session:o}};await this.channel.send({type:"broadcast",event:"message",payload:l})}send(t,e){if(!this.channel||!this.connected){console.warn("Cannot send message, channel not connected.");return}const r={type:t,from:this.playerId,timestamp:Date.now(),data:e};this.channel.send({type:"broadcast",event:"message",payload:r})}sendPositionUpdate(t){if(!this.channel||!this.connected){console.warn("Cannot send message, channel not connected.");return}const e={type:"position_update",from:this.playerId,timestamp:Date.now(),data:t};this.isHost&&this.positionBuffer.set(this.playerId,t),this.channel.send({type:"broadcast",event:"message",payload:e})}broadcastPositionUpdates(){if(!this.isHost||this.positionBuffer.size===0||!this.channel||!this.connected)return;const t=Array.from(this.positionBuffer.entries()).map(([r,o])=>({player_id:r,...o})),e={type:"position_broadcast",from:this.playerId,timestamp:Date.now(),data:{updates:t}};this.channel.send({type:"broadcast",event:"message",payload:e}),this.positionBuffer.clear()}startPositionBroadcasting(){!this.isHost||this.broadcastInterval||(this.broadcastInterval=setInterval(()=>{this.broadcastPositionUpdates()},CONFIG.NETWORK.POSITION_UPDATE_INTERVAL_MS))}stopPositionBroadcasting(){this.broadcastInterval&&(clearInterval(this.broadcastInterval),this.broadcastInterval=null)}disconnect(){this.stopPositionBroadcasting(),this.channel&&(this.supabase.removeChannel(this.channel),this.channel=null),this.connected=!1}generateJoinCode(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let r=0;r<6;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}}function __rest(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function __awaiter(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):o(d.value).then(s,l)}c((r=r.apply(n,t||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$3=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class FunctionsError extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class FunctionsFetchError extends FunctionsError{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FunctionsRelayError extends FunctionsError{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FunctionsHttpError extends FunctionsError{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var FunctionRegion;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(t,{headers:e={},customFetch:r,region:o=FunctionRegion.Any}={}){this.url=t,this.headers=e,this.region=o,this.fetch=resolveFetch$3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return __awaiter(this,arguments,void 0,function*(e,r={}){var o;let i,a;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=r;let p={},{region:g}=r;g||(g=this.region);const y=new URL(`${this.url}/${e}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let w=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const h=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:m,signal:w}).catch(B=>{throw new FunctionsFetchError(B)}),v=h.headers.get("x-relay-error");if(v&&v==="true")throw new FunctionsRelayError(h);if(!h.ok)throw new FunctionsHttpError(h);let _=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield h.json():_==="application/octet-stream"||_==="application/pdf"?S=yield h.blob():_==="text/event-stream"?S=h:_==="multipart/form-data"?S=yield h.formData():S=yield h.text(),{data:S,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof FunctionsHttpError||s instanceof FunctionsRelayError?s.context:void 0}}finally{i&&clearTimeout(i)}})}}var PostgrestError=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},PostgrestBuilder=class{constructor(n){var t,e;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(e=n.isMaybeSingle)!==null&&e!==void 0?e:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var e=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,s=null,l=null,c=i.status,d=i.statusText;if(i.ok){var f,p;if(e.method!=="HEAD"){var g;const h=await i.text();h===""||(e.headers.get("Accept")==="text/csv"||e.headers.get("Accept")&&(!((g=e.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=h:s=JSON.parse(h))}const m=(f=e.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&w&&w.length>1&&(l=parseInt(w[1])),e.isMaybeSingle&&e.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const m=await i.text();try{a=JSON.parse(m),Array.isArray(a)&&i.status===404&&(s=[],a=null,c=200,d="OK")}catch{i.status===404&&m===""?(c=204,d="No Content"):a={message:m}}if(a&&e.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&e.shouldThrowOnError)throw new PostgrestError(a)}return{error:a,data:s,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(o=o.catch(i=>{var a;let s="";const l=i==null?void 0:i.cause;if(l){var c,d,f,p;const y=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,s+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${y}`,m&&(s+=` (${m})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}},PostgrestTransformBuilder=class extends PostgrestBuilder{select(n){let t=!1;const e=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",e),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:e,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${e===void 0?"":e?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:e=t}={}){const r=typeof e>"u"?"limit":`${e}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:e,referencedTable:r=e}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(i,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:e=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const s=[n?"analyze":null,t?"verbose":null,e?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${s};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const PostgrestReservedCharsRegexp=new RegExp("[,()]");var PostgrestFilterBuilder=class extends PostgrestTransformBuilder{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const e=Array.from(new Set(t)).map(r=>typeof r=="string"&&PostgrestReservedCharsRegexp.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${e})`),this}notIn(n,t){const e=Array.from(new Set(t)).map(r=>typeof r=="string"&&PostgrestReservedCharsRegexp.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${e})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:e,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=e===void 0?"":`(${e})`;return this.url.searchParams.append(n,`${o}fts${i}.${t}`),this}match(n){return Object.entries(n).forEach(([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)}),this}not(n,t,e){return this.url.searchParams.append(n,`not.${t}.${e}`),this}or(n,{foreignTable:t,referencedTable:e=t}={}){const r=e?`${e}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,e){return this.url.searchParams.append(n,`${t}.${e}`),this}},PostgrestQueryBuilder=class{constructor(n,{headers:t={},schema:e,fetch:r}){this.url=n,this.headers=new Headers(t),this.schema=e,this.fetch=r}select(n,t){const{head:e=!1,count:r}=t??{},o=e?"HEAD":"GET";let i=!1;const a=(n??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:e=!0}={}){var r;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),e||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const i=n.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(i.length>0){const a=[...new Set(i)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:e=!1,count:r,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${e?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const s=n.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new PostgrestFilterBuilder({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(n,{count:t}={}){var e;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new PostgrestFilterBuilder({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}delete({count:n}={}){var t;const e="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new PostgrestFilterBuilder({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},PostgrestClient=class Hr{constructor(t,{headers:e={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PostgrestQueryBuilder(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Hr(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:o=!1,count:i}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let c;r||o?(s=r?"HEAD":"GET",Object.entries(e).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(s="POST",c=e);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new PostgrestFilterBuilder({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class WebSocketFactory{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const r=e.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const version$3="2.89.0",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_1_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(n){n.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,e){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;const o=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var e,r;const o=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,e,r){var o,i;const a=t.topic,s=(o=t.ref)!==null&&o!==void 0?o:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+c.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(g),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,a.length),y.setUint8(m++,c.length),y.setUint8(m++,f.length),y.setUint8(m++,e),Array.from(l,h=>y.setUint8(m++,h.charCodeAt(0))),Array.from(s,h=>y.setUint8(m++,h.charCodeAt(0))),Array.from(a,h=>y.setUint8(m++,h.charCodeAt(0))),Array.from(c,h=>y.setUint8(m++,h.charCodeAt(0))),Array.from(f,h=>y.setUint8(m++,h.charCodeAt(0)));var w=new Uint8Array(g.byteLength+r.byteLength);return w.set(new Uint8Array(g),0),w.set(new Uint8Array(r),g.byteLength),w.buffer}decode(t,e){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return e(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,i,a,s,l]=r;return e({join_ref:o,ref:i,topic:a,event:s,payload:l})}return e({})}_binaryDecode(t){const e=new DataView(t),r=e.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,o)}}_decodeUserBroadcast(t,e,r){const o=e.getUint8(1),i=e.getUint8(2),a=e.getUint8(3),s=e.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+o));l=l+o;const d=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+a));l=l+a;const p=t.slice(l,t.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(t,e){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>e.includes(r)))}}class Timer{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(n,t,e={})=>{var r;const o=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=convertColumn(a,n,t,o),i),{}):{}},convertColumn=(n,t,e,r)=>{const o=t.find(s=>s.name===n),i=o==null?void 0:o.type,a=e[n];return i&&!r.includes(i)?convertCell(i,a):noop$1(a)},convertCell=(n,t)=>{if(n.charAt(0)==="_"){const e=n.slice(1,n.length);return toArray(t,e)}switch(n){case PostgresTypes.bool:return toBoolean(t);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(t);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(t);case PostgresTypes.timestamp:return toTimestampString(t);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(t);default:return noop$1(t)}},noop$1=n=>n,toBoolean=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},toNumber=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},toJson=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},toArray=(n,t)=>{if(typeof n!="string")return n;const e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let i;const a=n.slice(1,e);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>convertCell(t,s))}return n},toTimestampString=n=>typeof n=="string"?n.replace(" ","T"):n,httpEndpointURL=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Push{constructor(t,e,r={},o=DEFAULT_TIMEOUT){this.channel=t,this.event=e,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,o,i,a),this.pendingDiffs.forEach(l=>{this.state=RealtimePresence.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=RealtimePresence.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,o){const i=this.cloneDeep(t),a=this.transformState(e),s={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const p=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),y=d.filter(w=>g.indexOf(w.presence_ref)<0),m=f.filter(w=>p.indexOf(w.presence_ref)<0);y.length>0&&(s[c]=y),m.length>0&&(l[c]=m)}else s[c]=d}),this.syncDiff(i,{joins:s,leaves:l},r,o)}static syncDiff(t,e,r,o){const{joins:i,leaves:a}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);t[s].unshift(...p)}r(s,d,l)}),this.map(a,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,o(s,c,l),c.length===0&&delete t[s]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{const o=t[r];return"metas"in o?e[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=o,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(t,e={config:{}},r){var o,i;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,h=[];for(let v=0;v<w;v++){const _=m[v],{filter:{event:S,schema:B,table:$,filter:x}}=_,G=g&&g[v];if(G&&G.event===S&&RealtimeChannel.isFilterValueEqual(G.schema,B)&&RealtimeChannel.isFilterValueEqual(G.table,$)&&RealtimeChannel.isFilterValueEqual(G.filter,x))h.push(Object.assign(Object.assign({},_),{id:G.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,t==null||t(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,t&&t(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",g=>{this.state=CHANNEL_STATES.errored,t==null||t(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this.state===CHANNEL_STATES.joined&&t===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,e,r)}async httpSend(t,e,r={}){var o;if(e==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,e={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,s,l;const c=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=CHANNEL_STATES.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Push(this,CHANNEL_EVENTS.leave,{},t),r.receive("ok",()=>{e(),o("ok")}).receive("timeout",()=>{e(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(t,e,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(i),a}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Push(this,t,e,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var o,i;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=CHANNEL_EVENTS;if(r&&[s,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(g=>{var y,m,w;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(m=g.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var y,m,w,h,v,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const S=g.id,B=(y=g.filter)===null||y===void 0?void 0:y.event;return S&&((m=e.ids)===null||m===void 0?void 0:m.includes(S))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((w=e.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(v=(h=g==null?void 0:g.filter)===null||h===void 0?void 0:h.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((_=e==null?void 0:e.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:m,table:w,commit_timestamp:h,type:v,errors:_}=y;p=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:h,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){const o=t.toLocaleLowerCase(),i={type:o,filter:e,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&RealtimeChannel.isEqual(o.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}static isFilterValueEqual(t,e){return(t??void 0)===(e??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(CHANNEL_EVENTS.close,{},t)}_onError(t){this._on(CHANNEL_EVENTS.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=convertChangeData(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=convertChangeData(t.columns,t.old_record)),e}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=e==null?void 0:e.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new RealtimeChannel(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){const{topic:e,event:r,payload:o,ref:i}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${e} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:i,ref:a}=e,s=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${o} ${s}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(o,i,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===SOCKET_STATES.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(CHANNEL_EVENTS.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${t}${r}${o}`}_workerObjectUrl(t){let e;if(t)e=t;else{const r=new Blob([WORKER_SCRIPT],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e,r=!1;if(t)e=t,r=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(o=>{const i={access_token:e,version:DEFAULT_VERSION};e&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(CHANNEL_EVENTS.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(e=>{this.log("error",`Error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,r,o,i,a,s,l,c,d,f,p,g;switch(this.transport=(e=t==null?void 0:t.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:noop,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:DEFAULT_VSN,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:y=>RECONNECT_INTERVALS[y-1]||DEFAULT_RECONNECT_FALLBACK,this.vsn){case VSN_1_0_0:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case VSN_2_0_0:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var IcebergError=class extends Error{constructor(n,t){var e;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((e=t.icebergType)==null?void 0:e.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function buildUrl(n,t,e){const r=new URL(t,n);if(e)for(const[o,i]of Object.entries(e))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function buildAuthHeaders(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function createFetchClient(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:e,path:r,query:o,body:i,headers:a}){const s=buildUrl(n.baseUrl,r,o),l=await buildAuthHeaders(n.auth),c=await t(s,{method:e,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),p=f&&d?JSON.parse(d):d;if(!c.ok){const g=f?p:void 0,y=g==null?void 0:g.error;throw new IcebergError((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:c.status,headers:c.headers,data:p}}}}function namespaceToPath(n){return n.join("")}var NamespaceOperations=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:namespaceToPath(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const e={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath(n.namespace)}`}),!0}catch(t){if(t instanceof IcebergError&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(e){if(e instanceof IcebergError&&e.status===409)return;throw e}}};function namespaceToPath2(n){return n.join("")}var TableOperations=class{constructor(n,t="",e){this.client=n,this.prefix=t,this.accessDelegation=e}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(n.namespace)}/tables`,body:t,headers:e})).data.metadata}async updateTable(n,t){const e=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath2(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath2(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(e){if(e instanceof IcebergError&&e.status===404)return!1;throw e}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(e){if(e instanceof IcebergError&&e.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw e}}},IcebergRestCatalog=class{constructor(n){var r;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const e=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=createFetchClient({baseUrl:e,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new NamespaceOperations(this.client,t),this.tableOps=new TableOperations(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},StorageError=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function isStorageError(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var StorageApiError=class extends StorageError{constructor(n,t,e){super(n),this.name="StorageApiError",this.status=t,this.statusCode=e}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageUnknownError=class extends StorageError{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const resolveFetch$1$1=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),resolveResponse$1=()=>Response,recursiveToCamel=n=>{if(Array.isArray(n))return n.map(e=>recursiveToCamel(e));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,r])=>{const o=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=recursiveToCamel(r)}),t},isPlainObject$1=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},isValidBucketName=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function _typeof$1(n){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(n)}function toPrimitive$1(n,t){if(_typeof$1(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(_typeof$1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function toPropertyKey$1(n){var t=toPrimitive$1(n,"string");return _typeof$1(t)=="symbol"?t:t+""}function _defineProperty$1(n,t,e){return(t=toPropertyKey$1(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ownKeys$1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function _objectSpread2$1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(e),!0).forEach(function(r){_defineProperty$1(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys$1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const _getErrorMessage$1=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},handleError$1=async(n,t,e)=>{n instanceof await resolveResponse$1()&&!(e!=null&&e.noResolveJson)?n.json().then(r=>{const o=n.status||500,i=(r==null?void 0:r.statusCode)||o+"";t(new StorageApiError(_getErrorMessage$1(r),o,i))}).catch(r=>{t(new StorageUnknownError(_getErrorMessage$1(r),r))}):t(new StorageUnknownError(_getErrorMessage$1(n),n))},_getRequestParams$1=(n,t,e,r)=>{const o={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!r?o:(isPlainObject$1(r)?(o.headers=_objectSpread2$1({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),_objectSpread2$1(_objectSpread2$1({},o),e))};async function _handleRequest$1(n,t,e,r,o,i){return new Promise((a,s)=>{n(e,_getRequestParams$1(t,r,o,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>handleError$1(l,s,r))})}async function get(n,t,e,r){return _handleRequest$1(n,"GET",t,e,r)}async function post$1(n,t,e,r,o){return _handleRequest$1(n,"POST",t,r,o,e)}async function put(n,t,e,r,o){return _handleRequest$1(n,"PUT",t,r,o,e)}async function head(n,t,e,r){return _handleRequest$1(n,"HEAD",t,_objectSpread2$1(_objectSpread2$1({},e),{},{noResolveJson:!0}),r)}async function remove(n,t,e,r,o){return _handleRequest$1(n,"DELETE",t,r,o,e)}var StreamDownloadBuilder=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}}};let _Symbol$toStringTag;_Symbol$toStringTag=Symbol.toStringTag;var BlobDownloadBuilder=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[_Symbol$toStringTag]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}}};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var StorageFileApi=class{constructor(n,t={},e,r){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=e,this.fetch=resolveFetch$1$1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,e,r){var o=this;try{let i;const a=_objectSpread2$1(_objectSpread2$1({},DEFAULT_FILE_OPTIONS),r);let s=_objectSpread2$1(_objectSpread2$1({},o.headers),n==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&e instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",o.encodeMetadata(l)),i.append("",e)):typeof FormData<"u"&&e instanceof FormData?(i=e,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(l))):(i=e,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=o.toBase64(o.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=_objectSpread2$1(_objectSpread2$1({},s),r.headers));const c=o._removeEmptyFolders(t),d=o._getFinalPath(c),f=await(n=="PUT"?put:post$1)(o.fetch,`${o.url}/object/${d}`,i,_objectSpread2$1({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}async upload(n,t,e){return this.uploadOrUpdate("POST",n,t,e)}async uploadToSignedUrl(n,t,e,r){var o=this;const i=o._removeEmptyFolders(n),a=o._getFinalPath(i),s=new URL(o.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let l;const c=_objectSpread2$1({upsert:DEFAULT_FILE_OPTIONS.upsert},r),d=_objectSpread2$1(_objectSpread2$1({},o.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&e instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",e)):typeof FormData<"u"&&e instanceof FormData?(l=e,l.append("cacheControl",c.cacheControl)):(l=e,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await put(o.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(isStorageError(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(n,t){var e=this;try{let r=e._getFinalPath(n);const o=_objectSpread2$1({},e.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const i=await post$1(e.fetch,`${e.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(e.url+i.url),s=a.searchParams.get("token");if(!s)throw new StorageError("No token returned by API");return{data:{signedUrl:a.toString(),path:n,token:s},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async update(n,t,e){return this.uploadOrUpdate("PUT",n,t,e)}async move(n,t,e){var r=this;try{return{data:await post$1(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:e==null?void 0:e.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async copy(n,t,e){var r=this;try{return{data:{path:(await post$1(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:e==null?void 0:e.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async createSignedUrl(n,t,e){var r=this;try{let o=r._getFinalPath(n),i=await post$1(r.fetch,`${r.url}/object/sign/${o}`,_objectSpread2$1({expiresIn:t},e!=null&&e.transform?{transform:e.transform}:{}),{headers:r.headers});const a=e!=null&&e.download?`&download=${e.download===!0?"":e.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async createSignedUrls(n,t,e){var r=this;try{const o=await post$1(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:n},{headers:r.headers}),i=e!=null&&e.download?`&download=${e.download===!0?"":e.download}`:"";return{data:o.map(a=>_objectSpread2$1(_objectSpread2$1({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}download(n,t){const e=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=r?`?${r}`:"",i=this._getFinalPath(n),a=()=>get(this.fetch,`${this.url}/${e}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(a,this.shouldThrowOnError)}async info(n){var t=this;const e=t._getFinalPath(n);try{return{data:recursiveToCamel(await get(t.fetch,`${t.url}/object/info/${e}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async exists(n){var t=this;const e=t._getFinalPath(n);try{return await head(t.fetch,`${t.url}/object/${e}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(isStorageError(r)&&r instanceof StorageUnknownError){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,t){const e=this._getFinalPath(n),r=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${e}${s}`)}}}async remove(n){var t=this;try{return{data:await remove(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}async list(n,t,e){var r=this;try{const o=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},DEFAULT_SEARCH_OPTIONS),t),{},{prefix:n||""});return{data:await post$1(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},e),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async listV2(n,t){var e=this;try{const r=_objectSpread2$1({},n);return{data:await post$1(e.fetch,`${e.url}/object/list-v2/${e.bucketId}`,r,{headers:e.headers},t),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const version$2="2.89.0",DEFAULT_HEADERS$1$1={"X-Client-Info":`storage-js/${version$2}`};var StorageBucketApi=class{constructor(n,t={},e,r){this.shouldThrowOnError=!1;const o=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),t),this.fetch=resolveFetch$1$1(e)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const e=t.listBucketOptionsToQueryString(n);return{data:await get(t.fetch,`${t.url}/bucket${e}`,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}async getBucket(n){var t=this;try{return{data:await get(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}async createBucket(n,t={public:!1}){var e=this;try{return{data:await post$1(e.fetch,`${e.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async updateBucket(n,t){var e=this;try{return{data:await put(e.fetch,`${e.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async emptyBucket(n){var t=this;try{return{data:await post$1(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}async deleteBucket(n){var t=this;try{return{data:await remove(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},StorageAnalyticsClient=class{constructor(n,t={},e){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),t),this.fetch=resolveFetch$1$1(e)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await post$1(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}async listBuckets(n){var t=this;try{const e=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&e.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&e.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&e.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&e.set("sortOrder",n.sortOrder),n!=null&&n.search&&e.set("search",n.search);const r=e.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await get(t.fetch,o,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}async deleteBucket(n){var t=this;try{return{data:await remove(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}from(n){var t=this;if(!isValidBucketName(n))throw new StorageError("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const e=new IcebergRestCatalog({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(e,{get(o,i){const a=o[i];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(o,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};var StorageVectorsError=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function isStorageVectorsError(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var StorageVectorsApiError=class extends StorageVectorsError{constructor(n,t,e){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=e}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageVectorsUnknownError=class extends StorageVectorsError{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const resolveFetch$2=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),isPlainObject=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_getErrorMessage$2=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),handleError$2=async(n,t,e)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(e!=null&&e.noResolveJson)){const r=n.status||500,o=n;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new StorageVectorsApiError(_getErrorMessage$2(i),r,a))}).catch(()=>{const i=r+"";t(new StorageVectorsApiError(o.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new StorageVectorsApiError(o.statusText||`HTTP ${r} error`,r,i))}}else t(new StorageVectorsUnknownError(_getErrorMessage$2(n),n))},_getRequestParams$2=(n,t,e,r)=>{const o={method:n,headers:(t==null?void 0:t.headers)||{}};return r?(isPlainObject(r)?(o.headers=_objectSpread2$1({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,_objectSpread2$1(_objectSpread2$1({},o),e)):o};async function _handleRequest$2(n,t,e,r,o,i){return new Promise((a,s)=>{n(e,_getRequestParams$2(t,r,o,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>handleError$2(l,s,r))})}async function post(n,t,e,r,o){return _handleRequest$2(n,"POST",t,r,o,e)}var VectorIndexApi=class{constructor(n,t={},e){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),t),this.fetch=resolveFetch$2(e)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async getIndex(n,t){var e=this;try{return{data:await post(e.fetch,`${e.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(isStorageVectorsError(r))return{data:null,error:r};throw r}}async listIndexes(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async deleteIndex(n,t){var e=this;try{return{data:await post(e.fetch,`${e.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(isStorageVectorsError(r))return{data:null,error:r};throw r}}},VectorDataApi=class{constructor(n,t={},e){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),t),this.fetch=resolveFetch$2(e)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async getVectors(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async queryVectors(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}},VectorBucketApi=class{constructor(n,t={},e){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),t),this.fetch=resolveFetch$2(e)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async getBucket(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async listBuckets(n={}){var t=this;try{return{data:await post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}async deleteBucket(n){var t=this;try{return{data:await post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageVectorsError(e))return{data:null,error:e};throw e}}},StorageVectorsClient=class extends VectorBucketApi{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new VectorBucketScope(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,e=this;return t().call(e,n)}async getBucket(n){var t=()=>super.getBucket,e=this;return t().call(e,n)}async listBuckets(n={}){var t=()=>super.listBuckets,e=this;return t().call(e,n)}async deleteBucket(n){var t=()=>super.deleteBucket,e=this;return t().call(e,n)}},VectorBucketScope=class extends VectorIndexApi{constructor(n,t,e,r){super(n,t,r),this.vectorBucketName=e}async createIndex(n){var t=()=>super.createIndex,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,e=this;return t().call(e,e.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,e=this;return t().call(e,e.vectorBucketName,n)}index(n){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},VectorIndexScope=class extends VectorDataApi{constructor(n,t,e,r,o){super(n,t,o),this.vectorBucketName=e,this.indexName=r}async putVectors(n){var t=()=>super.putVectors,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName,indexName:e.indexName}))}async getVectors(n){var t=()=>super.getVectors,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName,indexName:e.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName,indexName:e.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName,indexName:e.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,e=this;return t().call(e,_objectSpread2$1(_objectSpread2$1({},n),{},{vectorBucketName:e.vectorBucketName,indexName:e.indexName}))}},StorageClient=class extends StorageBucketApi{constructor(n,t={},e,r){super(n,t,e,r)}from(n){return new StorageFileApi(this.url,this.headers,n,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsClient(this.url+"/iceberg",this.headers,this.fetch)}};const version$1="2.89.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS$1={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}}function isAuthError(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class AuthApiError extends AuthError{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}}function isAuthApiError(n){return isAuthError(n)&&n.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class CustomAuthError extends AuthError{constructor(t,e,r,o){super(t,r,o),this.name=e,this.status=r}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(n){return isAuthError(n)&&n.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(n){return isAuthError(n)&&n.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCECodeVerifierMissingError extends CustomAuthError{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AuthRetryableFetchError extends CustomAuthError{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function isAuthRetryableFetchError(n){return isAuthError(n)&&n.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}}class AuthInvalidJwtError extends CustomAuthError{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<IGNORE_BASE64URL.length;t+=1)n[IGNORE_BASE64URL[t].charCodeAt(0)]=-2;for(let t=0;t<TO_BASE64URL.length;t+=1)n[TO_BASE64URL[t].charCodeAt(0)]=t;return n})();function byteToBase64URL(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;e(TO_BASE64URL[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;e(TO_BASE64URL[r]),t.queuedBits-=6}}function byteFromBase64URL(n,t,e){const r=FROM_BASE64URL[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function stringFromBase64URL(n){const t=[],e=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{stringFromUTF8(a,r,e)};for(let a=0;a<n.length;a+=1)byteFromBase64URL(n.charCodeAt(a),o,i);return t.join("")}function codepointToUTF8(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function stringToUTF8(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}codepointToUTF8(r,t)}}function stringFromUTF8(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function base64UrlToUint8Array(n){const t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)byteFromBase64URL(n.charCodeAt(o),e,r);return new Uint8Array(t)}function stringToUint8Array(n){const t=[];return stringToUTF8(n,e=>t.push(e)),new Uint8Array(t)}function bytesToBase64URL(n){const t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>byteToBase64URL(o,e,r)),byteToBase64URL(null,e,r),t.join("")}function expiresAt(n){return Math.round(Date.now()/1e3)+n}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(n){const t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return e.searchParams.forEach((r,o)=>{t[o]=r}),t}const resolveFetch$1=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),looksLikeFetchResponse=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",setItemAsync=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},getItemAsync=async(n,t)=>{const e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},removeItemAsync=async(n,t)=>{await n.removeItem(t)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Deferred.promiseConstructor=Promise;function decodeJWT(n){const t=n.split(".");if(t.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!BASE64URL_REGEX.test(t[r]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(t[0])),payload:JSON.parse(stringFromBase64URL(t[1])),signature:base64UrlToUint8Array(t[2]),raw:{header:t[0],payload:t[1]}}}async function sleep(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function retryable(n,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await n(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){o(a);return}}})()})}function dec2hex(n){return("0"+n.toString(16)).substr(-2)}function generatePKCEVerifier(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length;let o="";for(let i=0;i<56;i++)o+=e.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,dec2hex).join("")}async function sha256(n){const e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function generatePKCEChallenge(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=await sha256(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(n,t,e=!1){const r=generatePKCEVerifier();let o=r;e&&(o+="/PASSWORD_RECOVERY"),await setItemAsync(n,`${t}-code-verifier`,o);const i=await generatePKCEChallenge(r);return[i,r===i?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(n){const t=n.headers.get(API_VERSION_HEADER_NAME);if(!t||!t.match(API_VERSION_REGEX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function validateExp(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function getAlgorithm(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(n){if(!UUID_REGEX.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(n,t){return new Proxy(n,{get:(e,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,o)}})}function deepClone(n){return JSON.parse(JSON.stringify(n))}const _getErrorMessage=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),NETWORK_ERROR_CODES=[502,503,504];async function handleError(n){var t;if(!looksLikeFetchResponse(n))throw new AuthRetryableFetchError(_getErrorMessage(n),0);if(NETWORK_ERROR_CODES.includes(n.status))throw new AuthRetryableFetchError(_getErrorMessage(n),n.status);let e;try{e=await n.json()}catch(i){throw new AuthUnknownError(_getErrorMessage(i),i)}let r;const o=parseResponseAPIVersion(n);if(o&&o.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new AuthSessionMissingError}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(e),n.status,e.weak_password.reasons);throw new AuthApiError(_getErrorMessage(e),n.status||500,r)}const _getRequestParams=(n,t,e,r)=>{const o={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),e))};async function _request(n,t,e,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[API_VERSION_HEADER_NAME]||(i[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await _handleRequest(n,t,e+s,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function _handleRequest(n,t,e,r,o,i){const a=_getRequestParams(t,r,o,i);let s;try{s=await n(e,Object.assign({},a))}catch(l){throw console.error(l),new AuthRetryableFetchError(_getErrorMessage(l),0)}if(s.ok||await handleError(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await handleError(l)}}function _sessionResponse(n){var t;let e=null;hasSession(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=expiresAt(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function _sessionResponsePassword(n){const t=_sessionResponse(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function _userResponse(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function _ssoResponse(n){return{data:n,error:null}}function _generateLinkResponse(n){const{action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i}=n,a=__rest(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function _noResolveJsonResponse(n){return n}function hasSession(n){return n.access_token&&n.refresh_token&&n.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=resolveFetch$1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,e=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:_userResponse})}catch(r){if(isAuthError(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:e}=t,r=__rest(t,["options"]),o=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_generateLinkResponse,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(isAuthError(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,o,i,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:_noResolveJsonResponse});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(isAuthError(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){validateUUID(t);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){validateUUID(t);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:_userResponse})}catch(r){if(isAuthError(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){validateUUID(t);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:_userResponse})}catch(r){if(isAuthError(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){validateUUID(t.userId);try{const{data:e,error:r}=await _request(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:r}}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _deleteFactor(t){validateUUID(t.userId),validateUUID(t.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _listOAuthClients(t){var e,r,o,i,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:_noResolveJsonResponse});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(isAuthError(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _getOAuthClient(t){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _updateOAuthClient(t,e){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}}function memoryLocalStorageAdapter(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(n,t,e){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await e()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(internals.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function fromHex(n){return parseInt(n,16)}function toHex(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function createSiweMessage(n){var t;const{chainId:e,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:p}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const g=getAddress(n.address),y=d?`${d}://${r}`:r,m=n.statement?`${n.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${g}

${m}`;let h=`URI: ${f}
Version: ${p}
Chain ID: ${e}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(h+=`
Expiration Time: ${o.toISOString()}`),s&&(h+=`
Not Before: ${s.toISOString()}`),l&&(h+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}h+=v}return`${w}
${h}`}class WebAuthnError extends Error{constructor({message:t,code:e,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=e}}class WebAuthnUnknownError extends WebAuthnError{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}function identifyRegistrationError({error:n,options:t}){var e,r,o;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=i.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new WebAuthnError({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(isValidDomain(a)){if(i.rp.id!==a)return new WebAuthnError({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function identifyAuthenticationError({error:n,options:t}){const{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new WebAuthnError({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(isValidDomain(r)){if(e.rpId!==r)return new WebAuthnError({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:e,excludeCredentials:r}=n,o=__rest(n,["challenge","user","excludeCredentials"]),i=base64UrlToUint8Array(t).buffer,a=Object.assign(Object.assign({},e),{id:base64UrlToUint8Array(e.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:base64UrlToUint8Array(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function deserializeCredentialRequestOptions(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:e}=n,r=__rest(n,["challenge","allowCredentials"]),o=base64UrlToUint8Array(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(e&&e.length>0){i.allowCredentials=new Array(e.length);for(let a=0;a<e.length;a++){const s=e[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:base64UrlToUint8Array(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function serializeCredentialCreationResponse(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const e=n;return{id:n.id,rawId:n.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(n.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function serializeCredentialRequestResponse(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const e=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(o.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(o.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(o.signature)),userHandle:o.userHandle?bytesToBase64URL(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function isValidDomain(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function browserSupportsWebAuthn(){var n,t;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function createCredential(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",t)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",t)}}catch(t){return{data:null,error:identifyRegistrationError({error:t,options:n})}}}async function getCredential(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",t)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",t)}}catch(t){return{data:null,error:identifyAuthenticationError({error:t,options:n})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),e=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const i in o){const a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(e(a))r[i]=a;else if(t(a)){const s=r[i];t(s)?r[i]=deepMerge(s,a):r[i]=deepMerge(a)}else r[i]=a}return r}function mergeCredentialCreationOptions(n,t){return deepMerge(DEFAULT_CREATION_OPTIONS,n,t||{})}function mergeCredentialRequestOptions(n,t){return deepMerge(DEFAULT_REQUEST_OPTIONS,n,t||{})}class WebAuthnApi{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:e,friendlyName:r,signal:o},i){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:e});if(!a)return{data:null,error:s};const l=o??webAuthnAbortService.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=mergeCredentialCreationOptions(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await createCredential({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=mergeCredentialRequestOptions(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await getCredential(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return isAuthError(a)?{data:null,error:a}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!e)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:o},{request:i});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:e,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return isAuthError(a)?{data:null,error:a}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!e)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:o},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:e,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return isAuthError(a)?{data:null,error:a}:{data:null,error:new AuthUnknownError("Unexpected error in register",a)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS$1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lockNoOp(n,t,e){return await e()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var t,e;return(e=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:t})}constructor(t){var e,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},DEFAULT_OPTIONS),t);if(this.storageKey=i.storageKey,this.instanceID=(e=GoTrueClient.nextInstanceID[this.storageKey])!==null&&e!==void 0?e:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&isBrowser()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GoTrueAdminApi({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=resolveFetch$1(i.fetch),this.lock=i.lock||lockNoOp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&isBrowser()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version$1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let e={},r="none";if(isBrowser()&&(e=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(e)?r="implicit":await this._isPKCECallback(e)&&(r="pkce")),isBrowser()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(e,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),isAuthImplicitGrantRedirectError(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:s}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return isAuthError(e)?this._returnResult({error:e}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,r,o;try{const i=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:_sessionResponse}),{data:a,error:s}=i;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(isAuthError(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var e,r,o;try{let i;if("email"in t){const{email:d,password:f,options:p}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),i=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(e=p==null?void 0:p.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:_sessionResponse})}else if("phone"in t){const{phone:d,password:f,options:p}=t;i=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(o=p==null?void 0:p.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:a,error:s}=i;if(s||!a)return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let e;if("email"in t){const{email:i,password:a,options:s}=t;e=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in t){const{phone:i,password:a,options:s}=t;e=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:r,error:o}=e;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const i=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(e){if(isAuthError(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(t){var e,r,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;switch(e){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}}async signInWithEthereum(t){var e,r,o,i,a,s,l,c,d,f,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:m,wallet:w,statement:h,options:v}=t;let _;if(isBrowser())if(typeof w=="object")_=w;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")_=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((e=v==null?void 0:v.url)!==null&&e!==void 0?e:window.location.href),B=await _.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=getAddress(B[0]);let x=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!x){const te=await _.request({method:"eth_chainId"});x=fromHex(te)}const G={domain:S.host,address:$,statement:h,uri:S.href,version:"1",chainId:x,nonce:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=createSiweMessage(G),y=await _.request({method:"personal_sign",params:[toHex(g),$]})}try{const{data:m,error:w}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_sessionResponse});if(w)throw w;if(!m||!m.session||!m.user){const h=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:h})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(isAuthError(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var e,r,o,i,a,s,l,c,d,f,p,g;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:w,wallet:h,statement:v,options:_}=t;let S;if(isBrowser())if(typeof h=="object")S=h;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))S=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=h}const B=new URL((e=_==null?void 0:_.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in S&&S.signIn){const $=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),v?{statement:v}:null));let x;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")x=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)x=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)y=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),m=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${B.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const $=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=$}}try{const{data:w,error:h}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:bytesToBase64URL(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:_sessionResponse});if(h)throw h;if(!w||!w.session||!w.user){const v=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:h})}catch(w){if(isAuthError(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const e=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(e??"").split("/");try{if(!r&&this.flowType==="pkce")throw new AuthPKCECodeVerifierMissingError;const{data:i,error:a}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const s=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:a})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:e,provider:r,token:o,access_token:i,nonce:a}=t,s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:_sessionResponse}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(e){if(isAuthError(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(t){var e,r,o,i,a;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:f}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(e=l==null?void 0:l.data)!==null&&e!==void 0?e:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(s){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var e,r;try{let o,i;"options"in t&&(o=(e=t.options)===null||e===void 0?void 0:e.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:_sessionResponse});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var e,r,o,i,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const c=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:_ssoResponse});return!((i=c.data)===null||i===void 0)&&i.url&&isBrowser()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new AuthSessionMissingError;const{error:o}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(isAuthError(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:i}=t,{error:a}=await _request(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:o,options:i}=t,{data:a,error:s}=await _request(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(e){if(isAuthError(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await e()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=e();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await getItemAsync(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=userNotAvailableProxy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=insecureUserWarningProxy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const e=await this._acquireLock(-1,async()=>await this._getUser());return e.data.user&&(this.suppressGetSessionWarning=!0),e}async _getUser(t){try{return t?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_userResponse}):await this._useSession(async e=>{var r,o,i;const{data:a,error:s}=e;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:_userResponse})})}catch(e){if(isAuthError(e))return isAuthSessionMissingError(e)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new AuthSessionMissingError;const a=o.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:c,error:d}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:_userResponse});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new AuthSessionMissingError;const e=Date.now()/1e3;let r=e,o=!0,i=null;const{payload:a}=decodeJWT(t.access_token);if(a.exp&&(r=a.exp,o=r<=e),o){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-e,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(isAuthError(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var r;if(!t){const{data:a,error:s}=e;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new AuthSessionMissingError;const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(isAuthError(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(t,e){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(t.error||t.error_description||t.error_code)throw new AuthImplicitGrantRedirectError(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=t;if(!i||!s||!a||!c)throw new AuthImplicitGrantRedirectError("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let p=d+f;l&&(p=parseInt(l));const g=p-d;g*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=p-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const h={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:f,expires_at:p,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:h,redirectType:t.type},error:null})}catch(r){if(isAuthError(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var r;const{data:o,error:i}=e;if(i)return this._returnResult({error:i});const a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(isAuthApiError(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const e=generateCallbackId(),r={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async e=>{var r,o;try{const{data:{session:i},error:a}=e;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,e={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:e,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var e;try{const{data:r,error:o}=await this._useSession(async i=>{var a,s,l,c,d;const{data:f,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return isBrowser()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(isAuthError(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async e=>{var r;try{const{error:o,data:{session:i}}=e;if(o)throw o;const{options:a,provider:s,token:l,access_token:c,nonce:d}=t,f=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_sessionResponse}),{data:p,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(o){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async e=>{var r,o;const{data:i,error:a}=e;if(a)throw a;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const r=Date.now();return await retryable(async o=>(o>0&&await sleep(200*Math.pow(2,o-1)),this._debug(e,"refreshing attempt",o),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_sessionResponse})),(o,i)=>{const a=200*Math.pow(2,o);return i&&isAuthRetryableFetchError(i)&&Date.now()+a-r<AUTO_REFRESH_TICK_DURATION_MS})}catch(r){if(this._debug(e,"error",r),isAuthError(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",r),isBrowser()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await getItemAsync(this.storage,this.storageKey);if(o&&this.userStorage){let a=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await setItemAsync(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:userNotAvailableProxy()}else if(o&&!o.user&&!o.user){const a=await getItemAsync(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(o.user=a.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,o)):o.user=userNotAvailableProxy()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const i=((e=o.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),isAuthRetryableFetchError(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(o.access_token);!s&&(a!=null&&a.user)?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var e,r;if(!t)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Deferred;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new AuthSessionMissingError;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(o,"error",i),isAuthError(i)){const a={data:null,error:i};return isAuthRetryableFetchError(i)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,e,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,e)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`);const e=Object.assign({},t),r=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&e.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:e.user});const o=Object.assign({},e);delete o.user;const i=deepClone(o);await setItemAsync(this.storage,this.storageKey,i)}else{const o=deepClone(e);await setItemAsync(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),o<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,r){const o=[`provider=${encodeURIComponent(e)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await getCodeChallengeAndMethod(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(s.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var r;const{data:o,error:i}=e;return i?this._returnResult({data:null,error:i}):await _request(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(t){try{return await this._useSession(async e=>{var r,o;const{data:i,error:a}=e;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var r;const{data:o,error:i}=e;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?serializeCredentialCreationResponse(t.webauthn.credential_response):serializeCredentialRequestResponse(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var r;const{data:o,error:i}=e;if(i)return this._returnResult({data:null,error:i});const a=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(t){const{data:e,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){var t;const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=e==null?void 0:e.factors)!==null&&t!==void 0?t:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,e;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=decodeJWT(r.access_token);let a=null;i.aal&&(a=i.aal);let s=a;((e=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&e!==void 0?e:[]).length>0&&(s="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;return o?this._returnResult({data:null,error:o}):r?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(t,e){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new AuthSessionMissingError});const a=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&isBrowser()&&!(e!=null&&e.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(isAuthError(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,e){try{return await this._useSession(async r=>{const{data:{session:o},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new AuthSessionMissingError});const a=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&isBrowser()&&!(e!=null&&e.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(isAuthError(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:e},error:r}=t;return r?this._returnResult({data:null,error:r}):e?await _request(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:e.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(t){if(isAuthError(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;return o?this._returnResult({data:null,error:o}):r?(await _request(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(t,e={keys:[]}){let r=e.keys.find(s=>s.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+JWKS_TTL>o)return r;const{data:i,error:a}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,r=i.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,e={}){try{let r=t;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});r=g.session.access_token}const{header:o,payload:i,signature:a,raw:{header:s,payload:l}}=decodeJWT(r);e!=null&&e.allowExpired||validateExp(i.exp);const c=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,e!=null&&e.keys?{keys:e.keys}:e==null?void 0:e.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:o,signature:a},error:null}}const d=getAlgorithm(o.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,stringToUint8Array(`${s}.${l}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:i,header:o,signature:a},error:null}}catch(r){if(isAuthError(r))return this._returnResult({data:null,error:r});throw r}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient,version="2.89.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${JS_ENV}/${version}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};function _typeof(n){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(n)}function toPrimitive(n,t){if(_typeof(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(_typeof(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function toPropertyKey(n){var t=toPrimitive(n,"string");return _typeof(t)=="symbol"?t:t+""}function _defineProperty(n,t,e){return(t=toPropertyKey(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ownKeys(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function _objectSpread2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(e),!0).forEach(function(r){_defineProperty(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const resolveFetch=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(n,t,e)=>{const r=resolveFetch(e),o=resolveHeadersConstructor();return async(i,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:n;let c=new o(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,_objectSpread2(_objectSpread2({},a),{},{headers:c}))}};function ensureTrailingSlash(n){return n.endsWith("/")?n:n+"/"}function applySettingDefaults(n,t){var e,r;const{db:o,auth:i,realtime:a,global:s}=n,{db:l,auth:c,realtime:d,global:f}=t,p={db:_objectSpread2(_objectSpread2({},l),o),auth:_objectSpread2(_objectSpread2({},c),i),realtime:_objectSpread2(_objectSpread2({},d),a),storage:{},global:_objectSpread2(_objectSpread2(_objectSpread2({},f),s),{},{headers:_objectSpread2(_objectSpread2({},(e=f==null?void 0:f.headers)!==null&&e!==void 0?e:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function validateSupabaseUrl(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SupabaseAuthClient=class extends AuthClient{constructor(n){super(n)}},SupabaseClient=class{constructor(n,t,e){var r,o;this.supabaseUrl=n,this.supabaseKey=t;const i=validateSupabaseUrl(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,s={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:_objectSpread2(_objectSpread2({},DEFAULT_AUTH_OPTIONS),{},{storageKey:a}),global:DEFAULT_GLOBAL_OPTIONS},l=applySettingDefaults(e??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=l.global.headers)!==null&&o!==void 0?o:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=fetchWithAuth(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(_objectSpread2({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new PostgrestClient(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,e==null?void 0:e.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},e={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,e)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,e;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:e,storage:r,userStorage:o,storageKey:i,flowType:a,lock:s,debug:l,throwOnError:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:_objectSpread2(_objectSpread2({},p),d),storageKey:i,autoRefreshToken:n,persistSession:t,detectSessionInUrl:e,storage:r,userStorage:o,flowType:a,lock:s,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new RealtimeClient(this.realtimeUrl.href,_objectSpread2(_objectSpread2({},n),{},{params:_objectSpread2(_objectSpread2({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,e){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==e?(this.changedAccessToken=e,this.realtime.setAuth(e)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const createClient=(n,t,e)=>new SupabaseClient(n,t,e);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");eruda.init();class App{constructor(){this.game=null,this.renderer=null,this.input=null,this.ui=null,this.network=null,this.supabase=null,this.running=!1,this.lastTimestamp=0,this.animationFrameId=null}async init(){this.supabase=createClient("https://chyfuhzlevqcsfnqqali.supabase.co/","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNoeWZ1aHpsZXZxY3NmbnFxYWxpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNDk1NjUsImV4cCI6MjA4MTYyNTU2NX0.T3TCcDUwzEgBzxw70UGnUUCDeSs2J8BSYpq85qYtRM8");const{data:t,error:e}=await this.supabase.auth.signInAnonymously();if(e){console.error("Failed to sign in anonymously:",e);return}this.network=new Network,this.network.initialize(this.supabase,t.user.id),this.ui=new UI,this.ui.init(),this.setupLobbyHandlers()}setupLobbyHandlers(){const t=document.getElementById("host-game-btn"),e=document.getElementById("join-game-btn");t&&t.addEventListener("click",()=>this.hostGame()),e&&e.addEventListener("click",()=>this.joinGame())}showLobbyError(t){const e=document.getElementById("lobby-error");e&&(e.textContent=t,e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},5e3))}hideLobbyError(){const t=document.getElementById("lobby-error");t&&t.classList.add("hidden")}async hostGame(){console.log("Hosting game..."),this.hideLobbyError();try{const t=`Host-${Math.random().toString(36).substr(2,5)}`,{session:e}=await this.network.hostGame(t);this.ui.showJoinCode(e.join_code),this.network.startPositionBroadcasting(),this.startGame()}catch(t){console.error("Failed to host game:",t),this.showLobbyError(`Error hosting game: ${t.message}`)}}async joinGame(){const t=document.getElementById("join-code-input"),e=t==null?void 0:t.value.trim().toUpperCase();if(this.hideLobbyError(),!e){this.showLobbyError("Please enter a join code");return}if(!/^[A-Z0-9]{6}$/.test(e)){this.showLobbyError("Please enter a valid 6-character join code");return}console.log("Joining game with code:",e);try{const r=`Player-${Math.random().toString(36).substr(2,5)}`;await this.network.joinGame(e,r),this.startGame()}catch(r){console.error("Failed to join game:",r),this.showLobbyError(`Error joining game: ${r.message}`)}}startGame(){console.log("Starting game..."),this.ui.showScreen("game");const t=document.getElementById("game-canvas");if(!t){console.error("Canvas element not found");return}this.renderer=new Renderer(t),this.game=new Game,this.input=new Input,this.renderer.init(),this.game.init(),this.input.init(e=>{this.game&&this.game.handleInput(e)}),this.running=!0,this.lastTimestamp=performance.now(),this.animationFrameId=requestAnimationFrame(e=>this.gameLoop(e))}gameLoop(t){if(!this.running)return;const e=(t-this.lastTimestamp)/1e3;this.lastTimestamp=t,this.game.update(e),this.renderer.render(this.game.getState()),this.animationFrameId=requestAnimationFrame(r=>this.gameLoop(r))}stopGame(){this.running=!1,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.input&&this.input.destroy(),this.network&&(this.network.stopPositionBroadcasting(),this.network.disconnect())}}document.addEventListener("DOMContentLoaded",async()=>{await new App().init()});
